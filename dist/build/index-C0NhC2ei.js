const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ListView-BKc5qhEv.js","strapi-BMhL2YP9.js","strapi-D6821bIJ.css","sortable.esm-C7KL7h2E.js","index-BqNSGKys.js","groupBy-COwvvFrH.js","_baseEach-Cfdw9fcg.js","sortBy-C5HlmAxz.js","_baseMap-UO8CIAFJ.js","index-Banm3DpJ.js","index-BRVyLNfZ.js"])))=>i.map(i=>d[i]);
import{r as W,b as Sv,j as m,$ as Me,f as Ee,q as Ev,T as Fe,l as vt,L as bd,dH as KE,cX as Ri,db as YE,bB as xd,fY as _d,hg as Bi,da as XE,I as pr,k as wd,hh as Vn,bU as gi,hi as QE,cH as Kr,bX as eT,cz as fn,D as gt,w as Sa,hj as _s,hk as Tv,a as mt,hl as Av,di as tT,hm as nT,fN as rT,hn as Iv,dk as iT,dl as aT,dm as oT,dh as sT,bV as dl,aX as Gr,H as dr,gX as xa,gD as Ls,cr as fo,b8 as Di,fq as Bs,cq as jv,bw as kd,bE as pl,fz as lT,a3 as Rv,E as Ov,cW as cT,ho as zv,hp as Fv,cC as An,el as uT,aJ as ui,bK as Cd,ct as fl,hq as Mv,dZ as Nv,h0 as dT,hr as Sd,hs as di,a6 as ws,e7 as pT,bi as fT,b7 as Ni,cJ as si,bm as hl,dP as hT,bF as Pv,c$ as Ed,c as $v,bI as Li,bJ as So,cd as Dv,ht as mT,eZ as Kt,hu as gT,p as ml,o as Lv,hv as vT,aO as yT,hw as bT,al as ho,a4 as xT,hx as Jt,hy as $h,bL as _T,hz as wT,M as nt,gE as Bv,ap as kT,ar as ks,as as Dh,hA as CT,hB as ST,at as ET,au as TT,aw as Ya,av as Jc,aq as Lh,ax as Bh,ay as AT,an as IT,hC as Uh,ao as jT,az as RT,am as OT,hD as Td,s as Uv,aH as zT,aQ as FT,d8 as cr,aV as Jr,aW as Wn,hE as Zv,hF as Hv,eD as qv,cO as MT,cP as NT,hG as Zh,hH as PT,hI as $T,hJ as DT,hK as LT,ab as BT,hL as UT,hM as ZT,hN as HT,hO as qT,hP as WT,hQ as VT,hR as GT,hS as JT,g_ as KT,hT as YT,hU as XT,hb as QT,hV as eA,hW as tA,hX as nA,hY as rA,F as Wv,hZ as iA,dJ as aA,h_ as oA,h$ as sA,i0 as lA,i1 as cA,ft as uA,i2 as dA,eU as pA,i3 as fA,i4 as hA,i5 as mA,i6 as gA,i7 as vA,h as yA,cw as bA,i8 as Kc,i9 as Vv,ia as Gv,ib as Jv,ic as xA,id as _A,ie as wA,ig as kA,ih as CA,ii as SA,ij as Kv,ik as Yv,il as Xv,im as EA,cZ as TA,io as AA,ip as IA,ae as jA,fg as RA,af as OA,a9 as zA,iq as FA,fA as MA,ha as NA,ir as PA,is as $A,it as DA,iu as LA,gb as BA,iv as UA,iw as ZA,ix as HA,f$ as qA,iy as WA,iz as VA,iA as GA,iB as JA,iC as KA,ah as Qv,iD as YA,bZ as XA,iE as QA,iF as eI,ac as tI,iG as nI,iH as rI,iI,iJ as aI,iK as oI,iL as sI,iM as lI,iN as cI,iO as uI,iP as dI,iQ as pI,cD as fI,iR as hI,iS as mI,iT as gI,iU as vI,iV as yI,iW as bI,iX as xI,iY as _I,iZ as wI,i_ as kI,i$ as CI,j0 as SI,j1 as EI,j2 as TI,j3 as AI,j4 as II,j5 as jI,j6 as RI,bn as gl,j7 as ey,d2 as OI,f3 as zI,d1 as FI,j8 as MI,cu as NI,eL as PI,j9 as an,ja as $I,jb as DI,dB as LI,jc as BI,jd as UI,je as ty,gu as ZI,gT as HI,jf as qI,jg as WI,jh as VI,ji as GI,fy as Ad,N as JI,O as KI,jj as ny,eB as ry,jk as YI,jl as XI,jm as QI,bM as lr,bf as mo,b2 as zt,b3 as Xt,jn as Yc,b1 as qt,eV as ej,bd as Hh,jo as no,jp as iy,jq as tj,jr as nj,V as rj,cn as ij,bA as aj,cm as oj,gC as sj,P as Xc,js as lj,jt as cj,C as uj,R as dj,Q as Cs,_ as pj}from"./strapi-BMhL2YP9.js";import{P as jt}from"./index-BqNSGKys.js";import{g as fj}from"./groupBy-COwvvFrH.js";import{s as hj}from"./sortBy-C5HlmAxz.js";import{f as mj}from"./index-Banm3DpJ.js";const ay=W.createContext(null),Id=()=>{const e=W.useContext(ay);if(!e)throw new Error("useCTBSession must be used within a CTBSessionProvider");return e},Ea=()=>{const{trackUsage:e}=Sv(),{sessionId:t}=Id();return{trackUsage:W.useCallback((r,i)=>{const s={...i??{},ctbSessionId:t};return e(r,s)},[e,t])}},Ss={danger:{background:"danger100",borderColor:"danger200",textColor:"danger700"},warning:{background:"warning100",borderColor:"warning200",textColor:"warning600"}},Xa=({title:e,variant:t="danger"})=>m.jsx(Me,{padding:3,background:Ss[t].background,borderColor:Ss[t].borderColor,hasRadius:!0,width:"100%",children:m.jsxs(Ee,{gap:2,children:[m.jsx(Ev,{style:{minWidth:"16px"},fill:Ss[t].textColor}),m.jsx(Fe,{variant:"omega",textColor:Ss[t].textColor,children:e})]})}),oy=vt(Me)`
  opacity: 0;
  transform: ${({$direction:e="up"})=>e==="up"?"translateY(10px)":"translateX(-10px)"};

  @media (prefers-reduced-motion: no-preference) {
    animation: ${({$direction:e="up"})=>e==="up"?"appearUp":"appearLeft"}
      ${({theme:e})=>e.motion.timings[200]}
      ${({theme:e})=>e.motion.easings.easeOutQuad} forwards;
  }

  @keyframes appearUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes appearLeft {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
`;var gj={STRAPI_AI_URL:"https://strapi-ai.apps.strapi.io"};const sy="application/vnd.strapi.code",Qc=15,vj=15*1024*1024,ly=gj.STRAPI_AI_URL?.replace(/\/+$/,"")??"https://strapi-ai.apps.strapi.io",yj=`${ly}/schemas/chat`,bj=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),xj=e=>e.startsWith("data:image/"),jd=({src:e,alt:t,inferSize:n=!1,onLoad:r,onError:i,...s})=>{const[o,c]=W.useState(null),[u,d]=W.useState({}),[p,h]=W.useState(!0),[g,y]=W.useState(!1);W.useEffect(()=>{(async()=>{if(h(!0),y(!1),xj(e)){c(e),h(!1);return}try{const k=new URL(e);if(["strapi-ai-staging.s3.us-east-1.amazonaws.com","strapi-ai-production.s3.us-east-1.amazonaws.com"].includes(k.hostname)){c(e),h(!1);return}}catch{}try{const k=await fetch(e);if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const T=await k.blob(),A=await bj(T);c(A),h(!1)}catch(k){console.error("Error converting image to base64:",k),y(!0),h(!1)}})()},[e,i]);const v=_=>{if(n){const{naturalWidth:k,naturalHeight:T}=_.currentTarget;d({width:k,height:T})}r&&r(_)};if(p)return m.jsx(Ee,{direction:"column",gap:2,alignItems:"center",width:"100%",children:m.jsx(bd,{small:!0})});if(g)return m.jsx(Ee,{direction:"column",gap:2,alignItems:"center",width:"100%",children:m.jsx(KE,{width:24,height:24,fill:"danger600"})});const w={src:o||"",alt:t,onLoad:v,...s};return n&&!s.width&&!s.height&&u.width&&u.height&&(w.width=u.width,w.height=u.height),o?m.jsx("img",{...w}):null},pa={fadeIn:Ri`
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  `,scaleIn:Ri`
    from {
      opacity: 0;
      transform: scale(0.7);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  `,slideUpIn:Ri`
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideUpOut:Ri`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  `,slideDownIn:Ri`
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideDownOut:Ri`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  `},cy=W.createContext(void 0),_j=(e,t)=>`${e}${Math.floor(t*255).toString(16).padStart(2,"0")}`,wj=vt.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 500;
  pointer-events: auto; /* Explicitly enable pointer events */
  background: ${e=>_j(e.theme.colors.neutral800,.2)};
`,kj=vt.div`
  max-width: 80vw;
  max-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto; /* Explicitly enable pointer events */
  position: relative;
  animation: ${pa.scaleIn} 0.3s ease;
`,Cj=vt(jd)`
  max-width: 100%;
  max-height: 90vh;
  object-fit: contain;
  pointer-events: auto; /* Explicitly enable pointer events */
`,Sj=({src:e,alt:t,onClose:n})=>{const r=W.useRef(null),i=W.useRef(null);return W.useEffect(()=>{const s=o=>{if(o.key==="Escape")return o.preventDefault(),o.stopPropagation(),n?.(),o.stopImmediatePropagation(),o.cancelBubble=!0,!1};return window.addEventListener("keydown",s,!0),()=>window.removeEventListener("keydown",s,!0)},[n]),W.useEffect(()=>{const s=d=>{d.target===r.current&&(d.preventDefault(),d.stopPropagation(),n?.())},o=d=>{d.stopPropagation()},c=r.current,u=i.current;return c&&c.addEventListener("click",s),u&&u.addEventListener("click",o),()=>{c&&c.removeEventListener("click",s),u&&u.removeEventListener("click",o)}},[n]),YE.createPortal(m.jsx(wj,{ref:r,children:m.jsx(kj,{ref:i,children:m.jsx(Cj,{src:e,alt:t})})}),document.body)},Ej=({children:e,src:t,alt:n,onClose:r,defaultOpen:i=!1})=>{const[s,o]=W.useState(i),c=()=>o(!0),u=()=>{o(!1),r?.()};return m.jsxs(cy.Provider,{value:{isOpen:s,open:c,close:u,src:t,alt:n},children:[e,s&&m.jsx(Sj,{src:t,alt:n,onClose:u})]})},Tj=()=>{const e=W.useContext(cy);if(!e)throw new Error("useFullScreenImage must be used within a FullScreenImage.Root");return e},Aj=({children:e,asChild:t=!1})=>{const{open:n}=Tj(),r=i=>{i.stopPropagation(),n()};return t?m.jsx("div",{onClick:r,style:{cursor:"pointer",display:"contents"},children:e}):m.jsx("div",{onClick:r,style:{cursor:"pointer"},children:e})},Us={Root:Ej,Trigger:Aj},uy=W.createContext({error:null}),Ij=()=>W.useContext(uy),jj=vt(Me)`
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.neutral100};
  }
`,Rj=({children:e,error:t=null,minWidth:n,maxWidth:r})=>m.jsx(uy.Provider,{value:{error:t},children:m.jsxs(Ee,{direction:"column",alignItems:"flex-start",gap:2,minWidth:n,maxWidth:r,children:[m.jsx(jj,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px",padding:2,width:"100%",children:m.jsx(Ee,{gap:2,children:e})}),t&&m.jsx(Fe,{variant:"pi",textColor:"danger500",children:t})]})}),Oj=({children:e})=>{const{error:t}=Ij();return m.jsx(Ee,{alignItems:"center",justifyContent:"center",children:t?m.jsx(Ev,{fill:"danger500"}):e})},zj=({children:e})=>m.jsx(Me,{grow:1,children:m.jsx(Fe,{variant:"omega",ellipsis:!0,style:{userSelect:"none",maxWidth:"100px"},children:e})}),Fj=({onClick:e})=>m.jsx(Ee,{alignItems:"center",justifyContent:"center",shrink:0,onClick:e,children:m.jsx(xd,{fill:"neutral500"})}),pi={Root:Rj,Preview:Oj,Title:zj,Remove:Fj},Mj=vt(jd)`
  width: 24px;
  height: 24px;
  object-fit: cover;
  border-radius: ${({theme:e})=>e.borderRadius};
`,Nj=({attachment:e,onRemove:t,...n})=>m.jsx(Us.Root,{src:e.url,alt:e.filename||"image",children:m.jsx(Us.Trigger,{asChild:!0,children:m.jsxs(pi.Root,{...n,children:[m.jsx(pi.Preview,{children:e.status==="loading"?m.jsx(bd,{small:!0}):m.jsx(Mj,{src:e.url,alt:e.filename})}),m.jsx(pi.Title,{children:e.filename||"unknown"}),t&&m.jsx(pi.Remove,{onClick:t})]})})}),Pj=({attachment:e,onRemove:t,...n})=>m.jsxs(pi.Root,{...n,children:[m.jsx(pi.Preview,{children:e.status==="loading"?m.jsx(bd,{small:!0}):m.jsx(_d,{height:24,width:24})}),m.jsx(pi.Title,{children:e.filename||"unknown"}),t&&m.jsx(pi.Remove,{onClick:t})]}),Rd=({attachment:e,onRemove:t,...n})=>e.mediaType?.startsWith("image/")?m.jsx(Nj,{attachment:e,onRemove:t,...n}):e.mediaType===sy?m.jsx(Pj,{attachment:e,onRemove:t,...n}):null,$j=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function _a(e,t,n){const r=Dj(e),{webkitRelativePath:i}=e,s=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&qh(r,"path",s),qh(r,"relativePath",s),r}function Dj(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=$j.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function qh(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Lj=[".DS_Store","Thumbs.db"];function Bj(e){return Bi(this,void 0,void 0,function*(){return Zs(e)&&Uj(e.dataTransfer)?Wj(e.dataTransfer,e.type):Zj(e)?Hj(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?qj(e):[]})}function Uj(e){return Zs(e)}function Zj(e){return Zs(e)&&Zs(e.target)}function Zs(e){return typeof e=="object"&&e!==null}function Hj(e){return Nu(e.target.files).map(t=>_a(t))}function qj(e){return Bi(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>_a(n))})}function Wj(e,t){return Bi(this,void 0,void 0,function*(){if(e.items){const n=Nu(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(Vj));return Wh(dy(r))}return Wh(Nu(e.files).map(n=>_a(n)))})}function Wh(e){return e.filter(t=>Lj.indexOf(t.name)===-1)}function Nu(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function Vj(e){if(typeof e.webkitGetAsEntry!="function")return Vh(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?py(t):Vh(e,t)}function dy(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?dy(n):[n]],[])}function Vh(e,t){return Bi(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const s=yield e.getAsFileSystemHandle();if(s===null)throw new Error(`${e} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,_a(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return _a(r,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function Gj(e){return Bi(this,void 0,void 0,function*(){return e.isDirectory?py(e):Jj(e)})}function py(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function s(){t.readEntries(o=>Bi(this,void 0,void 0,function*(){if(o.length){const c=Promise.all(o.map(Gj));i.push(c),s()}else try{const c=yield Promise.all(i);n(c)}catch(c){r(c)}}),o=>{r(o)})}s()})}function Jj(e){return Bi(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=_a(r,e.fullPath);t(i)},r=>{n(r)})})})}var eu=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var c=o.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?s===c.replace(/\/.*$/,""):i===c})}return!0};function Gh(e){return Xj(e)||Yj(e)||hy(e)||Kj()}function Kj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yj(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xj(e){if(Array.isArray(e))return Pu(e)}function Jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jh(Object(n),!0).forEach(function(r){fy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function go(e,t){return tR(e)||eR(e,t)||hy(e,t)||Qj()}function Qj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hy(e,t){if(e){if(typeof e=="string")return Pu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pu(e,t)}}function Pu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eR(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,c;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(u){s=!0,c=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw c}}return r}}function tR(e){if(Array.isArray(e))return e}var nR=typeof eu=="function"?eu:eu.default,rR="file-invalid-type",iR="file-too-large",aR="file-too-small",oR="too-many-files",sR=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:rR,message:"File type must be ".concat(r)}},Yh=function(t){return{code:iR,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Xh=function(t){return{code:aR,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},lR={code:oR,message:"Too many files"};function my(e,t){var n=e.type==="application/x-moz-file"||nR(e,t);return[n,n?null:sR(t)]}function gy(e,t,n){if(zi(e.size))if(zi(t)&&zi(n)){if(e.size>n)return[!1,Yh(n)];if(e.size<t)return[!1,Xh(t)]}else{if(zi(t)&&e.size<t)return[!1,Xh(t)];if(zi(n)&&e.size>n)return[!1,Yh(n)]}return[!0,null]}function zi(e){return e!=null}function cR(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,s=e.multiple,o=e.maxFiles,c=e.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(u){var d=my(u,n),p=go(d,1),h=p[0],g=gy(u,r,i),y=go(g,1),v=y[0],w=c?c(u):null;return h&&v&&!w})}function Hs(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Es(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Qh(e){e.preventDefault()}function uR(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function dR(e){return e.indexOf("Edge/")!==-1}function pR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return uR(e)||dR(e)}function Sr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return t.some(function(c){return!Hs(r)&&c&&c.apply(void 0,[r].concat(s)),Hs(r)})}}function fR(){return"showOpenFilePicker"in window}function hR(e){if(zi(e)){var t=Object.entries(e).filter(function(n){var r=go(n,2),i=r[0],s=r[1],o=!0;return vy(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(yy))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=go(r,2),s=i[0],o=i[1];return Kh(Kh({},n),{},fy({},s,o))},{});return[{description:"Files",accept:t}]}return e}function mR(e){if(zi(e))return Object.entries(e).reduce(function(t,n){var r=go(n,2),i=r[0],s=r[1];return[].concat(Gh(t),[i],Gh(s))},[]).filter(function(t){return vy(t)||yy(t)}).join(",")}function gR(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function vR(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function vy(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function yy(e){return/^.*\.[\w]+$/.test(e)}var yR=["children"],bR=["open"],xR=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_R=["refKey","onChange","onClick"];function wR(e){return SR(e)||CR(e)||by(e)||kR()}function kR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SR(e){if(Array.isArray(e))return $u(e)}function tu(e,t){return AR(e)||TR(e,t)||by(e,t)||ER()}function ER(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function by(e,t){if(e){if(typeof e=="string")return $u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $u(e,t)}}function $u(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TR(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,c;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(u){s=!0,c=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw c}}return r}}function AR(e){if(Array.isArray(e))return e}function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?em(Object(n),!0).forEach(function(r){Du(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qs(e,t){if(e==null)return{};var n=IR(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IR(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Od=W.forwardRef(function(e,t){var n=e.children,r=qs(e,yR),i=_y(r),s=i.open,o=qs(i,bR);return W.useImperativeHandle(t,function(){return{open:s}},[s]),XE.createElement(W.Fragment,null,n(Yt(Yt({},o),{},{open:s})))});Od.displayName="Dropzone";var xy={disabled:!1,getFilesFromEvent:Bj,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Od.defaultProps=xy;Od.propTypes={children:jt.func,accept:jt.objectOf(jt.arrayOf(jt.string)),multiple:jt.bool,preventDropOnDocument:jt.bool,noClick:jt.bool,noKeyboard:jt.bool,noDrag:jt.bool,noDragEventsBubbling:jt.bool,minSize:jt.number,maxSize:jt.number,maxFiles:jt.number,disabled:jt.bool,getFilesFromEvent:jt.func,onFileDialogCancel:jt.func,onFileDialogOpen:jt.func,useFsAccessApi:jt.bool,autoFocus:jt.bool,onDragEnter:jt.func,onDragLeave:jt.func,onDragOver:jt.func,onDrop:jt.func,onDropAccepted:jt.func,onDropRejected:jt.func,onError:jt.func,validator:jt.func};var Lu={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function _y(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Yt(Yt({},xy),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,c=t.multiple,u=t.maxFiles,d=t.onDragEnter,p=t.onDragLeave,h=t.onDragOver,g=t.onDrop,y=t.onDropAccepted,v=t.onDropRejected,w=t.onFileDialogCancel,_=t.onFileDialogOpen,k=t.useFsAccessApi,T=t.autoFocus,A=t.preventDropOnDocument,j=t.noClick,P=t.noKeyboard,O=t.noDrag,B=t.noDragEventsBubbling,U=t.onError,Y=t.validator,X=W.useMemo(function(){return mR(n)},[n]),q=W.useMemo(function(){return hR(n)},[n]),se=W.useMemo(function(){return typeof _=="function"?_:tm},[_]),R=W.useMemo(function(){return typeof w=="function"?w:tm},[w]),G=W.useRef(null),x=W.useRef(null),L=W.useReducer(jR,Lu),Ce=tu(L,2),le=Ce[0],de=Ce[1],N=le.isFocused,Te=le.isFileDialogActive,oe=W.useRef(typeof window<"u"&&window.isSecureContext&&k&&fR()),z=function(){!oe.current&&Te&&setTimeout(function(){if(x.current){var me=x.current.files;me.length||(de({type:"closeDialog"}),R())}},300)};W.useEffect(function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}},[x,Te,R,oe]);var Oe=W.useRef([]),ue=function(me){G.current&&G.current.contains(me.target)||(me.preventDefault(),Oe.current=[])};W.useEffect(function(){return A&&(document.addEventListener("dragover",Qh,!1),document.addEventListener("drop",ue,!1)),function(){A&&(document.removeEventListener("dragover",Qh),document.removeEventListener("drop",ue))}},[G,A]),W.useEffect(function(){return!r&&T&&G.current&&G.current.focus(),function(){}},[G,T,r]);var ce=W.useCallback(function(ae){U?U(ae):console.error(ae)},[U]),et=W.useCallback(function(ae){ae.preventDefault(),ae.persist(),ee(ae),Oe.current=[].concat(wR(Oe.current),[ae.target]),Es(ae)&&Promise.resolve(i(ae)).then(function(me){if(!(Hs(ae)&&!B)){var Z=me.length,J=Z>0&&cR({files:me,accept:X,minSize:o,maxSize:s,multiple:c,maxFiles:u,validator:Y}),be=Z>0&&!J;de({isDragAccept:J,isDragReject:be,isDragActive:!0,type:"setDraggedFiles"}),d&&d(ae)}}).catch(function(me){return ce(me)})},[i,d,ce,B,X,o,s,c,u,Y]),Ue=W.useCallback(function(ae){ae.preventDefault(),ae.persist(),ee(ae);var me=Es(ae);if(me&&ae.dataTransfer)try{ae.dataTransfer.dropEffect="copy"}catch{}return me&&h&&h(ae),!1},[h,B]),fe=W.useCallback(function(ae){ae.preventDefault(),ae.persist(),ee(ae);var me=Oe.current.filter(function(J){return G.current&&G.current.contains(J)}),Z=me.indexOf(ae.target);Z!==-1&&me.splice(Z,1),Oe.current=me,!(me.length>0)&&(de({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Es(ae)&&p&&p(ae))},[G,p,B]),ze=W.useCallback(function(ae,me){var Z=[],J=[];ae.forEach(function(be){var je=my(be,X),Be=tu(je,2),ut=Be[0],St=Be[1],yt=gy(be,o,s),rt=tu(yt,2),un=rt[0],bt=rt[1],Tt=Y?Y(be):null;if(ut&&un&&!Tt)Z.push(be);else{var dt=[St,bt];Tt&&(dt=dt.concat(Tt)),J.push({file:be,errors:dt.filter(function(mr){return mr})})}}),(!c&&Z.length>1||c&&u>=1&&Z.length>u)&&(Z.forEach(function(be){J.push({file:be,errors:[lR]})}),Z.splice(0)),de({acceptedFiles:Z,fileRejections:J,isDragReject:J.length>0,type:"setFiles"}),g&&g(Z,J,me),J.length>0&&v&&v(J,me),Z.length>0&&y&&y(Z,me)},[de,c,X,o,s,u,g,y,v,Y]),ye=W.useCallback(function(ae){ae.preventDefault(),ae.persist(),ee(ae),Oe.current=[],Es(ae)&&Promise.resolve(i(ae)).then(function(me){Hs(ae)&&!B||ze(me,ae)}).catch(function(me){return ce(me)}),de({type:"reset"})},[i,ze,ce,B]),Re=W.useCallback(function(){if(oe.current){de({type:"openDialog"}),se();var ae={multiple:c,types:q};window.showOpenFilePicker(ae).then(function(me){return i(me)}).then(function(me){ze(me,null),de({type:"closeDialog"})}).catch(function(me){gR(me)?(R(me),de({type:"closeDialog"})):vR(me)?(oe.current=!1,x.current?(x.current.value=null,x.current.click()):ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ce(me)});return}x.current&&(de({type:"openDialog"}),se(),x.current.value=null,x.current.click())},[de,se,R,k,ze,ce,q,c]),Ye=W.useCallback(function(ae){!G.current||!G.current.isEqualNode(ae.target)||(ae.key===" "||ae.key==="Enter"||ae.keyCode===32||ae.keyCode===13)&&(ae.preventDefault(),Re())},[G,Re]),Xe=W.useCallback(function(){de({type:"focus"})},[]),S=W.useCallback(function(){de({type:"blur"})},[]),pe=W.useCallback(function(){j||(pR()?setTimeout(Re,0):Re())},[j,Re]),V=function(me){return r?null:me},D=function(me){return P?null:V(me)},C=function(me){return O?null:V(me)},ee=function(me){B&&me.stopPropagation()},xe=W.useMemo(function(){return function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=ae.refKey,Z=me===void 0?"ref":me,J=ae.role,be=ae.onKeyDown,je=ae.onFocus,Be=ae.onBlur,ut=ae.onClick,St=ae.onDragEnter,yt=ae.onDragOver,rt=ae.onDragLeave,un=ae.onDrop,bt=qs(ae,xR);return Yt(Yt(Du({onKeyDown:D(Sr(be,Ye)),onFocus:D(Sr(je,Xe)),onBlur:D(Sr(Be,S)),onClick:V(Sr(ut,pe)),onDragEnter:C(Sr(St,et)),onDragOver:C(Sr(yt,Ue)),onDragLeave:C(Sr(rt,fe)),onDrop:C(Sr(un,ye)),role:typeof J=="string"&&J!==""?J:"presentation"},Z,G),!r&&!P?{tabIndex:0}:{}),bt)}},[G,Ye,Xe,S,pe,et,Ue,fe,ye,P,O,r]),we=W.useCallback(function(ae){ae.stopPropagation()},[]),re=W.useMemo(function(){return function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=ae.refKey,Z=me===void 0?"ref":me,J=ae.onChange,be=ae.onClick,je=qs(ae,_R),Be=Du({accept:X,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:V(Sr(J,ye)),onClick:V(Sr(be,we)),tabIndex:-1},Z,x);return Yt(Yt({},Be),je)}},[x,n,c,ye,r]);return Yt(Yt({},le),{},{isFocused:N&&!r,getRootProps:xe,getInputProps:re,rootRef:G,inputRef:x,open:V(Re)})}function jR(e,t){switch(t.type){case"focus":return Yt(Yt({},e),{},{isFocused:!0});case"blur":return Yt(Yt({},e),{},{isFocused:!1});case"openDialog":return Yt(Yt({},Lu),{},{isFileDialogActive:!0});case"closeDialog":return Yt(Yt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Yt(Yt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Yt(Yt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Yt({},Lu);default:return e}}function tm(){}const RR=({onAddFiles:e,isEnabled:t=!1})=>{const n=W.useCallback(async r=>{if(!t)return;const i=r.clipboardData?.items;if(!i||i.length===0)return;const s=[];for(const o of i)if(o.kind==="file"){const c=o.getAsFile();c&&c.type.startsWith("image/")&&s.push(c)}s.length>0&&(e(s),r.preventDefault())},[t,e]);W.useEffect(()=>(document.addEventListener("paste",n),()=>{document.removeEventListener("paste",n)}),[n])},wy=W.createContext({}),OR=()=>W.useContext(wy),zR=({children:e,isEnabled:t=!0,onAddFiles:n=()=>{},accept:r={"image/*":[]},...i})=>{RR({onAddFiles:n,isEnabled:t});const{getRootProps:s,isDragActive:o}=_y({onDrop:n,noClick:!0,noKeyboard:!0,accept:r});return m.jsx(wy.Provider,{value:{isEnabled:t,isDragActive:o,onAddFiles:n},children:m.jsx(Ee,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...s(),...i,children:e})})},FR=({error:e,title:t,...n})=>{const{isEnabled:r,isDragActive:i}=OR();if(!i)return null;const s=t||"Drop images here";return m.jsxs(Ee,{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2,cursor:r?"pointer":"not-allowed",width:"100%",height:"100%",borderStyle:"dashed",borderColor:e?"danger600":"primary500",background:e?"danger100":"primary100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,...n,children:[m.jsx(Me,{width:"24px",height:"24px",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{d:"M19.5 13.572L12 6.072L4.5 13.572",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{d:"M12 6.072V20.072",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{d:"M3.9998 20.072H20.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),m.jsxs(Ee,{direction:"column",alignItems:"center",gap:2,children:[m.jsx(Fe,{variant:"omega",textColor:"neutral600",textAlign:"center",children:s}),e&&m.jsx(Fe,{variant:"pi",textColor:"danger600",children:e})]})]})},ky={Root:zR,Area:FR},Cy=W.createContext({size:"md",position:"bottom-right",isOpen:!1,onToggle:()=>{}}),nm={sm:{width:"350px",height:"500px"},md:{width:"480px",height:"600px"},lg:{width:"600px",height:"700px"}},MR={"bottom-right":{bottom:4,right:4},"bottom-left":{bottom:4,left:4},"top-right":{top:4,right:4},"top-left":{top:4,left:4}},NR=vt(Me)`
  position: fixed;
  display: flex;
  flex-direction: column;
  z-index: 11;
  align-items: ${({$position:e})=>e.includes("right")?"flex-end":"flex-start"};
  ${({$position:e,theme:t})=>Object.entries(MR[e]).reduce((n,[r,i])=>({...n,[r]:t.spaces[i]}),{})}
`,PR=vt(Me)`
  width: ${({$size:e})=>nm[e].width};
  max-height: 85vh;
  max-width: 85vw;
  display: flex;
  flex-direction: column;
  height: ${({$size:e})=>nm[e].height};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: 200ms;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);

    &[data-state='open'] {
      animation-name: ${({$position:e})=>e.startsWith("top")?pa.slideDownIn:pa.slideUpIn};
    }

    &[data-state='closed'] {
      animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
      animation-name: ${({$position:e})=>e.startsWith("top")?pa.slideDownOut:pa.slideUpOut};
    }
  }
`,$R=({children:e,size:t="md",position:n="bottom-right",isOpen:r=!1,onToggle:i=()=>{},toggleIcon:s})=>m.jsx(Cy.Provider,{value:{size:t,position:n,isOpen:r,onToggle:i},children:m.jsxs(NR,{$position:n,children:[r?m.jsx(PR,{$size:t,$position:n,background:"neutral0",shadow:"popupShadow",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px","data-state":r?"open":"closed",children:e}):null,s&&!r&&s]})}),DR=({children:e})=>m.jsx(Me,{padding:[2,2,2,4],borderColor:"neutral150",borderStyle:"solid",borderWidth:"0 0 1px 0",children:m.jsx(Ee,{justifyContent:"space-between",alignItems:"center",children:e})}),LR=({children:e})=>m.jsx(Me,{padding:4,flex:"1",overflow:"auto",children:e}),BR=({children:e})=>m.jsx(Me,{padding:4,children:e}),UR=({label:e})=>{const{onToggle:t}=ZR();return m.jsx(pr,{onClick:t,variant:"ghost",label:e||"Close",children:m.jsx(wd,{})})},Qa={Root:$R,Header:DR,Body:LR,Footer:BR,Close:UR},ZR=()=>W.useContext(Cy),Sy=e=>m.jsxs("svg",{width:e.width||16,height:e.height||16,viewBox:"0 0 200 300",xmlns:"http://www.w3.org/2000/svg","aria-label":"Figma logo",style:{display:"block",margin:"0 auto",...e.style},...e,children:[m.jsx("title",{children:"Figma.logo"}),m.jsx("desc",{children:"Created using Figma"}),m.jsx("path",{d:"M50 300c27.6 0 50-22.4 50-50v-50H50c-27.6 0-50 22.4-50 50s22.4 50 50 50z",fill:"#0acf83"}),m.jsx("path",{d:"M50 200c-27.6 0-50-22.4-50-50s22.4-50 50-50h50v100H50z",fill:"#a259ff"}),m.jsx("path",{d:"M0 50C0 22.4 22.4 0 50 0h50v100H50C22.4 100 0 77.6 0 50z",fill:"#f24e1e"}),m.jsx("path",{d:"M100 0h50c27.6 0 50 22.4 50 50s-22.4 50-50 50h-50V0z",fill:"#ff7262"}),m.jsx("path",{d:"M200 150c0 27.6-22.4 50-50 50s-50-22.4-50-50 22.4-50 50-50 50 22.4 50 50z",fill:"#1abcfe"})]}),HR=e=>m.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:m.jsx("rect",{x:"2",y:"2",width:"11",height:"11",rx:"2",fill:"white"})}),qR=W.createContext({}),WR=({children:e,isLoading:t=!1,...n})=>m.jsx(qR.Provider,{value:{isLoading:t},children:m.jsx(Ee,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...n,children:e})}),VR=({children:e,...t})=>m.jsx(Me,{position:"absolute",bottom:"102%",left:0,right:0,background:"neutral0",width:"100%",...t,children:e}),GR=vt(Me)`
  padding: ${({theme:e})=>e.spaces[3]} 0};
`,JR=({children:e,gap:t=2,...n})=>m.jsx(Ee,{gap:t,wrap:"wrap",paddingBottom:2,maxHeight:"150px",overflow:"auto",...n,children:e}),KR=vt(Me)`
  outline: none;
  box-shadow: none;
  transition-property: border-color, box-shadow, fill;
  transition-duration: 0.2s;

  &:focus-within {
    border: 1px solid
      ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600};
    box-shadow: ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600}
      0px 0px 0px 2px;
  }
`,YR=({children:e,disclaimer:t,error:n=!1,...r})=>m.jsxs(KR,{background:"neutral0",hasRadius:!0,borderColor:n?"danger600":"neutral200",borderWidth:"1px",borderStyle:"solid",width:"100%",$hasError:n,...r,children:[m.jsx(Me,{padding:3,children:e}),t&&m.jsx(Me,{background:"neutral100",padding:[2,3],borderColor:"neutral200",borderWidth:"1px 0 0 0",borderStyle:"solid",borderRadius:"0 0 4px 4px",children:m.jsx(Fe,{variant:"pi",textColor:"neutral600",children:t})})]}),XR=({children:e})=>m.jsx(Ee,{justifyContent:"flex-end",alignItems:"center",gap:2,children:e}),Oi={Root:WR,Header:VR,HeaderItem:GR,Attachments:JR,Content:YR,Actions:XR};class QR extends Error{name="Assertion";code="ERR_ASSERTION";constructor(t,n,r,i,s){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.actual=n,this.expected=r,this.generated=s,this.operator=i}}function Q(e,t){Ey(!!e,!1,!0,"ok","Expected value to be truthy",t)}function Bu(e){Ey(!1,!1,!0,"ok","Unreachable",e)}function Ey(e,t,n,r,i,s){if(!e)throw s instanceof Error?s:new QR(s||i,t,n,r,!s)}function eO(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const tO=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nO=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rO={};function rm(e,t){return(rO.jsx?nO:tO).test(e)}const iO=/[ \t\n\f\r]/g;function aO(e){return typeof e=="object"?e.type==="text"?im(e.value):!1:im(e)}function im(e){return e.replace(iO,"")===""}class Eo{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Eo.prototype.normal={};Eo.prototype.property={};Eo.prototype.space=void 0;function Ty(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Eo(n,r,t)}function Uu(e){return e.toLowerCase()}class Dn{constructor(t,n){this.attribute=n,this.property=t}}Dn.prototype.attribute="";Dn.prototype.booleanish=!1;Dn.prototype.boolean=!1;Dn.prototype.commaOrSpaceSeparated=!1;Dn.prototype.commaSeparated=!1;Dn.prototype.defined=!1;Dn.prototype.mustUseProperty=!1;Dn.prototype.number=!1;Dn.prototype.overloadedBoolean=!1;Dn.prototype.property="";Dn.prototype.spaceSeparated=!1;Dn.prototype.space=void 0;let oO=0;const lt=Ui(),ln=Ui(),Zu=Ui(),Ae=Ui(),Ot=Ui(),va=Ui(),Hn=Ui();function Ui(){return 2**++oO}const Hu=Object.freeze(Object.defineProperty({__proto__:null,boolean:lt,booleanish:ln,commaOrSpaceSeparated:Hn,commaSeparated:va,number:Ae,overloadedBoolean:Zu,spaceSeparated:Ot},Symbol.toStringTag,{value:"Module"})),nu=Object.keys(Hu);class zd extends Dn{constructor(t,n,r,i){let s=-1;if(super(t,n),am(this,"space",i),typeof r=="number")for(;++s<nu.length;){const o=nu[s];am(this,nu[s],(r&Hu[o])===Hu[o])}}}zd.prototype.defined=!0;function am(e,t,n){n&&(e[t]=n)}function Ta(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new zd(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Uu(r)]=r,n[Uu(s.attribute)]=r}return new Eo(t,n,e.space)}const Ay=Ta({properties:{ariaActiveDescendant:null,ariaAtomic:ln,ariaAutoComplete:null,ariaBusy:ln,ariaChecked:ln,ariaColCount:Ae,ariaColIndex:Ae,ariaColSpan:Ae,ariaControls:Ot,ariaCurrent:null,ariaDescribedBy:Ot,ariaDetails:null,ariaDisabled:ln,ariaDropEffect:Ot,ariaErrorMessage:null,ariaExpanded:ln,ariaFlowTo:Ot,ariaGrabbed:ln,ariaHasPopup:null,ariaHidden:ln,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ot,ariaLevel:Ae,ariaLive:null,ariaModal:ln,ariaMultiLine:ln,ariaMultiSelectable:ln,ariaOrientation:null,ariaOwns:Ot,ariaPlaceholder:null,ariaPosInSet:Ae,ariaPressed:ln,ariaReadOnly:ln,ariaRelevant:null,ariaRequired:ln,ariaRoleDescription:Ot,ariaRowCount:Ae,ariaRowIndex:Ae,ariaRowSpan:Ae,ariaSelected:ln,ariaSetSize:Ae,ariaSort:null,ariaValueMax:Ae,ariaValueMin:Ae,ariaValueNow:Ae,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Iy(e,t){return t in e?e[t]:t}function jy(e,t){return Iy(e,t.toLowerCase())}const sO=Ta({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:va,acceptCharset:Ot,accessKey:Ot,action:null,allow:null,allowFullScreen:lt,allowPaymentRequest:lt,allowUserMedia:lt,alt:null,as:null,async:lt,autoCapitalize:null,autoComplete:Ot,autoFocus:lt,autoPlay:lt,blocking:Ot,capture:null,charSet:null,checked:lt,cite:null,className:Ot,cols:Ae,colSpan:null,content:null,contentEditable:ln,controls:lt,controlsList:Ot,coords:Ae|va,crossOrigin:null,data:null,dateTime:null,decoding:null,default:lt,defer:lt,dir:null,dirName:null,disabled:lt,download:Zu,draggable:ln,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:lt,formTarget:null,headers:Ot,height:Ae,hidden:Zu,high:Ae,href:null,hrefLang:null,htmlFor:Ot,httpEquiv:Ot,id:null,imageSizes:null,imageSrcSet:null,inert:lt,inputMode:null,integrity:null,is:null,isMap:lt,itemId:null,itemProp:Ot,itemRef:Ot,itemScope:lt,itemType:Ot,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:lt,low:Ae,manifest:null,max:null,maxLength:Ae,media:null,method:null,min:null,minLength:Ae,multiple:lt,muted:lt,name:null,nonce:null,noModule:lt,noValidate:lt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:lt,optimum:Ae,pattern:null,ping:Ot,placeholder:null,playsInline:lt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:lt,referrerPolicy:null,rel:Ot,required:lt,reversed:lt,rows:Ae,rowSpan:Ae,sandbox:Ot,scope:null,scoped:lt,seamless:lt,selected:lt,shadowRootClonable:lt,shadowRootDelegatesFocus:lt,shadowRootMode:null,shape:null,size:Ae,sizes:null,slot:null,span:Ae,spellCheck:ln,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ae,step:null,style:null,tabIndex:Ae,target:null,title:null,translate:null,type:null,typeMustMatch:lt,useMap:null,value:ln,width:Ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ot,axis:null,background:null,bgColor:null,border:Ae,borderColor:null,bottomMargin:Ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:lt,declare:lt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ae,leftMargin:Ae,link:null,longDesc:null,lowSrc:null,marginHeight:Ae,marginWidth:Ae,noResize:lt,noHref:lt,noShade:lt,noWrap:lt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ae,rules:null,scheme:null,scrolling:ln,standby:null,summary:null,text:null,topMargin:Ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:lt,disableRemotePlayback:lt,prefix:null,property:null,results:Ae,security:null,unselectable:null},space:"html",transform:jy}),lO=Ta({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Hn,accentHeight:Ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ae,amplitude:Ae,arabicForm:null,ascent:Ae,attributeName:null,attributeType:null,azimuth:Ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ae,by:null,calcMode:null,capHeight:Ae,className:Ot,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ae,diffuseConstant:Ae,direction:null,display:null,dur:null,divisor:Ae,dominantBaseline:null,download:lt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ae,enableBackground:null,end:null,event:null,exponent:Ae,externalResourcesRequired:null,fill:null,fillOpacity:Ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:va,g2:va,glyphName:va,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ae,horizOriginX:Ae,horizOriginY:Ae,id:null,ideographic:Ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ae,k:Ae,k1:Ae,k2:Ae,k3:Ae,k4:Ae,kernelMatrix:Hn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ae,overlineThickness:Ae,paintOrder:null,panose1:null,path:null,pathLength:Ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ot,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ae,pointsAtY:Ae,pointsAtZ:Ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hn,rev:Hn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hn,requiredFeatures:Hn,requiredFonts:Hn,requiredFormats:Hn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ae,specularExponent:Ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ae,strikethroughThickness:Ae,string:null,stroke:null,strokeDashArray:Hn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ae,strokeOpacity:Ae,strokeWidth:null,style:null,surfaceScale:Ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hn,tabIndex:Ae,tableValues:null,target:null,targetX:Ae,targetY:Ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ae,underlineThickness:Ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ae,values:null,vAlphabetic:Ae,vMathematical:Ae,vectorEffect:null,vHanging:Ae,vIdeographic:Ae,version:null,vertAdvY:Ae,vertOriginX:Ae,vertOriginY:Ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Iy}),Ry=Ta({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Oy=Ta({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jy}),zy=Ta({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),cO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},uO=/[A-Z]/g,om=/-[a-z]/g,dO=/^data[-\w.:]+$/i;function pO(e,t){const n=Uu(t);let r=t,i=Dn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&dO.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(om,hO);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!om.test(s)){let o=s.replace(uO,fO);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=zd}return new i(r,t)}function fO(e){return"-"+e.toLowerCase()}function hO(e){return e.charAt(1).toUpperCase()}const mO=Ty([Ay,sO,Ry,Oy,zy],"html"),Fd=Ty([Ay,lO,Ry,Oy,zy],"svg");function gO(e){return e.join(" ").trim()}var Md={},sm=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,vO=/\n/g,yO=/^\s*/,bO=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,xO=/^:\s*/,_O=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,wO=/^[;\s]*/,kO=/^\s+|\s+$/g,CO=`
`,lm="/",cm="*",Fi="",SO="comment",EO="declaration";function TO(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(v){var w=v.match(vO);w&&(n+=w.length);var _=v.lastIndexOf(CO);r=~_?v.length-_:r+v.length}function s(){var v={line:n,column:r};return function(w){return w.position=new o(v),d(),w}}function o(v){this.start=v,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function c(v){var w=new Error(t.source+":"+n+":"+r+": "+v);if(w.reason=v,w.filename=t.source,w.line=n,w.column=r,w.source=e,!t.silent)throw w}function u(v){var w=v.exec(e);if(w){var _=w[0];return i(_),e=e.slice(_.length),w}}function d(){u(yO)}function p(v){var w;for(v=v||[];w=h();)w!==!1&&v.push(w);return v}function h(){var v=s();if(!(lm!=e.charAt(0)||cm!=e.charAt(1))){for(var w=2;Fi!=e.charAt(w)&&(cm!=e.charAt(w)||lm!=e.charAt(w+1));)++w;if(w+=2,Fi===e.charAt(w-1))return c("End of comment missing");var _=e.slice(2,w-2);return r+=2,i(_),e=e.slice(w),r+=2,v({type:SO,comment:_})}}function g(){var v=s(),w=u(bO);if(w){if(h(),!u(xO))return c("property missing ':'");var _=u(_O),k=v({type:EO,property:um(w[0].replace(sm,Fi)),value:_?um(_[0].replace(sm,Fi)):Fi});return u(wO),k}}function y(){var v=[];p(v);for(var w;w=g();)w!==!1&&(v.push(w),p(v));return v}return d(),y()}function um(e){return e?e.replace(kO,Fi):Fi}var AO=TO,IO=Vn&&Vn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Md,"__esModule",{value:!0});Md.default=RO;const jO=IO(AO);function RO(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,jO.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:c}=s;i?t(o,c,s):c&&(n=n||{},n[o]=c)}),n}var vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.camelCase=void 0;var OO=/^--[a-zA-Z0-9_-]+$/,zO=/-([a-z])/g,FO=/^[^-]+$/,MO=/^-(webkit|moz|ms|o|khtml)-/,NO=/^-(ms)-/,PO=function(e){return!e||FO.test(e)||OO.test(e)},$O=function(e,t){return t.toUpperCase()},dm=function(e,t){return"".concat(t,"-")},DO=function(e,t){return t===void 0&&(t={}),PO(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(NO,dm):e=e.replace(MO,dm),e.replace(zO,$O))};vl.camelCase=DO;var LO=Vn&&Vn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},BO=LO(Md),UO=vl;function qu(e,t){var n={};return!e||typeof e!="string"||(0,BO.default)(e,function(r,i){r&&i&&(n[(0,UO.camelCase)(r,t)]=i)}),n}qu.default=qu;var ZO=qu;const HO=gi(ZO),Fy=My("end"),Nd=My("start");function My(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function qO(e){const t=Nd(e),n=Fy(e);if(t&&n)return{start:t,end:n}}function lo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?pm(e.position):"start"in e||"end"in e?pm(e):"line"in e||"column"in e?Wu(e):""}function Wu(e){return fm(e&&e.line)+":"+fm(e&&e.column)}function pm(e){return Wu(e&&e.start)+"-"+Wu(e&&e.end)}function fm(e){return e&&typeof e=="number"?e:1}class kn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const c=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=lo(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}kn.prototype.file="";kn.prototype.name="";kn.prototype.reason="";kn.prototype.message="";kn.prototype.stack="";kn.prototype.column=void 0;kn.prototype.line=void 0;kn.prototype.ancestors=void 0;kn.prototype.cause=void 0;kn.prototype.fatal=void 0;kn.prototype.place=void 0;kn.prototype.ruleId=void 0;kn.prototype.source=void 0;const Pd={}.hasOwnProperty,WO=new Map,VO=/[A-Z]/g,GO=new Set(["table","tbody","thead","tfoot","tr"]),JO=new Set(["td","th"]),Ny="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function KO(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=iz(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=rz(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Fd:mO,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Py(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Py(e,t,n){if(t.type==="element")return YO(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return XO(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ez(e,t,n);if(t.type==="mdxjsEsm")return QO(e,t);if(t.type==="root")return tz(e,t,n);if(t.type==="text")return nz(e,t)}function YO(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Fd,e.schema=i),e.ancestors.push(t);const s=Dy(e,t.tagName,!1),o=az(e,t);let c=Dd(e,t);return GO.has(t.tagName)&&(c=c.filter(function(u){return typeof u=="string"?!aO(u):!0})),$y(e,o,s,t),$d(o,c),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function XO(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return Q(r.type==="ExpressionStatement"),e.evaluater.evaluateExpression(r.expression)}vo(e,t.position)}function QO(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);vo(e,t.position)}function ez(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Fd,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Dy(e,t.name,!0),o=oz(e,t),c=Dd(e,t);return $y(e,o,s,t),$d(o,c),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function tz(e,t,n){const r={};return $d(r,Dd(e,t)),e.create(t,e.Fragment,r,n)}function nz(e,t){return t.value}function $y(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function $d(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function rz(e,t,n){return r;function r(i,s,o,c){const d=Array.isArray(o.children)?n:t;return c?d(s,o,c):d(s,o)}}function iz(e,t){return n;function n(r,i,s,o){const c=Array.isArray(s.children),u=Nd(r);return t(i,s,o,c,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function az(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Pd.call(t.properties,i)){const s=sz(e,i,t.properties[i]);if(s){const[o,c]=s;e.tableCellAlignToStyle&&o==="align"&&typeof c=="string"&&JO.has(t.tagName)?r=c:n[o]=c}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function oz(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];Q(s.type==="ExpressionStatement");const o=s.expression;Q(o.type==="ObjectExpression");const c=o.properties[0];Q(c.type==="SpreadElement"),Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else vo(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];Q(c.type==="ExpressionStatement"),s=e.evaluater.evaluateExpression(c.expression)}else vo(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Dd(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:WO;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=i.get(u)||0;o=u+"-"+d,i.set(u,d+1)}}const c=Py(e,s,o);c!==void 0&&n.push(c)}return n}function sz(e,t,n){const r=pO(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?eO(n):gO(n)),r.property==="style"){let i=typeof n=="object"?n:lz(e,String(n));return e.stylePropertyNameCase==="css"&&(i=cz(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?cO[r.property]||r.property:r.attribute,n]}}function lz(e,t){try{return HO(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new kn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Ny+"#cannot-parse-style-attribute",i}}function Dy(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const c=rm(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:c,computed:!!(s&&c.type==="Literal"),optional:!1}:c}Q(o,"always a result"),r=o}else r=rm(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Pd.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);vo(e)}function vo(e,t){const n=new kn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Ny+"#cannot-handle-mdx-estrees-without-createevaluater",n}function cz(e){const t={};let n;for(n in e)Pd.call(e,n)&&(t[uz(n)]=e[n]);return t}function uz(e){let t=e.replace(VO,dz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function dz(e){return"-"+e.toLowerCase()}const ru={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},pz={};function fz(e,t){const n=pz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ly(e,r,i)}function Ly(e,t,n){if(hz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return hm(e.children,t,n)}return Array.isArray(e)?hm(e,t,n):""}function hm(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Ly(e[i],t,n);return r.join("")}function hz(e){return!!(e&&typeof e=="object")}const mm=document.createElement("i");function Ld(e){const t="&"+e+";";mm.innerHTML=t;const n=mm.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const M={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,ht:9,lf:10,vt:11,cr:13,space:32,exclamationMark:33,quotationMark:34,numberSign:35,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseX:88,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseX:120,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},Pe={atxHeadingOpeningFenceSizeMax:6,autolinkDomainSizeMax:63,autolinkSchemeSizeMax:32,cdataOpeningString:"CDATA[",characterGroupPunctuation:2,characterGroupWhitespace:1,characterReferenceDecimalSizeMax:7,characterReferenceHexadecimalSizeMax:6,characterReferenceNamedSizeMax:31,codeFencedSequenceSizeMin:3,contentTypeContent:"content",contentTypeFlow:"flow",contentTypeString:"string",contentTypeText:"text",hardBreakPrefixSizeMin:2,htmlBasic:6,htmlCdata:5,htmlComment:2,htmlComplete:7,htmlDeclaration:4,htmlInstruction:3,htmlRawSizeMax:8,htmlRaw:1,linkResourceDestinationBalanceMax:32,linkReferenceSizeMax:999,listItemValueSizeMax:10,numericBaseDecimal:10,numericBaseHexadecimal:16,tabSize:4,thematicBreakMarkerCountMin:3,v8MaxSafeChunkSize:1e4},F={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"},jr={ht:"	",lf:`
`,cr:"\r",space:" ",replacementCharacter:""};function Or(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<Pe.v8MaxSafeChunkSize)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+Pe.v8MaxSafeChunkSize),o.unshift(t,0),e.splice(...o),s+=Pe.v8MaxSafeChunkSize,t+=Pe.v8MaxSafeChunkSize}function ur(e,t){return e.length>0?(Or(e,e.length,0,t),e):t}const gm={}.hasOwnProperty;function mz(e){const t={};let n=-1;for(;++n<e.length;)gz(t,e[n]);return t}function gz(e,t){let n;for(n in t){const i=(gm.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){gm.call(i,o)||(i[o]=[]);const c=s[o];vz(i[o],Array.isArray(c)?c:c?[c]:[])}}}function vz(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Or(e,0,0,r)}function By(e,t){const n=Number.parseInt(e,t);return n<M.ht||n===M.vt||n>M.cr&&n<M.space||n>M.tilde&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?jr.replacementCharacter:String.fromCodePoint(n)}function ya(e){return e.replace(/[\t\n\r ]+/g,jr.space).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Rr=vi(/[A-Za-z]/),Gn=vi(/[\dA-Za-z]/),yz=vi(/[#-'*+\--9=?A-Z^-~]/);function Vu(e){return e!==null&&(e<M.space||e===M.del)}const Gu=vi(/\d/),bz=vi(/[\dA-Fa-f]/),xz=vi(/[!-/:-@[-`{-~]/);function He(e){return e!==null&&e<M.horizontalTab}function $n(e){return e!==null&&(e<M.nul||e===M.space)}function kt(e){return e===M.horizontalTab||e===M.virtualSpace||e===M.space}const _z=vi(new RegExp("\\p{P}|\\p{S}","u")),wz=vi(/\s/);function vi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Aa(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===M.percentSign&&Gn(e.charCodeAt(n+1))&&Gn(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const c=e.charCodeAt(n+1);s<56320&&c>56319&&c<57344?(o=String.fromCharCode(s,c),i=1):o=jr.replacementCharacter}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ft(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return kt(u)?(e.enter(n),c(u)):t(u)}function c(u){return kt(u)&&s++<i?(e.consume(u),c):(e.exit(n),t(u))}}const kz={tokenize:Cz};function Cz(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(c){if(Q(c===M.eof||He(c),"expected eol or eof"),c===M.eof){e.consume(c);return}return e.enter(F.lineEnding),e.consume(c),e.exit(F.lineEnding),Ft(e,t,F.linePrefix)}function i(c){return Q(c!==M.eof&&!He(c),"expected anything other than a line ending or EOF"),e.enter(F.paragraph),s(c)}function s(c){const u=e.enter(F.chunkText,{contentType:Pe.contentTypeText,previous:n});return n&&(n.next=u),n=u,o(c)}function o(c){if(c===M.eof){e.exit(F.chunkText),e.exit(F.paragraph),e.consume(c);return}return He(c)?(e.consume(c),e.exit(F.chunkText),s):(e.consume(c),o)}}const Sz={tokenize:Ez},vm={tokenize:Tz};function Ez(e){const t=this,n=[];let r=0,i,s,o;return c;function c(A){if(r<n.length){const j=n[r];return t.containerState=j[1],Q(j[0].continuation,"expected `continuation` to be defined on container construct"),e.attempt(j[0].continuation,u,d)(A)}return d(A)}function u(A){if(Q(t.containerState,"expected `containerState` to be defined after continuation"),r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&T();const j=t.events.length;let P=j,O;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type===F.chunkFlow){O=t.events[P][1].end;break}Q(O,"could not find previous flow chunk"),k(r);let B=j;for(;B<t.events.length;)t.events[B][1].end={...O},B++;return Or(t.events,P+1,0,t.events.slice(j)),t.events.length=B,d(A)}return c(A)}function d(A){if(r===n.length){if(!i)return g(A);if(i.currentConstruct&&i.currentConstruct.concrete)return v(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(vm,p,h)(A)}function p(A){return i&&T(),k(r),g(A)}function h(A){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,v(A)}function g(A){return t.containerState={},e.attempt(vm,y,v)(A)}function y(A){return Q(t.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),Q(t.containerState,"expected `containerState` to be defined on tokenizer"),r++,n.push([t.currentConstruct,t.containerState]),g(A)}function v(A){if(A===M.eof){i&&T(),k(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter(F.chunkFlow,{_tokenizer:i,contentType:Pe.contentTypeFlow,previous:s}),w(A)}function w(A){if(A===M.eof){_(e.exit(F.chunkFlow),!0),k(0),e.consume(A);return}return He(A)?(e.consume(A),_(e.exit(F.chunkFlow)),r=0,t.interrupt=void 0,c):(e.consume(A),w)}function _(A,j){Q(i,"expected `childFlow` to be defined when continuing");const P=t.sliceStream(A);if(j&&P.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write(P),t.parser.lazy[A.start.line]){let O=i.events.length;for(;O--;)if(i.events[O][1].start.offset<o&&(!i.events[O][1].end||i.events[O][1].end.offset>o))return;const B=t.events.length;let U=B,Y,X;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type===F.chunkFlow){if(Y){X=t.events[U][1].end;break}Y=!0}for(Q(X,"could not find previous flow chunk"),k(r),O=B;O<t.events.length;)t.events[O][1].end={...X},O++;Or(t.events,U+1,0,t.events.slice(B)),t.events.length=O}}function k(A){let j=n.length;for(;j-- >A;){const P=n[j];t.containerState=P[1],Q(P[0].exit,"expected `exit` to be defined on container construct"),P[0].exit.call(t,e)}n.length=A}function T(){Q(t.containerState,"expected `containerState` to be defined when closing flow"),Q(i,"expected `childFlow` to be defined when closing it"),i.write([M.eof]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Tz(e,t,n){return Q(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ft(e,e.attempt(this.parser.constructs.document,t,n),F.linePrefix,this.parser.constructs.disable.null.includes("codeIndented")?void 0:Pe.tabSize)}function ym(e){if(e===M.eof||$n(e)||wz(e))return Pe.characterGroupWhitespace;if(_z(e))return Pe.characterGroupPunctuation}function Bd(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Ju={name:"attention",resolveAll:Az,tokenize:Iz};function Az(e,t){let n=-1,r,i,s,o,c,u,d,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},g={...e[n][1].start};bm(h,-u),bm(g,u),o={type:u>1?F.strongSequence:F.emphasisSequence,start:h,end:{...e[r][1].end}},c={type:u>1?F.strongSequence:F.emphasisSequence,start:{...e[n][1].start},end:g},s={type:u>1?F.strongText:F.emphasisText,start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?F.strong:F.emphasis,start:{...o.start},end:{...c.end}},e[r][1].end={...o.start},e[n][1].start={...c.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=ur(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=ur(d,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),Q(t.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),d=ur(d,Bd(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=ur(d,[["exit",s,t],["enter",c,t],["exit",c,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,d=ur(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,Or(e,r-1,n-r+3,d),n=r+d.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Iz(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ym(r);let s;return o;function o(u){return Q(u===M.asterisk||u===M.underscore,"expected asterisk or underscore"),s=u,e.enter("attentionSequence"),c(u)}function c(u){if(u===s)return e.consume(u),c;const d=e.exit("attentionSequence"),p=ym(u);Q(n,"expected `attentionMarkers` to be populated");const h=!p||p===Pe.characterGroupPunctuation&&i||n.includes(u),g=!i||i===Pe.characterGroupPunctuation&&p||n.includes(r);return d._open=!!(s===M.asterisk?h:h&&(i||!g)),d._close=!!(s===M.asterisk?g:g&&(p||!h)),t(u)}}function bm(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const jz={name:"autolink",tokenize:Rz};function Rz(e,t,n){let r=0;return i;function i(y){return Q(y===M.lessThan,"expected `<`"),e.enter(F.autolink),e.enter(F.autolinkMarker),e.consume(y),e.exit(F.autolinkMarker),e.enter(F.autolinkProtocol),s}function s(y){return Rr(y)?(e.consume(y),o):y===M.atSign?n(y):d(y)}function o(y){return y===M.plusSign||y===M.dash||y===M.dot||Gn(y)?(r=1,c(y)):d(y)}function c(y){return y===M.colon?(e.consume(y),r=0,u):(y===M.plusSign||y===M.dash||y===M.dot||Gn(y))&&r++<Pe.autolinkSchemeSizeMax?(e.consume(y),c):(r=0,d(y))}function u(y){return y===M.greaterThan?(e.exit(F.autolinkProtocol),e.enter(F.autolinkMarker),e.consume(y),e.exit(F.autolinkMarker),e.exit(F.autolink),t):y===M.eof||y===M.space||y===M.lessThan||Vu(y)?n(y):(e.consume(y),u)}function d(y){return y===M.atSign?(e.consume(y),p):yz(y)?(e.consume(y),d):n(y)}function p(y){return Gn(y)?h(y):n(y)}function h(y){return y===M.dot?(e.consume(y),r=0,p):y===M.greaterThan?(e.exit(F.autolinkProtocol).type=F.autolinkEmail,e.enter(F.autolinkMarker),e.consume(y),e.exit(F.autolinkMarker),e.exit(F.autolink),t):g(y)}function g(y){if((y===M.dash||Gn(y))&&r++<Pe.autolinkDomainSizeMax){const v=y===M.dash?g:h;return e.consume(y),v}return n(y)}}const yl={partial:!0,tokenize:Oz};function Oz(e,t,n){return r;function r(s){return kt(s)?Ft(e,i,F.linePrefix)(s):i(s)}function i(s){return s===M.eof||He(s)?t(s):n(s)}}const Uy={continuation:{tokenize:Fz},exit:Mz,name:"blockQuote",tokenize:zz};function zz(e,t,n){const r=this;return i;function i(o){if(o===M.greaterThan){const c=r.containerState;return Q(c,"expected `containerState` to be defined in container"),c.open||(e.enter(F.blockQuote,{_container:!0}),c.open=!0),e.enter(F.blockQuotePrefix),e.enter(F.blockQuoteMarker),e.consume(o),e.exit(F.blockQuoteMarker),s}return n(o)}function s(o){return kt(o)?(e.enter(F.blockQuotePrefixWhitespace),e.consume(o),e.exit(F.blockQuotePrefixWhitespace),e.exit(F.blockQuotePrefix),t):(e.exit(F.blockQuotePrefix),t(o))}}function Fz(e,t,n){const r=this;return i;function i(o){return kt(o)?(Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ft(e,s,F.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:Pe.tabSize)(o)):s(o)}function s(o){return e.attempt(Uy,t,n)(o)}}function Mz(e){e.exit(F.blockQuote)}const Zy={name:"characterEscape",tokenize:Nz};function Nz(e,t,n){return r;function r(s){return Q(s===M.backslash,"expected `\\`"),e.enter(F.characterEscape),e.enter(F.escapeMarker),e.consume(s),e.exit(F.escapeMarker),i}function i(s){return xz(s)?(e.enter(F.characterEscapeValue),e.consume(s),e.exit(F.characterEscapeValue),e.exit(F.characterEscape),t):n(s)}}const Hy={name:"characterReference",tokenize:Pz};function Pz(e,t,n){const r=this;let i=0,s,o;return c;function c(h){return Q(h===M.ampersand,"expected `&`"),e.enter(F.characterReference),e.enter(F.characterReferenceMarker),e.consume(h),e.exit(F.characterReferenceMarker),u}function u(h){return h===M.numberSign?(e.enter(F.characterReferenceMarkerNumeric),e.consume(h),e.exit(F.characterReferenceMarkerNumeric),d):(e.enter(F.characterReferenceValue),s=Pe.characterReferenceNamedSizeMax,o=Gn,p(h))}function d(h){return h===M.uppercaseX||h===M.lowercaseX?(e.enter(F.characterReferenceMarkerHexadecimal),e.consume(h),e.exit(F.characterReferenceMarkerHexadecimal),e.enter(F.characterReferenceValue),s=Pe.characterReferenceHexadecimalSizeMax,o=bz,p):(e.enter(F.characterReferenceValue),s=Pe.characterReferenceDecimalSizeMax,o=Gu,p(h))}function p(h){if(h===M.semicolon&&i){const g=e.exit(F.characterReferenceValue);return o===Gn&&!Ld(r.sliceSerialize(g))?n(h):(e.enter(F.characterReferenceMarker),e.consume(h),e.exit(F.characterReferenceMarker),e.exit(F.characterReference),t)}return o(h)&&i++<s?(e.consume(h),p):n(h)}}const xm={partial:!0,tokenize:Dz},_m={concrete:!0,name:"codeFenced",tokenize:$z};function $z(e,t,n){const r=this,i={partial:!0,tokenize:P};let s=0,o=0,c;return u;function u(O){return d(O)}function d(O){Q(O===M.graveAccent||O===M.tilde,"expected `` ` `` or `~`");const B=r.events[r.events.length-1];return s=B&&B[1].type===F.linePrefix?B[2].sliceSerialize(B[1],!0).length:0,c=O,e.enter(F.codeFenced),e.enter(F.codeFencedFence),e.enter(F.codeFencedFenceSequence),p(O)}function p(O){return O===c?(o++,e.consume(O),p):o<Pe.codeFencedSequenceSizeMin?n(O):(e.exit(F.codeFencedFenceSequence),kt(O)?Ft(e,h,F.whitespace)(O):h(O))}function h(O){return O===M.eof||He(O)?(e.exit(F.codeFencedFence),r.interrupt?t(O):e.check(xm,w,j)(O)):(e.enter(F.codeFencedFenceInfo),e.enter(F.chunkString,{contentType:Pe.contentTypeString}),g(O))}function g(O){return O===M.eof||He(O)?(e.exit(F.chunkString),e.exit(F.codeFencedFenceInfo),h(O)):kt(O)?(e.exit(F.chunkString),e.exit(F.codeFencedFenceInfo),Ft(e,y,F.whitespace)(O)):O===M.graveAccent&&O===c?n(O):(e.consume(O),g)}function y(O){return O===M.eof||He(O)?h(O):(e.enter(F.codeFencedFenceMeta),e.enter(F.chunkString,{contentType:Pe.contentTypeString}),v(O))}function v(O){return O===M.eof||He(O)?(e.exit(F.chunkString),e.exit(F.codeFencedFenceMeta),h(O)):O===M.graveAccent&&O===c?n(O):(e.consume(O),v)}function w(O){return Q(He(O),"expected eol"),e.attempt(i,j,_)(O)}function _(O){return Q(He(O),"expected eol"),e.enter(F.lineEnding),e.consume(O),e.exit(F.lineEnding),k}function k(O){return s>0&&kt(O)?Ft(e,T,F.linePrefix,s+1)(O):T(O)}function T(O){return O===M.eof||He(O)?e.check(xm,w,j)(O):(e.enter(F.codeFlowValue),A(O))}function A(O){return O===M.eof||He(O)?(e.exit(F.codeFlowValue),T(O)):(e.consume(O),A)}function j(O){return e.exit(F.codeFenced),t(O)}function P(O,B,U){let Y=0;return X;function X(x){return Q(He(x),"expected eol"),O.enter(F.lineEnding),O.consume(x),O.exit(F.lineEnding),q}function q(x){return Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),O.enter(F.codeFencedFence),kt(x)?Ft(O,se,F.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:Pe.tabSize)(x):se(x)}function se(x){return x===c?(O.enter(F.codeFencedFenceSequence),R(x)):U(x)}function R(x){return x===c?(Y++,O.consume(x),R):Y>=o?(O.exit(F.codeFencedFenceSequence),kt(x)?Ft(O,G,F.whitespace)(x):G(x)):U(x)}function G(x){return x===M.eof||He(x)?(O.exit(F.codeFencedFence),B(x)):U(x)}}}function Dz(e,t,n){const r=this;return i;function i(o){return o===M.eof?n(o):(Q(He(o),"expected eol"),e.enter(F.lineEnding),e.consume(o),e.exit(F.lineEnding),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const iu={name:"codeIndented",tokenize:Bz},Lz={partial:!0,tokenize:Uz};function Bz(e,t,n){const r=this;return i;function i(d){return Q(kt(d)),e.enter(F.codeIndented),Ft(e,s,F.linePrefix,Pe.tabSize+1)(d)}function s(d){const p=r.events[r.events.length-1];return p&&p[1].type===F.linePrefix&&p[2].sliceSerialize(p[1],!0).length>=Pe.tabSize?o(d):n(d)}function o(d){return d===M.eof?u(d):He(d)?e.attempt(Lz,o,u)(d):(e.enter(F.codeFlowValue),c(d))}function c(d){return d===M.eof||He(d)?(e.exit(F.codeFlowValue),o(d)):(e.consume(d),c)}function u(d){return e.exit(F.codeIndented),t(d)}}function Uz(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):He(o)?(e.enter(F.lineEnding),e.consume(o),e.exit(F.lineEnding),i):Ft(e,s,F.linePrefix,Pe.tabSize+1)(o)}function s(o){const c=r.events[r.events.length-1];return c&&c[1].type===F.linePrefix&&c[2].sliceSerialize(c[1],!0).length>=Pe.tabSize?t(o):He(o)?i(o):n(o)}}const Zz={name:"codeText",previous:qy,resolve:Hz,tokenize:qz};function Hz(e){let t=e.length-4,n=3,r,i;if((e[n][1].type===F.lineEnding||e[n][1].type==="space")&&(e[t][1].type===F.lineEnding||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type===F.codeTextData){e[n][1].type=F.codeTextPadding,e[t][1].type=F.codeTextPadding,n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!==F.lineEnding&&(i=r):(r===t||e[r][1].type===F.lineEnding)&&(e[i][1].type=F.codeTextData,r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function qy(e){return e!==M.graveAccent||this.events[this.events.length-1][1].type===F.characterEscape}function qz(e,t,n){const r=this;let i=0,s,o;return c;function c(g){return Q(g===M.graveAccent,"expected `` ` ``"),Q(qy.call(r,r.previous),"expected correct previous"),e.enter(F.codeText),e.enter(F.codeTextSequence),u(g)}function u(g){return g===M.graveAccent?(e.consume(g),i++,u):(e.exit(F.codeTextSequence),d(g))}function d(g){return g===M.eof?n(g):g===M.space?(e.enter("space"),e.consume(g),e.exit("space"),d):g===M.graveAccent?(o=e.enter(F.codeTextSequence),s=0,h(g)):He(g)?(e.enter(F.lineEnding),e.consume(g),e.exit(F.lineEnding),d):(e.enter(F.codeTextData),p(g))}function p(g){return g===M.eof||g===M.space||g===M.graveAccent||He(g)?(e.exit(F.codeTextData),d(g)):(e.consume(g),p)}function h(g){return g===M.graveAccent?(e.consume(g),s++,h):s===i?(e.exit(F.codeTextSequence),e.exit(F.codeText),t(g)):(o.type=F.codeTextData,p(g))}}class Wz{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&eo(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),eo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),eo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);eo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);eo(this.left,n.reverse())}}}function eo(e,t){let n=0;if(t.length<Pe.v8MaxSafeChunkSize)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+Pe.v8MaxSafeChunkSize)),n+=Pe.v8MaxSafeChunkSize}function Wy(e){const t={};let n=-1,r,i,s,o,c,u,d;const p=new Wz(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type===F.chunkFlow&&p.get(n-1)[1].type===F.listItemPrefix&&(Q(r[1]._tokenizer,"expected `_tokenizer` on subtokens"),u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type===F.lineEndingBlank&&(s+=2),s<u.length&&u[s][1].type===F.content))for(;++s<u.length&&u[s][1].type!==F.content;)u[s][1].type===F.chunkText&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Vz(p,n)),n=t[n],d=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=p.get(s),o[1].type===F.lineEnding||o[1].type===F.lineEndingBlank)o[0]==="enter"&&(i&&(p.get(i)[1].type=F.lineEndingBlank),o[1].type=F.lineEnding,i=s);else if(!(o[1].type===F.linePrefix||o[1].type===F.listItemIndent))break;i&&(r[1].end={...p.get(i)[1].start},c=p.slice(i,n),c.unshift(r),p.splice(i,n-i+1,c))}}return Or(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function Vz(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];Q(n.contentType,"expected `contentType` on subtokens");let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const c=o.events,u=[],d={};let p,h,g=-1,y=n,v=0,w=0;const _=[w];for(;y;){for(;e.get(++i)[1]!==y;);Q(!h||y.previous===h,"expected previous to match"),Q(!h||h.next===y,"expected next to match"),s.push(i),y._tokenizer||(p=r.sliceStream(y),y.next||p.push(M.eof),h&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=y,y=y.next}for(y=n;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(Q(y,"expected a current token"),w=g+1,_.push(w),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0,Q(!y.next,"expected no next token")):_.pop(),g=_.length;g--;){const k=c.slice(_[g],_[g+1]),T=s.pop();Q(T!==void 0,"expected a start position when splicing"),u.push([T,T+k.length-1]),e.splice(T,2,k)}for(u.reverse(),g=-1;++g<u.length;)d[v+u[g][0]]=v+u[g][1],v+=u[g][1]-u[g][0]-1;return d}const Gz={resolve:Kz,tokenize:Yz},Jz={partial:!0,tokenize:Xz};function Kz(e){return Wy(e),e}function Yz(e,t){let n;return r;function r(c){return Q(c!==M.eof&&!He(c),"expected no eof or eol"),e.enter(F.content),n=e.enter(F.chunkContent,{contentType:Pe.contentTypeContent}),i(c)}function i(c){return c===M.eof?s(c):He(c)?e.check(Jz,o,s)(c):(e.consume(c),i)}function s(c){return e.exit(F.chunkContent),e.exit(F.content),t(c)}function o(c){return Q(He(c),"expected eol"),e.consume(c),e.exit(F.chunkContent),Q(n,"expected previous token"),n.next=e.enter(F.chunkContent,{contentType:Pe.contentTypeContent,previous:n}),n=n.next,i}}function Xz(e,t,n){const r=this;return i;function i(o){return Q(He(o),"expected a line ending"),e.exit(F.chunkContent),e.enter(F.lineEnding),e.consume(o),e.exit(F.lineEnding),Ft(e,s,F.linePrefix)}function s(o){if(o===M.eof||He(o))return n(o);Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated");const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type===F.linePrefix&&c[2].sliceSerialize(c[1],!0).length>=Pe.tabSize?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Vy(e,t,n,r,i,s,o,c,u){const d=u||Number.POSITIVE_INFINITY;let p=0;return h;function h(k){return k===M.lessThan?(e.enter(r),e.enter(i),e.enter(s),e.consume(k),e.exit(s),g):k===M.eof||k===M.space||k===M.rightParenthesis||Vu(k)?n(k):(e.enter(r),e.enter(o),e.enter(c),e.enter(F.chunkString,{contentType:Pe.contentTypeString}),w(k))}function g(k){return k===M.greaterThan?(e.enter(s),e.consume(k),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(c),e.enter(F.chunkString,{contentType:Pe.contentTypeString}),y(k))}function y(k){return k===M.greaterThan?(e.exit(F.chunkString),e.exit(c),g(k)):k===M.eof||k===M.lessThan||He(k)?n(k):(e.consume(k),k===M.backslash?v:y)}function v(k){return k===M.lessThan||k===M.greaterThan||k===M.backslash?(e.consume(k),y):y(k)}function w(k){return!p&&(k===M.eof||k===M.rightParenthesis||$n(k))?(e.exit(F.chunkString),e.exit(c),e.exit(o),e.exit(r),t(k)):p<d&&k===M.leftParenthesis?(e.consume(k),p++,w):k===M.rightParenthesis?(e.consume(k),p--,w):k===M.eof||k===M.space||k===M.leftParenthesis||Vu(k)?n(k):(e.consume(k),k===M.backslash?_:w)}function _(k){return k===M.leftParenthesis||k===M.rightParenthesis||k===M.backslash?(e.consume(k),w):w(k)}}function Gy(e,t,n,r,i,s){const o=this;let c=0,u;return d;function d(y){return Q(y===M.leftSquareBracket,"expected `[`"),e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(s),p}function p(y){return c>Pe.linkReferenceSizeMax||y===M.eof||y===M.leftSquareBracket||y===M.rightSquareBracket&&!u||y===M.caret&&!c&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===M.rightSquareBracket?(e.exit(s),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):He(y)?(e.enter(F.lineEnding),e.consume(y),e.exit(F.lineEnding),p):(e.enter(F.chunkString,{contentType:Pe.contentTypeString}),h(y))}function h(y){return y===M.eof||y===M.leftSquareBracket||y===M.rightSquareBracket||He(y)||c++>Pe.linkReferenceSizeMax?(e.exit(F.chunkString),p(y)):(e.consume(y),u||(u=!kt(y)),y===M.backslash?g:h)}function g(y){return y===M.leftSquareBracket||y===M.backslash||y===M.rightSquareBracket?(e.consume(y),c++,h):h(y)}}function Jy(e,t,n,r,i,s){let o;return c;function c(g){return g===M.quotationMark||g===M.apostrophe||g===M.leftParenthesis?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===M.leftParenthesis?M.rightParenthesis:g,u):n(g)}function u(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),d(g))}function d(g){return g===o?(e.exit(s),u(o)):g===M.eof?n(g):He(g)?(e.enter(F.lineEnding),e.consume(g),e.exit(F.lineEnding),Ft(e,d,F.linePrefix)):(e.enter(F.chunkString,{contentType:Pe.contentTypeString}),p(g))}function p(g){return g===o||g===M.eof||He(g)?(e.exit(F.chunkString),d(g)):(e.consume(g),g===M.backslash?h:p)}function h(g){return g===o||g===M.backslash?(e.consume(g),p):p(g)}}function co(e,t){let n;return r;function r(i){return He(i)?(e.enter(F.lineEnding),e.consume(i),e.exit(F.lineEnding),n=!0,r):kt(i)?Ft(e,r,n?F.linePrefix:F.lineSuffix)(i):t(i)}}const Qz={name:"definition",tokenize:tF},eF={partial:!0,tokenize:nF};function tF(e,t,n){const r=this;let i;return s;function s(y){return e.enter(F.definition),o(y)}function o(y){return Q(y===M.leftSquareBracket,"expected `[`"),Gy.call(r,e,c,n,F.definitionLabel,F.definitionLabelMarker,F.definitionLabelString)(y)}function c(y){return i=ya(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===M.colon?(e.enter(F.definitionMarker),e.consume(y),e.exit(F.definitionMarker),u):n(y)}function u(y){return $n(y)?co(e,d)(y):d(y)}function d(y){return Vy(e,p,n,F.definitionDestination,F.definitionDestinationLiteral,F.definitionDestinationLiteralMarker,F.definitionDestinationRaw,F.definitionDestinationString)(y)}function p(y){return e.attempt(eF,h,h)(y)}function h(y){return kt(y)?Ft(e,g,F.whitespace)(y):g(y)}function g(y){return y===M.eof||He(y)?(e.exit(F.definition),r.parser.defined.push(i),t(y)):n(y)}}function nF(e,t,n){return r;function r(c){return $n(c)?co(e,i)(c):n(c)}function i(c){return Jy(e,s,n,F.definitionTitle,F.definitionTitleMarker,F.definitionTitleString)(c)}function s(c){return kt(c)?Ft(e,o,F.whitespace)(c):o(c)}function o(c){return c===M.eof||He(c)?t(c):n(c)}}const rF={name:"hardBreakEscape",tokenize:iF};function iF(e,t,n){return r;function r(s){return Q(s===M.backslash,"expected `\\`"),e.enter(F.hardBreakEscape),e.consume(s),i}function i(s){return He(s)?(e.exit(F.hardBreakEscape),t(s)):n(s)}}const aF={name:"headingAtx",resolve:oF,tokenize:sF};function oF(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type===F.whitespace&&(r+=2),n-2>r&&e[n][1].type===F.whitespace&&(n-=2),e[n][1].type===F.atxHeadingSequence&&(r===n-1||n-4>r&&e[n-2][1].type===F.whitespace)&&(n-=r+1===n?2:4),n>r&&(i={type:F.atxHeadingText,start:e[r][1].start,end:e[n][1].end},s={type:F.chunkText,start:e[r][1].start,end:e[n][1].end,contentType:Pe.contentTypeText},Or(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function sF(e,t,n){let r=0;return i;function i(p){return e.enter(F.atxHeading),s(p)}function s(p){return Q(p===M.numberSign,"expected `#`"),e.enter(F.atxHeadingSequence),o(p)}function o(p){return p===M.numberSign&&r++<Pe.atxHeadingOpeningFenceSizeMax?(e.consume(p),o):p===M.eof||$n(p)?(e.exit(F.atxHeadingSequence),c(p)):n(p)}function c(p){return p===M.numberSign?(e.enter(F.atxHeadingSequence),u(p)):p===M.eof||He(p)?(e.exit(F.atxHeading),t(p)):kt(p)?Ft(e,c,F.whitespace)(p):(e.enter(F.atxHeadingText),d(p))}function u(p){return p===M.numberSign?(e.consume(p),u):(e.exit(F.atxHeadingSequence),c(p))}function d(p){return p===M.eof||p===M.numberSign||$n(p)?(e.exit(F.atxHeadingText),c(p)):(e.consume(p),d)}}const lF=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wm=["pre","script","style","textarea"],cF={concrete:!0,name:"htmlFlow",resolveTo:pF,tokenize:fF},uF={partial:!0,tokenize:mF},dF={partial:!0,tokenize:hF};function pF(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type===F.htmlFlow););return t>1&&e[t-2][1].type===F.linePrefix&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function fF(e,t,n){const r=this;let i,s,o,c,u;return d;function d(z){return p(z)}function p(z){return Q(z===M.lessThan,"expected `<`"),e.enter(F.htmlFlow),e.enter(F.htmlFlowData),e.consume(z),h}function h(z){return z===M.exclamationMark?(e.consume(z),g):z===M.slash?(e.consume(z),s=!0,w):z===M.questionMark?(e.consume(z),i=Pe.htmlInstruction,r.interrupt?t:N):Rr(z)?(Q(z!==null),e.consume(z),o=String.fromCharCode(z),_):n(z)}function g(z){return z===M.dash?(e.consume(z),i=Pe.htmlComment,y):z===M.leftSquareBracket?(e.consume(z),i=Pe.htmlCdata,c=0,v):Rr(z)?(e.consume(z),i=Pe.htmlDeclaration,r.interrupt?t:N):n(z)}function y(z){return z===M.dash?(e.consume(z),r.interrupt?t:N):n(z)}function v(z){const Oe=Pe.cdataOpeningString;return z===Oe.charCodeAt(c++)?(e.consume(z),c===Oe.length?r.interrupt?t:se:v):n(z)}function w(z){return Rr(z)?(Q(z!==null),e.consume(z),o=String.fromCharCode(z),_):n(z)}function _(z){if(z===M.eof||z===M.slash||z===M.greaterThan||$n(z)){const Oe=z===M.slash,ue=o.toLowerCase();return!Oe&&!s&&wm.includes(ue)?(i=Pe.htmlRaw,r.interrupt?t(z):se(z)):lF.includes(o.toLowerCase())?(i=Pe.htmlBasic,Oe?(e.consume(z),k):r.interrupt?t(z):se(z)):(i=Pe.htmlComplete,r.interrupt&&!r.parser.lazy[r.now().line]?n(z):s?T(z):A(z))}return z===M.dash||Gn(z)?(e.consume(z),o+=String.fromCharCode(z),_):n(z)}function k(z){return z===M.greaterThan?(e.consume(z),r.interrupt?t:se):n(z)}function T(z){return kt(z)?(e.consume(z),T):X(z)}function A(z){return z===M.slash?(e.consume(z),X):z===M.colon||z===M.underscore||Rr(z)?(e.consume(z),j):kt(z)?(e.consume(z),A):X(z)}function j(z){return z===M.dash||z===M.dot||z===M.colon||z===M.underscore||Gn(z)?(e.consume(z),j):P(z)}function P(z){return z===M.equalsTo?(e.consume(z),O):kt(z)?(e.consume(z),P):A(z)}function O(z){return z===M.eof||z===M.lessThan||z===M.equalsTo||z===M.greaterThan||z===M.graveAccent?n(z):z===M.quotationMark||z===M.apostrophe?(e.consume(z),u=z,B):kt(z)?(e.consume(z),O):U(z)}function B(z){return z===u?(e.consume(z),u=null,Y):z===M.eof||He(z)?n(z):(e.consume(z),B)}function U(z){return z===M.eof||z===M.quotationMark||z===M.apostrophe||z===M.slash||z===M.lessThan||z===M.equalsTo||z===M.greaterThan||z===M.graveAccent||$n(z)?P(z):(e.consume(z),U)}function Y(z){return z===M.slash||z===M.greaterThan||kt(z)?A(z):n(z)}function X(z){return z===M.greaterThan?(e.consume(z),q):n(z)}function q(z){return z===M.eof||He(z)?se(z):kt(z)?(e.consume(z),q):n(z)}function se(z){return z===M.dash&&i===Pe.htmlComment?(e.consume(z),L):z===M.lessThan&&i===Pe.htmlRaw?(e.consume(z),Ce):z===M.greaterThan&&i===Pe.htmlDeclaration?(e.consume(z),Te):z===M.questionMark&&i===Pe.htmlInstruction?(e.consume(z),N):z===M.rightSquareBracket&&i===Pe.htmlCdata?(e.consume(z),de):He(z)&&(i===Pe.htmlBasic||i===Pe.htmlComplete)?(e.exit(F.htmlFlowData),e.check(uF,oe,R)(z)):z===M.eof||He(z)?(e.exit(F.htmlFlowData),R(z)):(e.consume(z),se)}function R(z){return e.check(dF,G,oe)(z)}function G(z){return Q(He(z)),e.enter(F.lineEnding),e.consume(z),e.exit(F.lineEnding),x}function x(z){return z===M.eof||He(z)?R(z):(e.enter(F.htmlFlowData),se(z))}function L(z){return z===M.dash?(e.consume(z),N):se(z)}function Ce(z){return z===M.slash?(e.consume(z),o="",le):se(z)}function le(z){if(z===M.greaterThan){const Oe=o.toLowerCase();return wm.includes(Oe)?(e.consume(z),Te):se(z)}return Rr(z)&&o.length<Pe.htmlRawSizeMax?(Q(z!==null),e.consume(z),o+=String.fromCharCode(z),le):se(z)}function de(z){return z===M.rightSquareBracket?(e.consume(z),N):se(z)}function N(z){return z===M.greaterThan?(e.consume(z),Te):z===M.dash&&i===Pe.htmlComment?(e.consume(z),N):se(z)}function Te(z){return z===M.eof||He(z)?(e.exit(F.htmlFlowData),oe(z)):(e.consume(z),Te)}function oe(z){return e.exit(F.htmlFlow),t(z)}}function hF(e,t,n){const r=this;return i;function i(o){return He(o)?(e.enter(F.lineEnding),e.consume(o),e.exit(F.lineEnding),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function mF(e,t,n){return r;function r(i){return Q(He(i),"expected a line ending"),e.enter(F.lineEnding),e.consume(i),e.exit(F.lineEnding),e.attempt(yl,t,n)}}const gF={name:"htmlText",tokenize:vF};function vF(e,t,n){const r=this;let i,s,o;return c;function c(N){return Q(N===M.lessThan,"expected `<`"),e.enter(F.htmlText),e.enter(F.htmlTextData),e.consume(N),u}function u(N){return N===M.exclamationMark?(e.consume(N),d):N===M.slash?(e.consume(N),P):N===M.questionMark?(e.consume(N),A):Rr(N)?(e.consume(N),U):n(N)}function d(N){return N===M.dash?(e.consume(N),p):N===M.leftSquareBracket?(e.consume(N),s=0,v):Rr(N)?(e.consume(N),T):n(N)}function p(N){return N===M.dash?(e.consume(N),y):n(N)}function h(N){return N===M.eof?n(N):N===M.dash?(e.consume(N),g):He(N)?(o=h,Ce(N)):(e.consume(N),h)}function g(N){return N===M.dash?(e.consume(N),y):h(N)}function y(N){return N===M.greaterThan?L(N):N===M.dash?g(N):h(N)}function v(N){const Te=Pe.cdataOpeningString;return N===Te.charCodeAt(s++)?(e.consume(N),s===Te.length?w:v):n(N)}function w(N){return N===M.eof?n(N):N===M.rightSquareBracket?(e.consume(N),_):He(N)?(o=w,Ce(N)):(e.consume(N),w)}function _(N){return N===M.rightSquareBracket?(e.consume(N),k):w(N)}function k(N){return N===M.greaterThan?L(N):N===M.rightSquareBracket?(e.consume(N),k):w(N)}function T(N){return N===M.eof||N===M.greaterThan?L(N):He(N)?(o=T,Ce(N)):(e.consume(N),T)}function A(N){return N===M.eof?n(N):N===M.questionMark?(e.consume(N),j):He(N)?(o=A,Ce(N)):(e.consume(N),A)}function j(N){return N===M.greaterThan?L(N):A(N)}function P(N){return Rr(N)?(e.consume(N),O):n(N)}function O(N){return N===M.dash||Gn(N)?(e.consume(N),O):B(N)}function B(N){return He(N)?(o=B,Ce(N)):kt(N)?(e.consume(N),B):L(N)}function U(N){return N===M.dash||Gn(N)?(e.consume(N),U):N===M.slash||N===M.greaterThan||$n(N)?Y(N):n(N)}function Y(N){return N===M.slash?(e.consume(N),L):N===M.colon||N===M.underscore||Rr(N)?(e.consume(N),X):He(N)?(o=Y,Ce(N)):kt(N)?(e.consume(N),Y):L(N)}function X(N){return N===M.dash||N===M.dot||N===M.colon||N===M.underscore||Gn(N)?(e.consume(N),X):q(N)}function q(N){return N===M.equalsTo?(e.consume(N),se):He(N)?(o=q,Ce(N)):kt(N)?(e.consume(N),q):Y(N)}function se(N){return N===M.eof||N===M.lessThan||N===M.equalsTo||N===M.greaterThan||N===M.graveAccent?n(N):N===M.quotationMark||N===M.apostrophe?(e.consume(N),i=N,R):He(N)?(o=se,Ce(N)):kt(N)?(e.consume(N),se):(e.consume(N),G)}function R(N){return N===i?(e.consume(N),i=void 0,x):N===M.eof?n(N):He(N)?(o=R,Ce(N)):(e.consume(N),R)}function G(N){return N===M.eof||N===M.quotationMark||N===M.apostrophe||N===M.lessThan||N===M.equalsTo||N===M.graveAccent?n(N):N===M.slash||N===M.greaterThan||$n(N)?Y(N):(e.consume(N),G)}function x(N){return N===M.slash||N===M.greaterThan||$n(N)?Y(N):n(N)}function L(N){return N===M.greaterThan?(e.consume(N),e.exit(F.htmlTextData),e.exit(F.htmlText),t):n(N)}function Ce(N){return Q(o,"expected return state"),Q(He(N),"expected eol"),e.exit(F.htmlTextData),e.enter(F.lineEnding),e.consume(N),e.exit(F.lineEnding),le}function le(N){return Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),kt(N)?Ft(e,de,F.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:Pe.tabSize)(N):de(N)}function de(N){return e.enter(F.htmlTextData),o(N)}}const Ud={name:"labelEnd",resolveAll:_F,resolveTo:wF,tokenize:kF},yF={tokenize:CF},bF={tokenize:SF},xF={tokenize:EF};function _F(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type===F.labelImage||r.type===F.labelLink||r.type===F.labelEnd){const i=r.type===F.labelImage?4:2;r.type=F.data,t+=i}}return e.length!==n.length&&Or(e,0,e.length,n),e}function wF(e,t){let n=e.length,r=0,i,s,o,c;for(;n--;)if(i=e[n][1],s){if(i.type===F.link||i.type===F.labelLink&&i._inactive)break;e[n][0]==="enter"&&i.type===F.labelLink&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type===F.labelImage||i.type===F.labelLink)&&!i._balanced&&(s=n,i.type!==F.labelLink)){r=2;break}}else i.type===F.labelEnd&&(o=n);Q(s!==void 0,"`open` is supposed to be found"),Q(o!==void 0,"`close` is supposed to be found");const u={type:e[s][1].type===F.labelLink?F.link:F.image,start:{...e[s][1].start},end:{...e[e.length-1][1].end}},d={type:F.label,start:{...e[s][1].start},end:{...e[o][1].end}},p={type:F.labelText,start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return c=[["enter",u,t],["enter",d,t]],c=ur(c,e.slice(s+1,s+r+3)),c=ur(c,[["enter",p,t]]),Q(t.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),c=ur(c,Bd(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),c=ur(c,[["exit",p,t],e[o-2],e[o-1],["exit",d,t]]),c=ur(c,e.slice(o+1)),c=ur(c,[["exit",u,t]]),Or(e,s,e.length,c),e}function kF(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type===F.labelImage||r.events[i][1].type===F.labelLink)&&!r.events[i][1]._balanced){s=r.events[i][1];break}return c;function c(g){return Q(g===M.rightSquareBracket,"expected `]`"),s?s._inactive?h(g):(o=r.parser.defined.includes(ya(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter(F.labelEnd),e.enter(F.labelMarker),e.consume(g),e.exit(F.labelMarker),e.exit(F.labelEnd),u):n(g)}function u(g){return g===M.leftParenthesis?e.attempt(yF,p,o?p:h)(g):g===M.leftSquareBracket?e.attempt(bF,p,o?d:h)(g):o?p(g):h(g)}function d(g){return e.attempt(xF,p,h)(g)}function p(g){return t(g)}function h(g){return s._balanced=!0,n(g)}}function CF(e,t,n){return r;function r(h){return Q(h===M.leftParenthesis,"expected left paren"),e.enter(F.resource),e.enter(F.resourceMarker),e.consume(h),e.exit(F.resourceMarker),i}function i(h){return $n(h)?co(e,s)(h):s(h)}function s(h){return h===M.rightParenthesis?p(h):Vy(e,o,c,F.resourceDestination,F.resourceDestinationLiteral,F.resourceDestinationLiteralMarker,F.resourceDestinationRaw,F.resourceDestinationString,Pe.linkResourceDestinationBalanceMax)(h)}function o(h){return $n(h)?co(e,u)(h):p(h)}function c(h){return n(h)}function u(h){return h===M.quotationMark||h===M.apostrophe||h===M.leftParenthesis?Jy(e,d,n,F.resourceTitle,F.resourceTitleMarker,F.resourceTitleString)(h):p(h)}function d(h){return $n(h)?co(e,p)(h):p(h)}function p(h){return h===M.rightParenthesis?(e.enter(F.resourceMarker),e.consume(h),e.exit(F.resourceMarker),e.exit(F.resource),t):n(h)}}function SF(e,t,n){const r=this;return i;function i(c){return Q(c===M.leftSquareBracket,"expected left bracket"),Gy.call(r,e,s,o,F.reference,F.referenceMarker,F.referenceString)(c)}function s(c){return r.parser.defined.includes(ya(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function o(c){return n(c)}}function EF(e,t,n){return r;function r(s){return Q(s===M.leftSquareBracket,"expected left bracket"),e.enter(F.reference),e.enter(F.referenceMarker),e.consume(s),e.exit(F.referenceMarker),i}function i(s){return s===M.rightSquareBracket?(e.enter(F.referenceMarker),e.consume(s),e.exit(F.referenceMarker),e.exit(F.reference),t):n(s)}}const TF={name:"labelStartImage",resolveAll:Ud.resolveAll,tokenize:AF};function AF(e,t,n){const r=this;return i;function i(c){return Q(c===M.exclamationMark,"expected `!`"),e.enter(F.labelImage),e.enter(F.labelImageMarker),e.consume(c),e.exit(F.labelImageMarker),s}function s(c){return c===M.leftSquareBracket?(e.enter(F.labelMarker),e.consume(c),e.exit(F.labelMarker),e.exit(F.labelImage),o):n(c)}function o(c){return c===M.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const IF={name:"labelStartLink",resolveAll:Ud.resolveAll,tokenize:jF};function jF(e,t,n){const r=this;return i;function i(o){return Q(o===M.leftSquareBracket,"expected `[`"),e.enter(F.labelLink),e.enter(F.labelMarker),e.consume(o),e.exit(F.labelMarker),e.exit(F.labelLink),s}function s(o){return o===M.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const au={name:"lineEnding",tokenize:RF};function RF(e,t){return n;function n(r){return Q(He(r),"expected eol"),e.enter(F.lineEnding),e.consume(r),e.exit(F.lineEnding),Ft(e,t,F.linePrefix)}}const Fs={name:"thematicBreak",tokenize:OF};function OF(e,t,n){let r=0,i;return s;function s(d){return e.enter(F.thematicBreak),o(d)}function o(d){return Q(d===M.asterisk||d===M.dash||d===M.underscore,"expected `*`, `-`, or `_`"),i=d,c(d)}function c(d){return d===i?(e.enter(F.thematicBreakSequence),u(d)):r>=Pe.thematicBreakMarkerCountMin&&(d===M.eof||He(d))?(e.exit(F.thematicBreak),t(d)):n(d)}function u(d){return d===i?(e.consume(d),r++,u):(e.exit(F.thematicBreakSequence),kt(d)?Ft(e,c,F.whitespace)(d):c(d))}}const Nn={continuation:{tokenize:NF},exit:$F,name:"list",tokenize:MF},zF={partial:!0,tokenize:DF},FF={partial:!0,tokenize:PF};function MF(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type===F.linePrefix?i[2].sliceSerialize(i[1],!0).length:0,o=0;return c;function c(y){Q(r.containerState,"expected state");const v=r.containerState.type||(y===M.asterisk||y===M.plusSign||y===M.dash?F.listUnordered:F.listOrdered);if(v===F.listUnordered?!r.containerState.marker||y===r.containerState.marker:Gu(y)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v===F.listUnordered)return e.enter(F.listItemPrefix),y===M.asterisk||y===M.dash?e.check(Fs,n,d)(y):d(y);if(!r.interrupt||y===M.digit1)return e.enter(F.listItemPrefix),e.enter(F.listItemValue),u(y)}return n(y)}function u(y){return Q(r.containerState,"expected state"),Gu(y)&&++o<Pe.listItemValueSizeMax?(e.consume(y),u):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===M.rightParenthesis||y===M.dot)?(e.exit(F.listItemValue),d(y)):n(y)}function d(y){return Q(r.containerState,"expected state"),Q(y!==M.eof,"eof (`null`) is not a marker"),e.enter(F.listItemMarker),e.consume(y),e.exit(F.listItemMarker),r.containerState.marker=r.containerState.marker||y,e.check(yl,r.interrupt?n:p,e.attempt(zF,g,h))}function p(y){return Q(r.containerState,"expected state"),r.containerState.initialBlankLine=!0,s++,g(y)}function h(y){return kt(y)?(e.enter(F.listItemPrefixWhitespace),e.consume(y),e.exit(F.listItemPrefixWhitespace),g):n(y)}function g(y){return Q(r.containerState,"expected state"),r.containerState.size=s+r.sliceSerialize(e.exit(F.listItemPrefix),!0).length,t(y)}}function NF(e,t,n){const r=this;return Q(r.containerState,"expected state"),r.containerState._closeFlow=void 0,e.check(yl,i,s);function i(c){return Q(r.containerState,"expected state"),Q(typeof r.containerState.size=="number","expected size"),r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ft(e,t,F.listItemIndent,r.containerState.size+1)(c)}function s(c){return Q(r.containerState,"expected state"),r.containerState.furtherBlankLines||!kt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(FF,t,o)(c))}function o(c){return Q(r.containerState,"expected state"),r.containerState._closeFlow=!0,r.interrupt=void 0,Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ft(e,e.attempt(Nn,t,n),F.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:Pe.tabSize)(c)}}function PF(e,t,n){const r=this;return Q(r.containerState,"expected state"),Q(typeof r.containerState.size=="number","expected size"),Ft(e,i,F.listItemIndent,r.containerState.size+1);function i(s){Q(r.containerState,"expected state");const o=r.events[r.events.length-1];return o&&o[1].type===F.listItemIndent&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function $F(e){Q(this.containerState,"expected state"),Q(typeof this.containerState.type=="string","expected type"),e.exit(this.containerState.type)}function DF(e,t,n){const r=this;return Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ft(e,i,F.listItemPrefixWhitespace,r.parser.constructs.disable.null.includes("codeIndented")?void 0:Pe.tabSize+1);function i(s){const o=r.events[r.events.length-1];return!kt(s)&&o&&o[1].type===F.listItemPrefixWhitespace?t(s):n(s)}}const km={name:"setextUnderline",resolveTo:LF,tokenize:BF};function LF(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type===F.content){r=n;break}e[n][1].type===F.paragraph&&(i=n)}else e[n][1].type===F.content&&e.splice(n,1),!s&&e[n][1].type===F.definition&&(s=n);Q(i!==void 0,"expected a `text` index to be found"),Q(r!==void 0,"expected a `text` index to be found"),Q(e[r][2]===t,"enter context should be same"),Q(e[e.length-1][2]===t,"enter context should be same");const o={type:F.setextHeading,start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type=F.setextHeadingText,s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function BF(e,t,n){const r=this;let i;return s;function s(d){let p=r.events.length,h;for(Q(d===M.dash||d===M.equalsTo,"expected `=` or `-`");p--;)if(r.events[p][1].type!==F.lineEnding&&r.events[p][1].type!==F.linePrefix&&r.events[p][1].type!==F.content){h=r.events[p][1].type===F.paragraph;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter(F.setextHeadingLine),i=d,o(d)):n(d)}function o(d){return e.enter(F.setextHeadingLineSequence),c(d)}function c(d){return d===i?(e.consume(d),c):(e.exit(F.setextHeadingLineSequence),kt(d)?Ft(e,u,F.lineSuffix)(d):u(d))}function u(d){return d===M.eof||He(d)?(e.exit(F.setextHeadingLine),t(d)):n(d)}}const UF={tokenize:ZF};function ZF(e){const t=this,n=e.attempt(yl,r,e.attempt(this.parser.constructs.flowInitial,i,Ft(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Gz,i)),F.linePrefix)));return n;function r(s){if(Q(s===M.eof||He(s),"expected eol or eof"),s===M.eof){e.consume(s);return}return e.enter(F.lineEndingBlank),e.consume(s),e.exit(F.lineEndingBlank),t.currentConstruct=void 0,n}function i(s){if(Q(s===M.eof||He(s),"expected eol or eof"),s===M.eof){e.consume(s);return}return e.enter(F.lineEnding),e.consume(s),e.exit(F.lineEnding),t.currentConstruct=void 0,n}}const HF={resolveAll:Yy()},qF=Ky("string"),WF=Ky("text");function Ky(e){return{resolveAll:Yy(e==="text"?VF:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,c);return o;function o(p){return d(p)?s(p):c(p)}function c(p){if(p===M.eof){n.consume(p);return}return n.enter(F.data),n.consume(p),u}function u(p){return d(p)?(n.exit(F.data),s(p)):(n.consume(p),u)}function d(p){if(p===M.eof)return!0;const h=i[p];let g=-1;if(h)for(Q(Array.isArray(h),"expected `disable.null` to be populated");++g<h.length;){const y=h[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Yy(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type===F.data&&(s=i,i++):(!n[i]||n[i][1].type!==F.data)&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function VF(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type===F.lineEnding)&&e[n-1][1].type===F.data){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,c=0,u;for(;s--;){const d=i[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===M.space;)c++,o--;if(o)break;o=-1}else if(d===M.horizontalTab)u=!0,c++;else if(d!==M.virtualSpace){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const d={type:n===e.length||u||c<Pe.hardBreakPrefixSizeMin?F.lineSuffix:F.hardBreakTrailing,start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const GF={[M.asterisk]:Nn,[M.plusSign]:Nn,[M.dash]:Nn,[M.digit0]:Nn,[M.digit1]:Nn,[M.digit2]:Nn,[M.digit3]:Nn,[M.digit4]:Nn,[M.digit5]:Nn,[M.digit6]:Nn,[M.digit7]:Nn,[M.digit8]:Nn,[M.digit9]:Nn,[M.greaterThan]:Uy},JF={[M.leftSquareBracket]:Qz},KF={[M.horizontalTab]:iu,[M.virtualSpace]:iu,[M.space]:iu},YF={[M.numberSign]:aF,[M.asterisk]:Fs,[M.dash]:[km,Fs],[M.lessThan]:cF,[M.equalsTo]:km,[M.underscore]:Fs,[M.graveAccent]:_m,[M.tilde]:_m},XF={[M.ampersand]:Hy,[M.backslash]:Zy},QF={[M.carriageReturn]:au,[M.lineFeed]:au,[M.carriageReturnLineFeed]:au,[M.exclamationMark]:TF,[M.ampersand]:Hy,[M.asterisk]:Ju,[M.lessThan]:[jz,gF],[M.leftSquareBracket]:IF,[M.backslash]:[rF,Zy],[M.rightSquareBracket]:Ud,[M.underscore]:Ju,[M.graveAccent]:Zz},eM={null:[Ju,HF]},tM={null:[M.asterisk,M.underscore]},nM={null:[]},rM=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:tM,contentInitial:JF,disable:nM,document:GF,flow:YF,flowInitial:KF,insideSpan:eM,string:XF,text:QF},Symbol.toStringTag,{value:"Module"}));var Ku={exports:{}},ou,Cm;function iM(){if(Cm)return ou;Cm=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,s=r*365.25;ou=function(p,h){h=h||{};var g=typeof p;if(g==="string"&&p.length>0)return o(p);if(g==="number"&&isFinite(p))return h.long?u(p):c(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function o(p){if(p=String(p),!(p.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(h){var g=parseFloat(h[1]),y=(h[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*r;case"hours":case"hour":case"hrs":case"hr":case"h":return g*n;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function c(p){var h=Math.abs(p);return h>=r?Math.round(p/r)+"d":h>=n?Math.round(p/n)+"h":h>=t?Math.round(p/t)+"m":h>=e?Math.round(p/e)+"s":p+"ms"}function u(p){var h=Math.abs(p);return h>=r?d(p,h,r,"day"):h>=n?d(p,h,n,"hour"):h>=t?d(p,h,t,"minute"):h>=e?d(p,h,e,"second"):p+" ms"}function d(p,h,g,y){var v=h>=g*1.5;return Math.round(p/g)+" "+y+(v?"s":"")}return ou}function aM(e){n.debug=n,n.default=n,n.coerce=u,n.disable=s,n.enable=i,n.enabled=o,n.humanize=iM(),n.destroy=d,Object.keys(e).forEach(p=>{n[p]=e[p]}),n.names=[],n.skips=[],n.formatters={};function t(p){let h=0;for(let g=0;g<p.length;g++)h=(h<<5)-h+p.charCodeAt(g),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=t;function n(p){let h,g=null,y,v;function w(..._){if(!w.enabled)return;const k=w,T=Number(new Date),A=T-(h||T);k.diff=A,k.prev=h,k.curr=T,h=T,_[0]=n.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let j=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(O,B)=>{if(O==="%%")return"%";j++;const U=n.formatters[B];if(typeof U=="function"){const Y=_[j];O=U.call(k,Y),_.splice(j,1),j--}return O}),n.formatArgs.call(k,_),(k.log||n.log).apply(k,_)}return w.namespace=p,w.useColors=n.useColors(),w.color=n.selectColor(p),w.extend=r,w.destroy=n.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==n.namespaces&&(y=n.namespaces,v=n.enabled(p)),v),set:_=>{g=_}}),typeof n.init=="function"&&n.init(w),w}function r(p,h){const g=n(this.namespace+(typeof h>"u"?":":h)+p);return g.log=this.log,g}function i(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];let h;const g=(typeof p=="string"?p:"").split(/[\s,]+/),y=g.length;for(h=0;h<y;h++)g[h]&&(p=g[h].replace(/\*/g,".*?"),p[0]==="-"?n.skips.push(new RegExp("^"+p.slice(1)+"$")):n.names.push(new RegExp("^"+p+"$")))}function s(){const p=[...n.names.map(c),...n.skips.map(c).map(h=>"-"+h)].join(",");return n.enable(""),p}function o(p){if(p[p.length-1]==="*")return!0;let h,g;for(h=0,g=n.skips.length;h<g;h++)if(n.skips[h].test(p))return!1;for(h=0,g=n.names.length;h<g;h++)if(n.names[h].test(p))return!0;return!1}function c(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function u(p){return p instanceof Error?p.stack||p.message:p}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var oM=aM;(function(e,t){var n={},r={};t.formatArgs=s,t.save=o,t.load=c,t.useColors=i,t.storage=u(),t.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;p.splice(1,0,h,"color: inherit");let g=0,y=0;p[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(g++,v==="%c"&&(y=g))}),p.splice(y,0,h)}t.log=console.debug||console.log||(()=>{});function o(p){try{p?t.storage.setItem("debug",p):t.storage.removeItem("debug")}catch{}}function c(){let p;try{p=t.storage.getItem("debug")}catch{}return!p&&typeof n<"u"&&"env"in n&&(p=r.DEBUG),p}function u(){try{return localStorage}catch{}}e.exports=oM(t);const{formatters:d}=e.exports;d.j=function(p){try{return JSON.stringify(p)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})(Ku,Ku.exports);var sM=Ku.exports;const lM=gi(sM),Ii=lM("micromark");function cM(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],c=[],u=!0;const d={attempt:Y(B),check:Y(U),consume:j,enter:P,exit:O,interrupt:Y(U,{interrupt:!0})},p={code:M.eof,containerState:{},defineSkip:k,events:[],now:_,parser:e,previous:M.eof,sliceSerialize:v,sliceStream:w,write:y};let h=t.tokenize.call(p,d),g;return t.resolveAll&&s.push(t),p;function y(R){return o=ur(o,R),T(),o[o.length-1]!==M.eof?[]:(X(t,0),p.events=Bd(s,p.events,p),p.events)}function v(R,G){return dM(w(R),G)}function w(R){return uM(o,R)}function _(){const{_bufferIndex:R,_index:G,line:x,column:L,offset:Ce}=r;return{_bufferIndex:R,_index:G,line:x,column:L,offset:Ce}}function k(R){i[R.line]=R.column,se(),Ii("position: define skip: `%j`",r)}function T(){let R;for(;r._index<o.length;){const G=o[r._index];if(typeof G=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<G.length;)A(G.charCodeAt(r._bufferIndex));else A(G)}}function A(R){Q(u===!0,"expected character to be consumed"),u=void 0,Ii("main: passing `%s` to %s",R,h&&h.name),g=R,Q(typeof h=="function","expected state"),h=h(R)}function j(R){Q(R===g,"expected given code to equal expected code"),Ii("consume: `%s`",R),Q(u===void 0,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),Q(R===null?p.events.length===0||p.events[p.events.length-1][0]==="exit":p.events[p.events.length-1][0]==="enter","expected last token to be open"),He(R)?(r.line++,r.column=1,r.offset+=R===M.carriageReturnLineFeed?2:1,se(),Ii("position: after eol: `%j`",r)):R!==M.virtualSpace&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=R,u=!0}function P(R,G){const x=G||{};return x.type=R,x.start=_(),Q(typeof R=="string","expected string type"),Q(R.length>0,"expected non-empty string"),Ii("enter: `%s`",R),p.events.push(["enter",x,p]),c.push(x),x}function O(R){Q(typeof R=="string","expected string type"),Q(R.length>0,"expected non-empty string");const G=c.pop();return Q(G,"cannot close w/o open tokens"),G.end=_(),Q(R===G.type,"expected exit token to match current token"),Q(!(G.start._index===G.end._index&&G.start._bufferIndex===G.end._bufferIndex),"expected non-empty token (`"+R+"`)"),Ii("exit: `%s`",G.type),p.events.push(["exit",G,p]),G}function B(R,G){X(R,G.from)}function U(R,G){G.restore()}function Y(R,G){return x;function x(L,Ce,le){let de,N,Te,oe;return Array.isArray(L)?Oe(L):"tokenize"in L?Oe([L]):z(L);function z(Ue){return fe;function fe(ze){const ye=ze!==null&&Ue[ze],Re=ze!==null&&Ue.null,Ye=[...Array.isArray(ye)?ye:ye?[ye]:[],...Array.isArray(Re)?Re:Re?[Re]:[]];return Oe(Ye)(ze)}}function Oe(Ue){return de=Ue,N=0,Ue.length===0?(Q(le,"expected `bogusState` to be given"),le):ue(Ue[N])}function ue(Ue){return fe;function fe(ze){return oe=q(),Te=Ue,Ue.partial||(p.currentConstruct=Ue),Q(p.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ue.name&&p.parser.constructs.disable.null.includes(Ue.name)?et(ze):Ue.tokenize.call(G?Object.assign(Object.create(p),G):p,d,ce,et)(ze)}}function ce(Ue){return Q(Ue===g,"expected code"),u=!0,R(Te,oe),Ce}function et(Ue){return Q(Ue===g,"expected code"),u=!0,oe.restore(),++N<de.length?ue(de[N]):le}}}function X(R,G){R.resolveAll&&!s.includes(R)&&s.push(R),R.resolve&&Or(p.events,G,p.events.length-G,R.resolve(p.events.slice(G),p)),R.resolveTo&&(p.events=R.resolveTo(p.events,p)),Q(R.partial||p.events.length===0||p.events[p.events.length-1][0]==="exit","expected last token to end")}function q(){const R=_(),G=p.previous,x=p.currentConstruct,L=p.events.length,Ce=Array.from(c);return{from:L,restore:le};function le(){r=R,p.previous=G,p.currentConstruct=x,p.events.length=L,c=Ce,se(),Ii("position: restore: `%j`",r)}}function se(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function uM(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)Q(s>-1,"expected non-negative end buffer index"),Q(r>-1,"expected non-negative start buffer index"),o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const c=o[0];typeof c=="string"?o[0]=c.slice(r):(Q(r===0,"expected `startBufferIndex` to be `0`"),o.shift())}s>0&&o.push(e[i].slice(0,s))}return o}function dM(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case M.carriageReturn:{o=jr.cr;break}case M.lineFeed:{o=jr.lf;break}case M.carriageReturnLineFeed:{o=jr.cr+jr.lf;break}case M.horizontalTab:{o=t?jr.space:jr.ht;break}case M.virtualSpace:{if(!t&&i)continue;o=jr.space;break}default:Q(typeof s=="number","expected number"),o=String.fromCharCode(s)}i=s===M.horizontalTab,r.push(o)}return r.join("")}function pM(e){const r={constructs:mz([rM,...(e||{}).extensions||[]]),content:i(kz),defined:[],document:i(Sz),flow:i(UF),lazy:{},string:i(qF),text:i(WF)};return r;function i(s){return o;function o(c){return cM(r,s,c)}}}function fM(e){for(;!Wy(e););return e}const Sm=/[\0\t\n\r]/g;function hM(){let e=1,t="",n=!0,r;return i;function i(s,o,c){const u=[];let d,p,h,g,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===M.byteOrderMarker&&h++,n=void 0);h<s.length;){if(Sm.lastIndex=h,d=Sm.exec(s),g=d&&d.index!==void 0?d.index:s.length,y=s.charCodeAt(g),!d){t=s.slice(h);break}if(y===M.lf&&h===g&&r)u.push(M.carriageReturnLineFeed),r=void 0;else switch(r&&(u.push(M.carriageReturn),r=void 0),h<g&&(u.push(s.slice(h,g)),e+=g-h),y){case M.nul:{u.push(M.replacementCharacter),e++;break}case M.ht:{for(p=Math.ceil(e/Pe.tabSize)*Pe.tabSize,u.push(M.horizontalTab);e++<p;)u.push(M.virtualSpace);break}case M.lf:{u.push(M.lineFeed),e=1;break}default:r=!0,e=1}h=g+1}return c&&(r&&u.push(M.carriageReturn),t&&u.push(t),u.push(M.eof)),u}}const mM=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gM(e){return e.replace(mM,vM)}function vM(e,t,n){if(t)return t;if(n.charCodeAt(0)===M.numberSign){const i=n.charCodeAt(1),s=i===M.lowercaseX||i===M.uppercaseX;return By(n.slice(s?2:1),s?Pe.numericBaseHexadecimal:Pe.numericBaseDecimal)}return Ld(n)||e}const Xy={}.hasOwnProperty;function yM(e,t,n){return typeof t!="string"&&(n=t,t=void 0),bM(n)(fM(pM(n).document().write(hM()(e,t,!0))))}function bM(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(C),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:s(S),blockQuote:s(ze),characterEscape:Y,characterReference:Y,codeFenced:s(ye),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ye,o),codeText:s(Re,o),codeTextData:Y,data:Y,codeFlowValue:Y,definition:s(Ye),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Xe),hardBreakEscape:s(pe),hardBreakTrailing:s(pe),htmlFlow:s(V,o),htmlFlowData:Y,htmlText:s(V,o),htmlTextData:Y,image:s(D),label:o,link:s(C),listItem:s(xe),listItemValue:g,listOrdered:s(ee,h),listUnordered:s(ee),paragraph:s(we),reference:z,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(S),strong:s(re),thematicBreak:s(me)},exit:{atxHeading:u(),atxHeadingSequence:P,autolink:u(),autolinkEmail:fe,autolinkProtocol:Ue,blockQuote:u(),characterEscapeValue:X,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:ce,characterReference:et,codeFenced:u(_),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:v,codeFlowValue:X,codeIndented:u(k),codeText:u(x),codeTextData:X,data:X,definition:u(),definitionDestinationString:j,definitionLabelString:T,definitionTitleString:A,emphasis:u(),hardBreakEscape:u(se),hardBreakTrailing:u(se),htmlFlow:u(R),htmlFlowData:X,htmlText:u(G),htmlTextData:X,image:u(Ce),label:de,labelText:le,lineEnding:q,link:u(L),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Oe,resourceDestinationString:N,resourceTitleString:Te,resource:oe,setextHeading:u(U),setextHeadingLineSequence:B,setextHeadingText:O,strong:u(),thematicBreak:u()}};Qy(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Z){let J={type:"root",children:[]};const be={stack:[J],tokenStack:[],config:t,enter:c,exit:d,buffer:o,resume:p,data:n},je=[];let Be=-1;for(;++Be<Z.length;)if(Z[Be][1].type===F.listOrdered||Z[Be][1].type===F.listUnordered)if(Z[Be][0]==="enter")je.push(Be);else{const ut=je.pop();Q(typeof ut=="number","expected list ot be open"),Be=i(Z,ut,Be)}for(Be=-1;++Be<Z.length;){const ut=t[Z[Be][0]];Xy.call(ut,Z[Be][1].type)&&ut[Z[Be][1].type].call(Object.assign({sliceSerialize:Z[Be][2].sliceSerialize},be),Z[Be][1])}if(be.tokenStack.length>0){const ut=be.tokenStack[be.tokenStack.length-1];(ut[1]||Em).call(be,void 0,ut[0])}for(J.position={start:li(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:li(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<t.transforms.length;)J=t.transforms[Be](J)||J;return J}function i(Z,J,be){let je=J-1,Be=-1,ut=!1,St,yt,rt,un;for(;++je<=be;){const bt=Z[je];switch(bt[1].type){case F.listUnordered:case F.listOrdered:case F.blockQuote:{bt[0]==="enter"?Be++:Be--,un=void 0;break}case F.lineEndingBlank:{bt[0]==="enter"&&(St&&!un&&!Be&&!rt&&(rt=je),un=void 0);break}case F.linePrefix:case F.listItemValue:case F.listItemMarker:case F.listItemPrefix:case F.listItemPrefixWhitespace:break;default:un=void 0}if(!Be&&bt[0]==="enter"&&bt[1].type===F.listItemPrefix||Be===-1&&bt[0]==="exit"&&(bt[1].type===F.listUnordered||bt[1].type===F.listOrdered)){if(St){let Tt=je;for(yt=void 0;Tt--;){const dt=Z[Tt];if(dt[1].type===F.lineEnding||dt[1].type===F.lineEndingBlank){if(dt[0]==="exit")continue;yt&&(Z[yt][1].type=F.lineEndingBlank,ut=!0),dt[1].type=F.lineEnding,yt=Tt}else if(!(dt[1].type===F.linePrefix||dt[1].type===F.blockQuotePrefix||dt[1].type===F.blockQuotePrefixWhitespace||dt[1].type===F.blockQuoteMarker||dt[1].type===F.listItemIndent))break}rt&&(!yt||rt<yt)&&(St._spread=!0),St.end=Object.assign({},yt?Z[yt][1].start:bt[1].end),Z.splice(yt||je,0,["exit",St,bt[2]]),je++,be++}if(bt[1].type===F.listItemPrefix){const Tt={type:"listItem",_spread:!1,start:Object.assign({},bt[1].start),end:void 0};St=Tt,Z.splice(je,0,["enter",Tt,bt[2]]),je++,be++,rt=void 0,un=!0}}}return Z[J][1]._spread=ut,be}function s(Z,J){return be;function be(je){c.call(this,Z(je),je),J&&J.call(this,je)}}function o(){this.stack.push({type:"fragment",children:[]})}function c(Z,J,be){const je=this.stack[this.stack.length-1];Q(je,"expected `parent`"),Q("children"in je,"expected `parent`"),je.children.push(Z),this.stack.push(Z),this.tokenStack.push([J,be||void 0]),Z.position={start:li(J.start),end:void 0}}function u(Z){return J;function J(be){Z&&Z.call(this,be),d.call(this,be)}}function d(Z,J){const be=this.stack.pop();Q(be,"expected `node`");const je=this.tokenStack.pop();if(je)je[0].type!==Z.type&&(J?J.call(this,Z,je[0]):(je[1]||Em).call(this,Z,je[0]));else throw new Error("Cannot close `"+Z.type+"` ("+lo({start:Z.start,end:Z.end})+"): its not open");Q(be.type!=="fragment","unexpected fragment `exit`ed"),Q(be.position,"expected `position` to be defined"),be.position.end=li(Z.end)}function p(){return fz(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function g(Z){if(this.data.expectingFirstListItemValue){const J=this.stack[this.stack.length-2];Q(J,"expected nodes on stack"),Q(J.type==="list","expected list on stack"),J.start=Number.parseInt(this.sliceSerialize(Z),Pe.numericBaseDecimal),this.data.expectingFirstListItemValue=void 0}}function y(){const Z=this.resume(),J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="code","expected code on stack"),J.lang=Z}function v(){const Z=this.resume(),J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="code","expected code on stack"),J.meta=Z}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const Z=this.resume(),J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="code","expected code on stack"),J.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const Z=this.resume(),J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="code","expected code on stack"),J.value=Z.replace(/(\r?\n|\r)$/g,"")}function T(Z){const J=this.resume(),be=this.stack[this.stack.length-1];Q(be,"expected node on stack"),Q(be.type==="definition","expected definition on stack"),be.label=J,be.identifier=ya(this.sliceSerialize(Z)).toLowerCase()}function A(){const Z=this.resume(),J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="definition","expected definition on stack"),J.title=Z}function j(){const Z=this.resume(),J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="definition","expected definition on stack"),J.url=Z}function P(Z){const J=this.stack[this.stack.length-1];if(Q(J,"expected node on stack"),Q(J.type==="heading","expected heading on stack"),!J.depth){const be=this.sliceSerialize(Z).length;Q(be===1||be===2||be===3||be===4||be===5||be===6,"expected `depth` between `1` and `6`"),J.depth=be}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function B(Z){const J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="heading","expected heading on stack"),J.depth=this.sliceSerialize(Z).codePointAt(0)===M.equalsTo?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(Z){const J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q("children"in J,"expected parent on stack");const be=J.children;let je=be[be.length-1];(!je||je.type!=="text")&&(je=ae(),je.position={start:li(Z.start),end:void 0},be.push(je)),this.stack.push(je)}function X(Z){const J=this.stack.pop();Q(J,"expected a `node` to be on the stack"),Q("value"in J,"expected a `literal` to be on the stack"),Q(J.position,"expected `node` to have an open position"),J.value+=this.sliceSerialize(Z),J.position.end=li(Z.end)}function q(Z){const J=this.stack[this.stack.length-1];if(Q(J,"expected `node`"),this.data.atHardBreak){Q("children"in J,"expected `parent`");const be=J.children[J.children.length-1];Q(be.position,"expected tail to have a starting position"),be.position.end=li(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(J.type)&&(Y.call(this,Z),X.call(this,Z))}function se(){this.data.atHardBreak=!0}function R(){const Z=this.resume(),J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="html","expected html on stack"),J.value=Z}function G(){const Z=this.resume(),J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="html","expected html on stack"),J.value=Z}function x(){const Z=this.resume(),J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="inlineCode","expected inline code on stack"),J.value=Z}function L(){const Z=this.stack[this.stack.length-1];if(Q(Z,"expected node on stack"),Q(Z.type==="link","expected link on stack"),this.data.inReference){const J=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=J,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function Ce(){const Z=this.stack[this.stack.length-1];if(Q(Z,"expected node on stack"),Q(Z.type==="image","expected image on stack"),this.data.inReference){const J=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=J,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function le(Z){const J=this.sliceSerialize(Z),be=this.stack[this.stack.length-2];Q(be,"expected ancestor on stack"),Q(be.type==="image"||be.type==="link","expected image or link on stack"),be.label=gM(J),be.identifier=ya(J).toLowerCase()}function de(){const Z=this.stack[this.stack.length-1];Q(Z,"expected node on stack"),Q(Z.type==="fragment","expected fragment on stack");const J=this.resume(),be=this.stack[this.stack.length-1];if(Q(be,"expected node on stack"),Q(be.type==="image"||be.type==="link","expected image or link on stack"),this.data.inReference=!0,be.type==="link"){const je=Z.children;be.children=je}else be.alt=J}function N(){const Z=this.resume(),J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="image"||J.type==="link","expected image or link on stack"),J.url=Z}function Te(){const Z=this.resume(),J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="image"||J.type==="link","expected image or link on stack"),J.title=Z}function oe(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function Oe(Z){const J=this.resume(),be=this.stack[this.stack.length-1];Q(be,"expected node on stack"),Q(be.type==="image"||be.type==="link","expected image reference or link reference on stack"),be.label=J,be.identifier=ya(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function ue(Z){Q(Z.type==="characterReferenceMarkerNumeric"||Z.type==="characterReferenceMarkerHexadecimal"),this.data.characterReferenceType=Z.type}function ce(Z){const J=this.sliceSerialize(Z),be=this.data.characterReferenceType;let je;if(be)je=By(J,be===F.characterReferenceMarkerNumeric?Pe.numericBaseDecimal:Pe.numericBaseHexadecimal),this.data.characterReferenceType=void 0;else{const ut=Ld(J);Q(ut!==!1,"expected reference to decode"),je=ut}const Be=this.stack[this.stack.length-1];Q(Be,"expected `node`"),Q("value"in Be,"expected `node.value`"),Be.value+=je}function et(Z){const J=this.stack.pop();Q(J,"expected `node`"),Q(J.position,"expected `node.position`"),J.position.end=li(Z.end)}function Ue(Z){X.call(this,Z);const J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="link","expected link on stack"),J.url=this.sliceSerialize(Z)}function fe(Z){X.call(this,Z);const J=this.stack[this.stack.length-1];Q(J,"expected node on stack"),Q(J.type==="link","expected link on stack"),J.url="mailto:"+this.sliceSerialize(Z)}function ze(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function Ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Xe(){return{type:"emphasis",children:[]}}function S(){return{type:"heading",depth:0,children:[]}}function pe(){return{type:"break"}}function V(){return{type:"html",value:""}}function D(){return{type:"image",title:null,url:"",alt:null}}function C(){return{type:"link",title:null,url:"",children:[]}}function ee(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function xe(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function we(){return{type:"paragraph",children:[]}}function re(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function me(){return{type:"thematicBreak"}}}function li(e){return{line:e.line,column:e.column,offset:e.offset}}function Qy(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Qy(e,r):xM(e,r)}}function xM(e,t){let n;for(n in t)if(Xy.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Em(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+lo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+lo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+lo({start:t.start,end:t.end})+") is still open")}function _M(e){const t=this;t.parser=n;function n(r){return yM(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function wM(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function kM(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function CM(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function SM(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function EM(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function TM(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Aa(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,c+=1,e.footnoteCounts.set(r,c);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,d),e.applyData(t,d)}function AM(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function IM(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function eb(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function jM(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return eb(e,t);const i={src:Aa(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function RM(e,t){const n={src:Aa(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function OM(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function zM(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return eb(e,t);const i={href:Aa(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function FM(e,t){const n={href:Aa(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function MM(e,t,n){const r=e.all(t),i=n?NM(n):tb(t),s={},o=[];if(typeof t.checked=="boolean"){const p=r[0];let h;p&&p.type==="element"&&p.tagName==="p"?h=p:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(i||c!==0||p.type!=="element"||p.tagName!=="p")&&o.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?o.push(...p.children):o.push(p)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,d),e.applyData(t,d)}function NM(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=tb(n[r])}return t}function tb(e){const t=e.spread;return t??e.children.length>1}function PM(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function $M(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function DM(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function LM(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function BM(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=Nd(t.children[1]),u=Fy(t.children[t.children.length-1]);c&&u&&(o.position={start:c,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function UM(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,c=o?o.length:t.children.length;let u=-1;const d=[];for(;++u<c;){const h=t.children[u],g={},y=o?o[u]:void 0;y&&(g.align=y);let v={type:"element",tagName:s,properties:g,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),d.push(v)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,p),e.applyData(t,p)}function ZM(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Tm=9,Am=32;function HM(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Im(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Im(t.slice(i),i>0,!1)),s.join("")}function Im(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Tm||s===Am;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Tm||s===Am;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function qM(e,t){const n={type:"text",value:HM(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function WM(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const VM={blockquote:wM,break:kM,code:CM,delete:SM,emphasis:EM,footnoteReference:TM,heading:AM,html:IM,imageReference:jM,image:RM,inlineCode:OM,linkReference:zM,link:FM,listItem:MM,list:PM,paragraph:$M,root:DM,strong:LM,table:BM,tableCell:ZM,tableRow:UM,text:qM,thematicBreak:WM,toml:Ts,yaml:Ts,definition:Ts,footnoteDefinition:Ts};function Ts(){}const nb=-1,bl=0,uo=1,Ws=2,Zd=3,Hd=4,qd=5,Wd=6,rb=7,ib=8,jm=typeof self=="object"?self:globalThis,GM=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case bl:case nb:return n(o,i);case uo:{const c=n([],i);for(const u of o)c.push(r(u));return c}case Ws:{const c=n({},i);for(const[u,d]of o)c[r(u)]=r(d);return c}case Zd:return n(new Date(o),i);case Hd:{const{source:c,flags:u}=o;return n(new RegExp(c,u),i)}case qd:{const c=n(new Map,i);for(const[u,d]of o)c.set(r(u),r(d));return c}case Wd:{const c=n(new Set,i);for(const u of o)c.add(r(u));return c}case rb:{const{name:c,message:u}=o;return n(new jm[c](u),i)}case ib:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:c}=new Uint8Array(o);return n(new DataView(c),o)}}return n(new jm[s](o),i)};return r},Rm=e=>GM(new Map,e)(0),sa="",{toString:JM}={},{keys:KM}=Object,to=e=>{const t=typeof e;if(t!=="object"||!e)return[bl,t];const n=JM.call(e).slice(8,-1);switch(n){case"Array":return[uo,sa];case"Object":return[Ws,sa];case"Date":return[Zd,sa];case"RegExp":return[Hd,sa];case"Map":return[qd,sa];case"Set":return[Wd,sa];case"DataView":return[uo,n]}return n.includes("Array")?[uo,n]:n.includes("Error")?[rb,n]:[Ws,n]},As=([e,t])=>e===bl&&(t==="function"||t==="symbol"),YM=(e,t,n,r)=>{const i=(o,c)=>{const u=r.push(o)-1;return n.set(c,u),u},s=o=>{if(n.has(o))return n.get(o);let[c,u]=to(o);switch(c){case bl:{let p=o;switch(u){case"bigint":c=ib,p=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return i([nb],o)}return i([c,p],o)}case uo:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),i([u,[...g]],o)}const p=[],h=i([c,p],o);for(const g of o)p.push(s(g));return h}case Ws:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const p=[],h=i([c,p],o);for(const g of KM(o))(e||!As(to(o[g])))&&p.push([s(g),s(o[g])]);return h}case Zd:return i([c,o.toISOString()],o);case Hd:{const{source:p,flags:h}=o;return i([c,{source:p,flags:h}],o)}case qd:{const p=[],h=i([c,p],o);for(const[g,y]of o)(e||!(As(to(g))||As(to(y))))&&p.push([s(g),s(y)]);return h}case Wd:{const p=[],h=i([c,p],o);for(const g of o)(e||!As(to(g)))&&p.push(s(g));return h}}const{message:d}=o;return i([c,{name:u,message:d}],o)};return s},Om=(e,{json:t,lossy:n}={})=>{const r=[];return YM(!(t||n),!!t,new Map,r)(e),r},Vs=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Rm(Om(e,t)):structuredClone(e):(e,t)=>Rm(Om(e,t));function XM(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function QM(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function eN(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||XM,r=e.options.footnoteBackLabel||QM,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let u=-1;for(;++u<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[u]);if(!d)continue;const p=e.all(d),h=String(d.identifier).toUpperCase(),g=Aa(h.toLowerCase());let y=0;const v=[],w=e.footnoteCounts.get(h);for(;w!==void 0&&++y<=w;){v.length>0&&v.push({type:"text",value:" "});let T=typeof n=="string"?n:n(u,y);typeof T=="string"&&(T={type:"text",value:T}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,y),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const _=p[p.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const T=_.children[_.children.length-1];T&&T.type==="text"?T.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...v)}else p.push(...v);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(p,!0)};e.patch(d,k),c.push(k)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Vs(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const ab=function(e){if(e==null)return iN;if(typeof e=="function")return xl(e);if(typeof e=="object")return Array.isArray(e)?tN(e):nN(e);if(typeof e=="string")return rN(e);throw new Error("Expected function, string, or object as test")};function tN(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ab(e[n]);return xl(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function nN(e){const t=e;return xl(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function rN(e){return xl(t);function t(n){return n&&n.type===e}}function xl(e){return t;function t(n,r,i){return!!(aN(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function iN(){return!0}function aN(e){return e!==null&&typeof e=="object"&&"type"in e}const ob=[],oN=!0,zm=!1,sN="skip";function lN(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=ab(i),o=r?-1:1;c(e,void 0,[])();function c(u,d,p){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const y=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=ob,v,w,_;if((!t||s(u,d,p[p.length-1]||void 0))&&(y=cN(n(u,p)),y[0]===zm))return y;if("children"in u&&u.children){const k=u;if(k.children&&y[0]!==sN)for(w=(r?k.children.length:-1)+o,_=p.concat(k);w>-1&&w<k.children.length;){const T=k.children[w];if(v=c(T,w,_)(),v[0]===zm)return v;w=typeof v[1]=="number"?v[1]:w+o}}return y}}}function cN(e){return Array.isArray(e)?e:typeof e=="number"?[oN,e]:e==null?ob:[e]}function sb(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),lN(e,s,c,i);function c(u,d){const p=d[d.length-1],h=p?p.children.indexOf(u):void 0;return o(u,h,p)}}const Yu={}.hasOwnProperty,uN={};function dN(e,t){const n=t||uN,r=new Map,i=new Map,s=new Map,o={...VM,...n.handlers},c={all:d,applyData:fN,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:pN,wrap:mN};return sb(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const h=p.type==="definition"?r:i,g=String(p.identifier).toUpperCase();h.has(g)||h.set(g,p)}}),c;function u(p,h){const g=p.type,y=c.handlers[g];if(Yu.call(c.handlers,g)&&y)return y(c,p,h);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in p){const{children:w,..._}=p,k=Vs(_);return k.children=c.all(p),k}return Vs(p)}return(c.options.unknownHandler||hN)(c,p,h)}function d(p){const h=[];if("children"in p){const g=p.children;let y=-1;for(;++y<g.length;){const v=c.one(g[y],p);if(v){if(y&&g[y-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=Fm(v.value)),!Array.isArray(v)&&v.type==="element")){const w=v.children[0];w&&w.type==="text"&&(w.value=Fm(w.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function pN(e,t){e.position&&(t.position=qO(e))}function fN(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Vs(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function hN(e,t){const n=t.data||{},r="value"in t&&!(Yu.call(n,"hProperties")||Yu.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mN(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Fm(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Mm(e,t){const n=dN(e,t),r=n.one(e,void 0),i=eN(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&(Q("children"in s),s.children.push({type:"text",value:`
`},i)),s}function gN(e,t){return e&&"run"in e?async function(n,r){const i=Mm(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Mm(n,{file:r,...e||t})}}function Nm(e){if(e)throw e}var Ms=Object.prototype.hasOwnProperty,lb=Object.prototype.toString,Pm=Object.defineProperty,$m=Object.getOwnPropertyDescriptor,Dm=function(t){return typeof Array.isArray=="function"?Array.isArray(t):lb.call(t)==="[object Array]"},Lm=function(t){if(!t||lb.call(t)!=="[object Object]")return!1;var n=Ms.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Ms.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Ms.call(t,i)},Bm=function(t,n){Pm&&n.name==="__proto__"?Pm(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Um=function(t,n){if(n==="__proto__")if(Ms.call(t,n)){if($m)return $m(t,n).value}else return;return t[n]},vN=function e(){var t,n,r,i,s,o,c=arguments[0],u=1,d=arguments.length,p=!1;for(typeof c=="boolean"&&(p=c,c=arguments[1]||{},u=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});u<d;++u)if(t=arguments[u],t!=null)for(n in t)r=Um(c,n),i=Um(t,n),c!==i&&(p&&i&&(Lm(i)||(s=Dm(i)))?(s?(s=!1,o=r&&Dm(r)?r:[]):o=r&&Lm(r)?r:{},Bm(c,{name:n,newValue:e(p,o,i)})):typeof i<"u"&&Bm(c,{name:n,newValue:i}));return c};const su=gi(vN);function Xu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function yN(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);c(null,...i);function c(u,...d){const p=e[++s];let h=-1;if(u){o(u);return}for(;++h<i.length;)(d[h]===null||d[h]===void 0)&&(d[h]=i[h]);i=d,p?bN(p,c)(...d):o(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function bN(e,t){let n;return r;function r(...o){const c=e.length>o.length;let u;c&&o.push(i);try{u=e.apply(this,o)}catch(d){const p=d;if(c&&n)throw p;return i(p)}c||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...c){n||(n=!0,t(o,...c))}function s(o){i(null,o)}}const Ar={basename:xN,dirname:_N,extname:wN,join:kN,sep:"/"};function xN(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');To(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,c=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),c>-1&&(e.codePointAt(i)===t.codePointAt(c--)?c<0&&(r=i):(c=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function _N(e){if(To(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function wN(e){To(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const c=e.codePointAt(t);if(c===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),c===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function kN(...e){let t=-1,n;for(;++t<e.length;)To(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":CN(n)}function CN(e){To(e);const t=e.codePointAt(0)===47;let n=SN(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function SN(e,t){let n="",r=0,i=-1,s=0,o=-1,c,u;for(;++o<=e.length;){if(o<e.length)c=e.codePointAt(o);else{if(c===47)break;c=47}if(c===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else c===46&&s>-1?s++:s=-1}return n}function To(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const EN={cwd:TN};function TN(){return"/"}function Qu(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function AN(e){if(typeof e=="string")e=new URL(e);else if(!Qu(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return IN(e)}function IN(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const lu=["history","path","basename","stem","extname","dirname"];class cb{constructor(t){let n;t?Qu(t)?n={path:t}:typeof t=="string"||jN(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":EN.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<lu.length;){const s=lu[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)lu.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ar.basename(this.path):void 0}set basename(t){uu(t,"basename"),cu(t,"basename"),this.path=Ar.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ar.dirname(this.path):void 0}set dirname(t){Zm(this.basename,"dirname"),this.path=Ar.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ar.extname(this.path):void 0}set extname(t){if(cu(t,"extname"),Zm(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ar.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Qu(t)&&(t=AN(t)),uu(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ar.basename(this.path,this.extname):void 0}set stem(t){uu(t,"stem"),cu(t,"stem"),this.path=Ar.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new kn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function cu(e,t){if(e&&e.includes(Ar.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ar.sep+"`")}function uu(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Zm(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function jN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const RN=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},ON={}.hasOwnProperty;class Vd extends RN{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yN()}copy(){const t=new Vd;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(su(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(fu("data",this.frozen),this.namespace[t]=n,this):ON.call(this.namespace,t)&&this.namespace[t]||void 0:t?(fu("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Is(t),r=this.parser||this.Parser;return du("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),du("process",this.parser||this.Parser),pu("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const c=Is(t),u=r.parse(c);r.run(u,c,function(p,h,g){if(p||!h||!g)return d(p);const y=h,v=r.stringify(y,g);MN(v)?g.value=v:g.result=v,d(p,g)});function d(p,h){p||!h?o(p):s?s(h):(Q(n,"`done` is defined if `resolve` is not"),n(void 0,h))}}}processSync(t){let n=!1,r;return this.freeze(),du("processSync",this.parser||this.Parser),pu("processSync",this.compiler||this.Compiler),this.process(t,i),qm("processSync","process",n),Q(r,"we either bailed on an error or have a tree"),r;function i(s,o){n=!0,Nm(s),r=o}}run(t,n,r){Hm(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,c){Q(typeof n!="function","`file` cant be a `done` anymore, we checked");const u=Is(n);i.run(t,u,d);function d(p,h,g){const y=h||t;p?c(p):o?o(y):(Q(r,"`done` is defined if `resolve` is not"),r(void 0,y,g))}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),qm("runSync","run",r),Q(i,"we either bailed on an error or have a tree"),i;function s(o,c){Nm(o),i=c,r=!0}}stringify(t,n){this.freeze();const r=Is(n),i=this.compiler||this.Compiler;return pu("stringify",i),Hm(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(fu("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...h]=d;u(p,h)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(i.settings=su(!0,i.settings,d.settings))}function c(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const h=d[p];s(h)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,p){let h=-1,g=-1;for(;++h<r.length;)if(r[h][0]===d){g=h;break}if(g===-1)r.push([d,...p]);else if(p.length>0){let[y,...v]=p;const w=r[g][1];Xu(w)&&Xu(y)&&(y=su(!0,w,y)),r[g]=[d,y,...v]}}}}const zN=new Vd().freeze();function du(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function pu(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function fu(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Hm(e){if(!Xu(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function qm(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Is(e){return FN(e)?e:new cb(e)}function FN(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function MN(e){return typeof e=="string"||NN(e)}function NN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const PN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Wm=[],Vm={allowDangerousHtml:!0},$N=/^(https?|ircs?|mailto|xmpp)$/i,DN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function LN(e){const t=BN(e),n=UN(e);return ZN(t.runSync(t.parse(n),n),e)}function BN(e){const t=e.rehypePlugins||Wm,n=e.remarkPlugins||Wm,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Vm}:Vm;return zN().use(_M).use(n).use(gN,r).use(t)}function UN(e){const t=e.children||"",n=new cb;return typeof t=="string"?n.value=t:Bu("Unexpected value `"+t+"` for `children` prop, expected `string`"),n}function ZN(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,c=t.unwrapDisallowed,u=t.urlTransform||HN;for(const p of DN)Object.hasOwn(t,p.from)&&Bu("Unexpected `"+p.from+"` prop, "+(p.to?"use `"+p.to+"` instead":"remove it")+" (see <"+PN+"#"+p.id+"> for more info)");return n&&s&&Bu("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),sb(e,d),KO(e,{Fragment:m.Fragment,components:i,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function d(p,h,g){if(p.type==="raw"&&g&&typeof h=="number")return o?g.children.splice(h,1):g.children[h]={type:"text",value:p.value},h;if(p.type==="element"){let y;for(y in ru)if(Object.hasOwn(ru,y)&&Object.hasOwn(p.properties,y)){const v=p.properties[y],w=ru[y];(w===null||w.includes(p.tagName))&&(p.properties[y]=u(String(v||""),y,p))}}if(p.type==="element"){let y=n?!n.includes(p.tagName):s?s.includes(p.tagName):!1;if(!y&&r&&typeof h=="number"&&(y=!r(p,h,g)),y&&g&&typeof h=="number")return c&&p.children?g.children.splice(h,1,...p.children):g.children.splice(h,1),h}}}function HN(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||$N.test(e.slice(0,t))?e:""}const ub=W.createContext(),Yn=()=>W.useContext(ub);var db="vercel.ai.error",qN=Symbol.for(db),pb,WN=class fb extends Error{constructor({name:t,message:n,cause:r}){super(n),this[pb]=!0,this.name=t,this.cause=r}static isInstance(t){return fb.hasMarker(t,db)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};pb=qN;var fi=WN;function hb(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var mb="AI_InvalidArgumentError",gb=`vercel.ai.error.${mb}`,VN=Symbol.for(gb),vb,GN=class extends fi{constructor({message:e,cause:t,argument:n}){super({name:mb,message:e,cause:t}),this[vb]=!0,this.argument=n}static isInstance(e){return fi.hasMarker(e,gb)}};vb=VN;var yb="AI_JSONParseError",bb=`vercel.ai.error.${yb}`,JN=Symbol.for(bb),xb,Gm=class extends fi{constructor({text:e,cause:t}){super({name:yb,message:`JSON parsing failed: Text: ${e}.
Error message: ${hb(t)}`,cause:t}),this[xb]=!0,this.text=e}static isInstance(e){return fi.hasMarker(e,bb)}};xb=JN;var _b="AI_TypeValidationError",wb=`vercel.ai.error.${_b}`,KN=Symbol.for(wb),kb,YN=class ed extends fi{constructor({value:t,cause:n}){super({name:_b,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${hb(n)}`,cause:n}),this[kb]=!0,this.value=t}static isInstance(t){return fi.hasMarker(t,wb)}static wrap({value:t,cause:n}){return ed.isInstance(n)&&n.value===t?n:new ed({value:t,cause:n})}};kb=KN;var Gs=YN;class Jm extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function hu(e){}function XN(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=hu,onError:n=hu,onRetry:r=hu,onComment:i}=e;let s="",o=!0,c,u="",d="";function p(w){const _=o?w.replace(/^\xEF\xBB\xBF/,""):w,[k,T]=QN(`${s}${_}`);for(const A of k)h(A);s=T,o=!1}function h(w){if(w===""){y();return}if(w.startsWith(":")){i&&i(w.slice(w.startsWith(": ")?2:1));return}const _=w.indexOf(":");if(_!==-1){const k=w.slice(0,_),T=w[_+1]===" "?2:1,A=w.slice(_+T);g(k,A,w);return}g(w,"",w)}function g(w,_,k){switch(w){case"event":d=_;break;case"data":u=`${u}${_}
`;break;case"id":c=_.includes("\0")?void 0:_;break;case"retry":/^\d+$/.test(_)?r(parseInt(_,10)):n(new Jm(`Invalid \`retry\` value: "${_}"`,{type:"invalid-retry",value:_,line:k}));break;default:n(new Jm(`Unknown field "${w.length>20?`${w.slice(0,20)}`:w}"`,{type:"unknown-field",field:w,value:_,line:k}));break}}function y(){u.length>0&&t({id:c,event:d||void 0,data:u.endsWith(`
`)?u.slice(0,-1):u}),c=void 0,u="",d=""}function v(w={}){s&&w.consume&&h(s),o=!0,c=void 0,u="",d="",s=""}return{feed:p,reset:v}}function QN(e){const t=[];let n="",r=0;for(;r<e.length;){const i=e.indexOf("\r",r),s=e.indexOf(`
`,r);let o=-1;if(i!==-1&&s!==-1?o=Math.min(i,s):i!==-1?i===e.length-1?o=-1:o=i:s!==-1&&(o=s),o===-1){n=e.slice(r);break}else{const c=e.slice(r,o);t.push(c),r=o+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class eP extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let i;super({start(s){i=XN({onEvent:o=>{s.enqueue(o)},onError(o){t==="terminate"?s.error(o):typeof t=="function"&&t(o)},onRetry:n,onComment:r})},transform(s){i.feed(s)}})}}function ge(e,t,n){function r(c,u){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,u);const d=o.prototype,p=Object.keys(d);for(let h=0;h<p.length;h++){const g=p[h];g in c||(c[g]=d[g].bind(c))}}const i=n?.Parent??Object;class s extends i{}Object.defineProperty(s,"name",{value:e});function o(c){var u;const d=n?.Parent?new s:this;r(d,c),(u=d._zod).deferred??(u.deferred=[]);for(const p of d._zod.deferred)p();return d}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class ba extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Cb extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Sb={};function hi(e){return Sb}function Eb(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function td(e,t){return typeof t=="bigint"?t.toString():t}function _l(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Gd(e){return e==null}function Jd(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function tP(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(i=Number.parseInt(u[1]))}const s=n>i?n:i,o=Number.parseInt(e.toFixed(s).replace(".","")),c=Number.parseInt(t.toFixed(s).replace(".",""));return o%c/10**s}const Km=Symbol("evaluating");function Ct(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Km)return r===void 0&&(r=Km,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Zi(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Hi(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Ym(e){return JSON.stringify(e)}function nP(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Tb="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function yo(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const rP=_l(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function wa(e){if(yo(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(yo(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Ab(e){return wa(e)?{...e}:Array.isArray(e)?[...e]:e}const iP=new Set(["string","number","symbol"]);function ka(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yi(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function qe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function aP(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const oP={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function sP(e,t){const n=e._zod.def,r=Hi(e._zod.def,{get shape(){const i={};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(i[s]=n.shape[s])}return Zi(this,"shape",i),i},checks:[]});return yi(e,r)}function lP(e,t){const n=e._zod.def,r=Hi(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete i[s]}return Zi(this,"shape",i),i},checks:[]});return yi(e,r)}function cP(e,t){if(!wa(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Hi(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Zi(this,"shape",s),s},checks:[]});return yi(e,i)}function uP(e,t){if(!wa(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Zi(this,"shape",r),r},checks:e._zod.def.checks};return yi(e,n)}function dP(e,t){const n=Hi(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Zi(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return yi(e,n)}function pP(e,t,n){const r=Hi(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=e?new e({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)s[o]=e?new e({type:"optional",innerType:i[o]}):i[o];return Zi(this,"shape",s),s},checks:[]});return yi(t,r)}function fP(e,t,n){const r=Hi(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new e({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new e({type:"nonoptional",innerType:i[o]});return Zi(this,"shape",s),s},checks:[]});return yi(t,r)}function fa(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function ha(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function js(e){return typeof e=="string"?e:e?.message}function mi(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const i=js(e.inst?._zod.def?.error?.(e))??js(t?.error?.(e))??js(n.customError?.(e))??js(n.localeError?.(e))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Kd(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function bo(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Ib=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,td,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},jb=ge("$ZodError",Ib),Rb=ge("$ZodError",Ib,{Parent:Error});function hP(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function mP(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>r({issues:o}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return r(e),n}const Yd=e=>(t,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new ba;if(o.issues.length){const c=new(i?.Err??e)(o.issues.map(u=>mi(u,s,hi())));throw Tb(c,i?.callee),c}return o.value},Xd=e=>async(t,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(i?.Err??e)(o.issues.map(u=>mi(u,s,hi())));throw Tb(c,i?.callee),c}return o.value},wl=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new ba;return s.issues.length?{success:!1,error:new(e??jb)(s.issues.map(o=>mi(o,i,hi())))}:{success:!0,data:s.value}},gP=wl(Rb),kl=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>mi(o,i,hi())))}:{success:!0,data:s.value}},vP=kl(Rb),yP=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Yd(e)(t,n,i)},bP=e=>(t,n,r)=>Yd(e)(t,n,r),xP=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Xd(e)(t,n,i)},_P=e=>async(t,n,r)=>Xd(e)(t,n,r),wP=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return wl(e)(t,n,i)},kP=e=>(t,n,r)=>wl(e)(t,n,r),CP=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return kl(e)(t,n,i)},SP=e=>async(t,n,r)=>kl(e)(t,n,r),EP=/^[cC][^\s-]{8,}$/,TP=/^[0-9a-z]+$/,AP=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,IP=/^[0-9a-vA-V]{20}$/,jP=/^[A-Za-z0-9]{27}$/,RP=/^[a-zA-Z0-9_-]{21}$/,OP=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,zP=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Xm=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,FP=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,MP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function NP(){return new RegExp(MP,"u")}const PP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$P=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,DP=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,LP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,BP=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Ob=/^[A-Za-z0-9_-]*$/,UP=/^\+(?:[0-9]){6,14}[0-9]$/,zb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",ZP=new RegExp(`^${zb}$`);function Fb(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function HP(e){return new RegExp(`^${Fb(e)}$`)}function qP(e){const t=Fb({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${zb}T(?:${r})$`)}const WP=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},VP=/^-?\d+$/,GP=/^-?\d+(?:\.\d+)?/,JP=/^(?:true|false)$/i,KP=/^null$/i,YP=/^[^A-Z]*$/,XP=/^[^a-z]*$/,Ln=ge("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Mb={number:"number",bigint:"bigint",object:"date"},Nb=ge("$ZodCheckLessThan",(e,t)=>{Ln.init(e,t);const n=Mb[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Pb=ge("$ZodCheckGreaterThan",(e,t)=>{Ln.init(e,t);const n=Mb[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),QP=ge("$ZodCheckMultipleOf",(e,t)=>{Ln.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):tP(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),e$=ge("$ZodCheckNumberFormat",(e,t)=>{Ln.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[i,s]=oP[t.format];e._zod.onattach.push(o=>{const c=o._zod.bag;c.format=t.format,c.minimum=i,c.maximum=s,n&&(c.pattern=VP)}),e._zod.check=o=>{const c=o.value;if(n){if(!Number.isInteger(c)){o.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}c<i&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),c>s&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:s,inst:e})}}),t$=ge("$ZodCheckMaxLength",(e,t)=>{var n;Ln.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Gd(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const o=Kd(i);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),n$=ge("$ZodCheckMinLength",(e,t)=>{var n;Ln.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Gd(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const o=Kd(i);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),r$=ge("$ZodCheckLengthEquals",(e,t)=>{var n;Ln.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!Gd(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,s=i.length;if(s===t.length)return;const o=Kd(i),c=s>t.length;r.issues.push({origin:o,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Cl=ge("$ZodCheckStringFormat",(e,t)=>{var n,r;Ln.init(e,t),e._zod.onattach.push(i=>{const s=i._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),i$=ge("$ZodCheckRegex",(e,t)=>{Cl.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),a$=ge("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=YP),Cl.init(e,t)}),o$=ge("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=XP),Cl.init(e,t)}),s$=ge("$ZodCheckIncludes",(e,t)=>{Ln.init(e,t);const n=ka(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),l$=ge("$ZodCheckStartsWith",(e,t)=>{Ln.init(e,t);const n=new RegExp(`^${ka(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),c$=ge("$ZodCheckEndsWith",(e,t)=>{Ln.init(e,t);const n=new RegExp(`.*${ka(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),u$=ge("$ZodCheckOverwrite",(e,t)=>{Ln.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class d${constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),i=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const t=Function,n=this?.args,i=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...n,i.join(`
`))}}const p$={major:4,minor:2,patch:1},Ut=ge("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=p$;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const s of i._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(o,c,u)=>{let d=fa(o),p;for(const h of c){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(d)continue;const g=o.issues.length,y=h._zod.check(o);if(y instanceof Promise&&u?.async===!1)throw new ba;if(p||y instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await y,o.issues.length!==g&&(d||(d=fa(o,g)))});else{if(o.issues.length===g)continue;d||(d=fa(o,g))}}return p?p.then(()=>o):o},s=(o,c,u)=>{if(fa(o))return o.aborted=!0,o;const d=i(c,r,u);if(d instanceof Promise){if(u.async===!1)throw new ba;return d.then(p=>e._zod.parse(p,u))}return e._zod.parse(d,u)};e._zod.run=(o,c)=>{if(c.skipChecks)return e._zod.parse(o,c);if(c.direction==="backward"){const d=e._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(p=>s(p,o,c)):s(d,o,c)}const u=e._zod.parse(o,c);if(u instanceof Promise){if(c.async===!1)throw new ba;return u.then(d=>i(d,r,c))}return i(u,r,c)}}e["~standard"]={validate:i=>{try{const s=gP(e,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return vP(e,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Qd=ge("$ZodString",(e,t)=>{Ut.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??WP(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Wt=ge("$ZodStringFormat",(e,t)=>{Cl.init(e,t),Qd.init(e,t)}),f$=ge("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=zP),Wt.init(e,t)}),h$=ge("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Xm(r))}else t.pattern??(t.pattern=Xm());Wt.init(e,t)}),m$=ge("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=FP),Wt.init(e,t)}),g$=ge("$ZodURL",(e,t)=>{Wt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),v$=ge("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=NP()),Wt.init(e,t)}),y$=ge("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=RP),Wt.init(e,t)}),b$=ge("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=EP),Wt.init(e,t)}),x$=ge("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=TP),Wt.init(e,t)}),_$=ge("$ZodULID",(e,t)=>{t.pattern??(t.pattern=AP),Wt.init(e,t)}),w$=ge("$ZodXID",(e,t)=>{t.pattern??(t.pattern=IP),Wt.init(e,t)}),k$=ge("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=jP),Wt.init(e,t)}),C$=ge("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=qP(t)),Wt.init(e,t)}),S$=ge("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=ZP),Wt.init(e,t)}),E$=ge("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=HP(t)),Wt.init(e,t)}),T$=ge("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=OP),Wt.init(e,t)}),A$=ge("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=PP),Wt.init(e,t),e._zod.bag.format="ipv4"}),I$=ge("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=$P),Wt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),j$=ge("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=DP),Wt.init(e,t)}),R$=ge("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=LP),Wt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function $b(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const O$=ge("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=BP),Wt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{$b(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function z$(e){if(!Ob.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return $b(n)}const F$=ge("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Ob),Wt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{z$(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),M$=ge("$ZodE164",(e,t)=>{t.pattern??(t.pattern=UP),Wt.init(e,t)});function N$(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const P$=ge("$ZodJWT",(e,t)=>{Wt.init(e,t),e._zod.check=n=>{N$(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Db=ge("$ZodNumber",(e,t)=>{Ut.init(e,t),e._zod.pattern=e._zod.bag.pattern??GP,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),n}}),$$=ge("$ZodNumberFormat",(e,t)=>{e$.init(e,t),Db.init(e,t)}),D$=ge("$ZodBoolean",(e,t)=>{Ut.init(e,t),e._zod.pattern=JP,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),L$=ge("$ZodNull",(e,t)=>{Ut.init(e,t),e._zod.pattern=KP,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const i=n.value;return i===null||n.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),n}}),B$=ge("$ZodUnknown",(e,t)=>{Ut.init(e,t),e._zod.parse=n=>n}),U$=ge("$ZodNever",(e,t)=>{Ut.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Qm(e,t,n){e.issues.length&&t.issues.push(...ha(n,e.issues)),t.value[n]=e.value}const Z$=ge("$ZodArray",(e,t)=>{Ut.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const s=[];for(let o=0;o<i.length;o++){const c=i[o],u=t.element._zod.run({value:c,issues:[]},r);u instanceof Promise?s.push(u.then(d=>Qm(d,n,o))):Qm(u,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function Js(e,t,n,r){e.issues.length&&t.issues.push(...ha(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Lb(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=aP(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Bb(e,t,n,r,i,s){const o=[],c=i.keySet,u=i.catchall._zod,d=u.def.type;for(const p in t){if(c.has(p))continue;if(d==="never"){o.push(p);continue}const h=u.run({value:t[p],issues:[]},r);h instanceof Promise?e.push(h.then(g=>Js(g,n,p,t))):Js(h,n,p,t)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const H$=ge("$ZodObject",(e,t)=>{if(Ut.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...c};return Object.defineProperty(t,"shape",{value:u}),u}})}const r=_l(()=>Lb(t));Ct(e._zod,"propValues",()=>{const c=t.shape,u={};for(const d in c){const p=c[d]._zod;if(p.values){u[d]??(u[d]=new Set);for(const h of p.values)u[d].add(h)}}return u});const i=yo,s=t.catchall;let o;e._zod.parse=(c,u)=>{o??(o=r.value);const d=c.value;if(!i(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),c;c.value={};const p=[],h=o.shape;for(const g of o.keys){const v=h[g]._zod.run({value:d[g],issues:[]},u);v instanceof Promise?p.push(v.then(w=>Js(w,c,g,d))):Js(v,c,g,d)}return s?Bb(p,d,c,u,r.value,e):p.length?Promise.all(p).then(()=>c):c}}),q$=ge("$ZodObjectJIT",(e,t)=>{H$.init(e,t);const n=e._zod.parse,r=_l(()=>Lb(t)),i=g=>{const y=new d$(["shape","payload","ctx"]),v=r.value,w=A=>{const j=Ym(A);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};y.write("const input = payload.value;");const _=Object.create(null);let k=0;for(const A of v.keys)_[A]=`key_${k++}`;y.write("const newResult = {};");for(const A of v.keys){const j=_[A],P=Ym(A);y.write(`const ${j} = ${w(A)};`),y.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${P}, ...iss.path] : [${P}]
          })));
        }
        
        
        if (${j}.value === undefined) {
          if (${P} in input) {
            newResult[${P}] = undefined;
          }
        } else {
          newResult[${P}] = ${j}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const T=y.compile();return(A,j)=>T(g,A,j)};let s;const o=yo,c=!Sb.jitless,d=c&&rP.value,p=t.catchall;let h;e._zod.parse=(g,y)=>{h??(h=r.value);const v=g.value;return o(v)?c&&d&&y?.async===!1&&y.jitless!==!0?(s||(s=i(t.shape)),g=s(g,y),p?Bb([],v,g,y,h,e):g):n(g,y):(g.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),g)}});function eg(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const i=e.filter(s=>!fa(s));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(o=>mi(o,r,hi())))}),t)}const Ub=ge("$ZodUnion",(e,t)=>{Ut.init(e,t),Ct(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Ct(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Ct(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Ct(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>Jd(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(n)return r(i,s);let o=!1;const c=[];for(const u of t.options){const d=u._zod.run({value:i.value,issues:[]},s);if(d instanceof Promise)c.push(d),o=!0;else{if(d.issues.length===0)return d;c.push(d)}}return o?Promise.all(c).then(u=>eg(u,i,e,s)):eg(c,i,e,s)}}),W$=ge("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,Ub.init(e,t);const n=e._zod.parse;Ct(e._zod,"propValues",()=>{const i={};for(const s of t.options){const o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(const[c,u]of Object.entries(o)){i[c]||(i[c]=new Set);for(const d of u)i[c].add(d)}}return i});const r=_l(()=>{const i=t.options,s=new Map;for(const o of i){const c=o._zod.propValues?.[t.discriminator];if(!c||c.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const u of c){if(s.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);s.set(u,o)}}return s});e._zod.parse=(i,s)=>{const o=i.value;if(!yo(o))return i.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),i;const c=r.value.get(o?.[t.discriminator]);return c?c._zod.run(i,s):t.unionFallback?n(i,s):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),i)}}),V$=ge("$ZodIntersection",(e,t)=>{Ut.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,s=t.left._zod.run({value:i,issues:[]},r),o=t.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([u,d])=>tg(n,u,d)):tg(n,s,o)}});function nd(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(wa(e)&&wa(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),i={...e,...t};for(const s of r){const o=nd(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r],o=nd(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function tg(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),fa(e))return e;const r=nd(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const G$=ge("$ZodRecord",(e,t)=>{Ut.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!wa(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const s=[],o=t.keyType._zod.values;if(o){n.value={};const c=new Set;for(const d of o)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){c.add(typeof d=="number"?d.toString():d);const p=t.valueType._zod.run({value:i[d],issues:[]},r);p instanceof Promise?s.push(p.then(h=>{h.issues.length&&n.issues.push(...ha(d,h.issues)),n.value[d]=h.value})):(p.issues.length&&n.issues.push(...ha(d,p.issues)),n.value[d]=p.value)}let u;for(const d in i)c.has(d)||(u=u??[],u.push(d));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:u})}else{n.value={};for(const c of Reflect.ownKeys(i)){if(c==="__proto__")continue;const u=t.keyType._zod.run({value:c,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){t.mode==="loose"?n.value[c]=i[c]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(p=>mi(p,r,hi())),input:c,path:[c],inst:e});continue}const d=t.valueType._zod.run({value:i[c],issues:[]},r);d instanceof Promise?s.push(d.then(p=>{p.issues.length&&n.issues.push(...ha(c,p.issues)),n.value[u.value]=p.value})):(d.issues.length&&n.issues.push(...ha(c,d.issues)),n.value[u.value]=d.value)}}return s.length?Promise.all(s).then(()=>n):n}}),J$=ge("$ZodEnum",(e,t)=>{Ut.init(e,t);const n=Eb(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>iP.has(typeof i)).map(i=>typeof i=="string"?ka(i):i.toString()).join("|")})$`),e._zod.parse=(i,s)=>{const o=i.value;return r.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:e}),i}}),K$=ge("$ZodLiteral",(e,t)=>{if(Ut.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?ka(r):r?ka(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,i)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),Y$=ge("$ZodTransform",(e,t)=>{Ut.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Cb(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new ba;return n.value=i,n}});function ng(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const X$=ge("$ZodOptional",(e,t)=>{Ut.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ct(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ct(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Jd(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>ng(s,n.value)):ng(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),Q$=ge("$ZodNullable",(e,t)=>{Ut.init(e,t),Ct(e._zod,"optin",()=>t.innerType._zod.optin),Ct(e._zod,"optout",()=>t.innerType._zod.optout),Ct(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Jd(n.source)}|null)$`):void 0}),Ct(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),eD=ge("$ZodDefault",(e,t)=>{Ut.init(e,t),e._zod.optin="optional",Ct(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>rg(s,t)):rg(i,t)}});function rg(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const tD=ge("$ZodPrefault",(e,t)=>{Ut.init(e,t),e._zod.optin="optional",Ct(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),nD=ge("$ZodNonOptional",(e,t)=>{Ut.init(e,t),Ct(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>ig(s,e)):ig(i,e)}});function ig(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const rD=ge("$ZodCatch",(e,t)=>{Ut.init(e,t),Ct(e._zod,"optin",()=>t.innerType._zod.optin),Ct(e._zod,"optout",()=>t.innerType._zod.optout),Ct(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>mi(o,r,hi()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>mi(s,r,hi()))},input:n.value}),n.issues=[]),n)}}),iD=ge("$ZodPipe",(e,t)=>{Ut.init(e,t),Ct(e._zod,"values",()=>t.in._zod.values),Ct(e._zod,"optin",()=>t.in._zod.optin),Ct(e._zod,"optout",()=>t.out._zod.optout),Ct(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(o=>Rs(o,t.in,r)):Rs(s,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(s=>Rs(s,t.out,r)):Rs(i,t.out,r)}});function Rs(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const aD=ge("$ZodReadonly",(e,t)=>{Ut.init(e,t),Ct(e._zod,"propValues",()=>t.innerType._zod.propValues),Ct(e._zod,"values",()=>t.innerType._zod.values),Ct(e._zod,"optin",()=>t.innerType?._zod?.optin),Ct(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(ag):ag(i)}});function ag(e){return e.value=Object.freeze(e.value),e}const oD=ge("$ZodLazy",(e,t)=>{Ut.init(e,t),Ct(e._zod,"innerType",()=>t.getter()),Ct(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),Ct(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),Ct(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),Ct(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),sD=ge("$ZodCustom",(e,t)=>{Ln.init(e,t),Ut.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(s=>og(s,n,r,e));og(i,n,r,e)}});function og(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(bo(i))}}var sg;class lD{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function cD(){return new lD}(sg=globalThis).__zod_globalRegistry??(sg.__zod_globalRegistry=cD());const ro=globalThis.__zod_globalRegistry;function uD(e,t){return new e({type:"string",...qe(t)})}function dD(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...qe(t)})}function lg(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...qe(t)})}function pD(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...qe(t)})}function fD(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...qe(t)})}function hD(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...qe(t)})}function mD(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...qe(t)})}function gD(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...qe(t)})}function vD(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...qe(t)})}function yD(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...qe(t)})}function bD(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...qe(t)})}function xD(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...qe(t)})}function _D(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...qe(t)})}function wD(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...qe(t)})}function kD(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...qe(t)})}function CD(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...qe(t)})}function SD(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...qe(t)})}function ED(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...qe(t)})}function TD(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...qe(t)})}function Zb(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...qe(t)})}function AD(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...qe(t)})}function ID(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...qe(t)})}function jD(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...qe(t)})}function RD(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...qe(t)})}function OD(e,t){return new e({type:"string",format:"date",check:"string_format",...qe(t)})}function zD(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...qe(t)})}function FD(e,t){return new e({type:"string",format:"duration",check:"string_format",...qe(t)})}function MD(e,t){return new e({type:"number",checks:[],...qe(t)})}function ND(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...qe(t)})}function PD(e,t){return new e({type:"boolean",...qe(t)})}function $D(e,t){return new e({type:"null",...qe(t)})}function DD(e){return new e({type:"unknown"})}function LD(e,t){return new e({type:"never",...qe(t)})}function cg(e,t){return new Nb({check:"less_than",...qe(t),value:e,inclusive:!1})}function mu(e,t){return new Nb({check:"less_than",...qe(t),value:e,inclusive:!0})}function ug(e,t){return new Pb({check:"greater_than",...qe(t),value:e,inclusive:!1})}function gu(e,t){return new Pb({check:"greater_than",...qe(t),value:e,inclusive:!0})}function dg(e,t){return new QP({check:"multiple_of",...qe(t),value:e})}function Hb(e,t){return new t$({check:"max_length",...qe(t),maximum:e})}function Ks(e,t){return new n$({check:"min_length",...qe(t),minimum:e})}function qb(e,t){return new r$({check:"length_equals",...qe(t),length:e})}function BD(e,t){return new i$({check:"string_format",format:"regex",...qe(t),pattern:e})}function UD(e){return new a$({check:"string_format",format:"lowercase",...qe(e)})}function ZD(e){return new o$({check:"string_format",format:"uppercase",...qe(e)})}function HD(e,t){return new s$({check:"string_format",format:"includes",...qe(t),includes:e})}function qD(e,t){return new l$({check:"string_format",format:"starts_with",...qe(t),prefix:e})}function WD(e,t){return new c$({check:"string_format",format:"ends_with",...qe(t),suffix:e})}function Ia(e){return new u$({check:"overwrite",tx:e})}function VD(e){return Ia(t=>t.normalize(e))}function GD(){return Ia(e=>e.trim())}function JD(){return Ia(e=>e.toLowerCase())}function KD(){return Ia(e=>e.toUpperCase())}function YD(){return Ia(e=>nP(e))}function XD(e,t,n){return new e({type:"array",element:t,...qe(n)})}function QD(e,t,n){const r=qe(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function eL(e,t,n){return new e({type:"custom",check:"custom",fn:t,...qe(n)})}function tL(e){const t=nL(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(bo(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(bo(i))}},e(n.value,n)));return t}function nL(e,t){const n=new Ln({check:"custom",...qe(t)});return n._zod.check=e,n}function Ys(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??ro,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Bt(e,t,n={path:[],schemaPath:[]}){var r;const i=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,o);const c=e._zod.toJSONSchema?.();if(c)o.schema=c;else{const p={...n,schemaPath:[...n.schemaPath,e],path:n.path},h=e._zod.parent;if(h)o.ref=h,Bt(h,t,p),t.seen.get(h).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,o.schema,p);else{const g=o.schema,y=t.processors[i.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);y(e,t,g,p)}}const u=t.metadataRegistry.get(e);return u&&Object.assign(o.schema,u),t.io==="input"&&Tn(e)&&(delete o.schema.examples,delete o.schema.default),t.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(e).schema}function Xs(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=s=>{const o=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const p=e.external.registry.get(s[0])?.id,h=e.external.uri??(y=>y);if(p)return{ref:h(p)};const g=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=g,{defId:g,ref:`${h("__shared")}#/${o}/${g}`}}if(s[1]===n)return{ref:"#"};const u=`#/${o}/`,d=s[1].schema.id??`__schema${e.counter++}`;return{defId:d,ref:u+d}},i=s=>{if(s[1].schema.$ref)return;const o=s[1],{ref:c,defId:u}=r(s);o.def={...o.schema},u&&(o.defId=u);const d=o.schema;for(const p in d)delete d[p];d.$ref=c};if(e.cycles==="throw")for(const s of e.seen.entries()){const o=s[1];if(o.cycle)throw new Error(`Cycle detected: #/${o.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const o=s[1];if(t===s[0]){i(s);continue}if(e.external){const u=e.external.registry.get(s[0])?.id;if(t!==s[0]&&u){i(s);continue}}if(e.metadataRegistry.get(s[0])?.id){i(s);continue}if(o.cycle){i(s);continue}if(o.count>1&&e.reused==="ref"){i(s);continue}}}function Qs(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=o=>{const c=e.seen.get(o),u=c.def??c.schema,d={...u};if(c.ref===null)return;const p=c.ref;if(c.ref=null,p){r(p);const h=e.seen.get(p).schema;h.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(h)):(Object.assign(u,h),Object.assign(u,d))}c.isParent||e.override({zodSchema:o,jsonSchema:u,path:c.path??[]})};for(const o of[...e.seen.entries()].reverse())r(o[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const o=e.external.registry.get(t)?.id;if(!o)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(o)}Object.assign(i,n.def??n.schema);const s=e.external?.defs??{};for(const o of e.seen.entries()){const c=o[1];c.def&&c.defId&&(s[c.defId]=c.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const o=JSON.parse(JSON.stringify(i));return Object.defineProperty(o,"~standard",{value:{...t["~standard"],jsonSchema:{input:el(t,"input"),output:el(t,"output")}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function Tn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Tn(r.element,n);if(r.type==="set")return Tn(r.valueType,n);if(r.type==="lazy")return Tn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Tn(r.innerType,n);if(r.type==="intersection")return Tn(r.left,n)||Tn(r.right,n);if(r.type==="record"||r.type==="map")return Tn(r.keyType,n)||Tn(r.valueType,n);if(r.type==="pipe")return Tn(r.in,n)||Tn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Tn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Tn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Tn(i,n))return!0;return!!(r.rest&&Tn(r.rest,n))}return!1}const rL=(e,t={})=>n=>{const r=Ys({...n,processors:t});return Bt(e,r),Xs(r,e),Qs(r,e)},el=(e,t)=>n=>{const{libraryOptions:r,target:i}=n??{},s=Ys({...r??{},target:i,io:t,processors:{}});return Bt(e,s),Xs(s,e),Qs(s,e)},iL={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Wb=(e,t,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:o,format:c,patterns:u,contentEncoding:d}=e._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof o=="number"&&(i.maxLength=o),c&&(i.format=iL[c]??c,i.format===""&&delete i.format),d&&(i.contentEncoding=d),u&&u.size>0){const p=[...u];p.length===1?i.pattern=p[0].source:p.length>1&&(i.allOf=[...p.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},Vb=(e,t,n,r)=>{const i=n,{minimum:s,maximum:o,format:c,multipleOf:u,exclusiveMaximum:d,exclusiveMinimum:p}=e._zod.bag;typeof c=="string"&&c.includes("int")?i.type="integer":i.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=p,i.exclusiveMinimum=!0):i.exclusiveMinimum=p),typeof s=="number"&&(i.minimum=s,typeof p=="number"&&t.target!=="draft-04"&&(p>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=d,i.exclusiveMaximum=!0):i.exclusiveMaximum=d),typeof o=="number"&&(i.maximum=o,typeof d=="number"&&t.target!=="draft-04"&&(d<=o?delete i.maximum:delete i.exclusiveMaximum)),typeof u=="number"&&(i.multipleOf=u)},Gb=(e,t,n,r)=>{n.type="boolean"},aL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},oL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},Jb=(e,t,n,r)=>{t.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},sL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},lL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},Kb=(e,t,n,r)=>{n.not={}},cL=(e,t,n,r)=>{},Yb=(e,t,n,r)=>{},uL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},Xb=(e,t,n,r)=>{const i=e._zod.def,s=Eb(i.entries);s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),n.enum=s},Qb=(e,t,n,r)=>{const i=e._zod.def,s=[];for(const o of i.values)if(o===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(o))}else s.push(o);if(s.length!==0)if(s.length===1){const o=s[0];n.type=o===null?"null":typeof o,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[o]:n.const=o}else s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),s.every(o=>typeof o=="boolean")&&(n.type="boolean"),s.every(o=>o===null)&&(n.type="null"),n.enum=s},dL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},pL=(e,t,n,r)=>{const i=n,s=e._zod.pattern;if(!s)throw new Error("Pattern not found in template literal");i.type="string",i.pattern=s.source},fL=(e,t,n,r)=>{const i=n,s={type:"string",format:"binary",contentEncoding:"binary"},{minimum:o,maximum:c,mime:u}=e._zod.bag;o!==void 0&&(s.minLength=o),c!==void 0&&(s.maxLength=c),u?u.length===1?(s.contentMediaType=u[0],Object.assign(i,s)):i.anyOf=u.map(d=>({...s,contentMediaType:d})):Object.assign(i,s)},hL=(e,t,n,r)=>{n.type="boolean"},ex=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},mL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},tx=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},gL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},vL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},nx=(e,t,n,r)=>{const i=n,s=e._zod.def,{minimum:o,maximum:c}=e._zod.bag;typeof o=="number"&&(i.minItems=o),typeof c=="number"&&(i.maxItems=c),i.type="array",i.items=Bt(s.element,t,{...r,path:[...r.path,"items"]})},rx=(e,t,n,r)=>{const i=n,s=e._zod.def;i.type="object",i.properties={};const o=s.shape;for(const d in o)i.properties[d]=Bt(o[d],t,{...r,path:[...r.path,"properties",d]});const c=new Set(Object.keys(o)),u=new Set([...c].filter(d=>{const p=s.shape[d]._zod;return t.io==="input"?p.optin===void 0:p.optout===void 0}));u.size>0&&(i.required=Array.from(u)),s.catchall?._zod.def.type==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=Bt(s.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},ix=(e,t,n,r)=>{const i=e._zod.def,s=i.inclusive===!1,o=i.options.map((c,u)=>Bt(c,t,{...r,path:[...r.path,s?"oneOf":"anyOf",u]}));s?n.oneOf=o:n.anyOf=o},ax=(e,t,n,r)=>{const i=e._zod.def,s=Bt(i.left,t,{...r,path:[...r.path,"allOf",0]}),o=Bt(i.right,t,{...r,path:[...r.path,"allOf",1]}),c=d=>"allOf"in d&&Object.keys(d).length===1,u=[...c(s)?s.allOf:[s],...c(o)?o.allOf:[o]];n.allOf=u},yL=(e,t,n,r)=>{const i=n,s=e._zod.def;i.type="array";const o=t.target==="draft-2020-12"?"prefixItems":"items",c=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",u=s.items.map((g,y)=>Bt(g,t,{...r,path:[...r.path,o,y]})),d=s.rest?Bt(s.rest,t,{...r,path:[...r.path,c,...t.target==="openapi-3.0"?[s.items.length]:[]]}):null;t.target==="draft-2020-12"?(i.prefixItems=u,d&&(i.items=d)):t.target==="openapi-3.0"?(i.items={anyOf:u},d&&i.items.anyOf.push(d),i.minItems=u.length,d||(i.maxItems=u.length)):(i.items=u,d&&(i.additionalItems=d));const{minimum:p,maximum:h}=e._zod.bag;typeof p=="number"&&(i.minItems=p),typeof h=="number"&&(i.maxItems=h)},ox=(e,t,n,r)=>{const i=n,s=e._zod.def;i.type="object",(t.target==="draft-07"||t.target==="draft-2020-12")&&(i.propertyNames=Bt(s.keyType,t,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=Bt(s.valueType,t,{...r,path:[...r.path,"additionalProperties"]})},sx=(e,t,n,r)=>{const i=e._zod.def,s=Bt(i.innerType,t,r),o=t.seen.get(e);t.target==="openapi-3.0"?(o.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},lx=(e,t,n,r)=>{const i=e._zod.def;Bt(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType},cx=(e,t,n,r)=>{const i=e._zod.def;Bt(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},ux=(e,t,n,r)=>{const i=e._zod.def;Bt(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},dx=(e,t,n,r)=>{const i=e._zod.def;Bt(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType;let o;try{o=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},px=(e,t,n,r)=>{const i=e._zod.def,s=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Bt(s,t,r);const o=t.seen.get(e);o.ref=s},fx=(e,t,n,r)=>{const i=e._zod.def;Bt(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType,n.readOnly=!0},bL=(e,t,n,r)=>{const i=e._zod.def;Bt(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType},hx=(e,t,n,r)=>{const i=e._zod.def;Bt(i.innerType,t,r);const s=t.seen.get(e);s.ref=i.innerType},mx=(e,t,n,r)=>{const i=e._zod.innerType;Bt(i,t,r);const s=t.seen.get(e);s.ref=i},pg={string:Wb,number:Vb,boolean:Gb,bigint:aL,symbol:oL,null:Jb,undefined:sL,void:lL,never:Kb,any:cL,unknown:Yb,date:uL,enum:Xb,literal:Qb,nan:dL,template_literal:pL,file:fL,success:hL,custom:ex,function:mL,transform:tx,map:gL,set:vL,array:nx,object:rx,union:ix,intersection:ax,tuple:yL,record:ox,nullable:sx,nonoptional:lx,default:cx,prefault:ux,catch:dx,pipe:px,readonly:fx,promise:bL,optional:hx,lazy:mx};function xL(e,t){if("_idmap"in e){const r=e,i=Ys({...t,processors:pg}),s={};for(const u of r._idmap.entries()){const[d,p]=u;Bt(p,i)}const o={},c={registry:r,uri:t?.uri,defs:s};i.external=c;for(const u of r._idmap.entries()){const[d,p]=u;Xs(i,p),o[d]=Qs(i,p)}if(Object.keys(s).length>0){const u=i.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[u]:s}}return{schemas:o}}const n=Ys({...t,processors:pg});return Bt(e,n),Xs(n,e),Qs(n,e)}const _L=ge("ZodISODateTime",(e,t)=>{C$.init(e,t),Qt.init(e,t)});function wL(e){return RD(_L,e)}const kL=ge("ZodISODate",(e,t)=>{S$.init(e,t),Qt.init(e,t)});function CL(e){return OD(kL,e)}const SL=ge("ZodISOTime",(e,t)=>{E$.init(e,t),Qt.init(e,t)});function EL(e){return zD(SL,e)}const TL=ge("ZodISODuration",(e,t)=>{T$.init(e,t),Qt.init(e,t)});function AL(e){return FD(TL,e)}const IL=(e,t)=>{jb.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>mP(e,n)},flatten:{value:n=>hP(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,td,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,td,2)}},isEmpty:{get(){return e.issues.length===0}}})},fr=ge("ZodError",IL,{Parent:Error}),jL=Yd(fr),RL=Xd(fr),OL=wl(fr),gx=kl(fr),zL=yP(fr),FL=bP(fr),ML=xP(fr),NL=_P(fr),PL=wP(fr),$L=kP(fr),DL=CP(fr),LL=SP(fr),Vt=ge("ZodType",(e,t)=>(Ut.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:el(e,"input"),output:el(e,"output")}}),e.toJSONSchema=rL(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Hi(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>yi(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>jL(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>OL(e,n,r),e.parseAsync=async(n,r)=>RL(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>gx(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>zL(e,n,r),e.decode=(n,r)=>FL(e,n,r),e.encodeAsync=async(n,r)=>ML(e,n,r),e.decodeAsync=async(n,r)=>NL(e,n,r),e.safeEncode=(n,r)=>PL(e,n,r),e.safeDecode=(n,r)=>$L(e,n,r),e.safeEncodeAsync=async(n,r)=>DL(e,n,r),e.safeDecodeAsync=async(n,r)=>LL(e,n,r),e.refine=(n,r)=>e.check(z4(n,r)),e.superRefine=n=>e.check(F4(n)),e.overwrite=n=>e.check(Ia(n)),e.optional=()=>cn(e),e.nullable=()=>mg(e),e.nullish=()=>cn(mg(e)),e.nonoptional=n=>C4(e,n),e.array=()=>Yr(e),e.or=n=>hn([e,n]),e.and=n=>h4(e,n),e.transform=n=>gg(e,y4(n)),e.default=n=>_4(e,n),e.prefault=n=>k4(e,n),e.catch=n=>E4(e,n),e.pipe=n=>gg(e,n),e.readonly=()=>I4(e),e.describe=n=>{const r=e.clone();return ro.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return ro.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return ro.get(e);const r=e.clone();return ro.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),vx=ge("_ZodString",(e,t)=>{Qd.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>Wb(e,r,i);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(BD(...r)),e.includes=(...r)=>e.check(HD(...r)),e.startsWith=(...r)=>e.check(qD(...r)),e.endsWith=(...r)=>e.check(WD(...r)),e.min=(...r)=>e.check(Ks(...r)),e.max=(...r)=>e.check(Hb(...r)),e.length=(...r)=>e.check(qb(...r)),e.nonempty=(...r)=>e.check(Ks(1,...r)),e.lowercase=r=>e.check(UD(r)),e.uppercase=r=>e.check(ZD(r)),e.trim=()=>e.check(GD()),e.normalize=(...r)=>e.check(VD(...r)),e.toLowerCase=()=>e.check(JD()),e.toUpperCase=()=>e.check(KD()),e.slugify=()=>e.check(YD())}),BL=ge("ZodString",(e,t)=>{Qd.init(e,t),vx.init(e,t),e.email=n=>e.check(dD(UL,n)),e.url=n=>e.check(gD(ZL,n)),e.jwt=n=>e.check(jD(r4,n)),e.emoji=n=>e.check(vD(HL,n)),e.guid=n=>e.check(lg(fg,n)),e.uuid=n=>e.check(pD(Os,n)),e.uuidv4=n=>e.check(fD(Os,n)),e.uuidv6=n=>e.check(hD(Os,n)),e.uuidv7=n=>e.check(mD(Os,n)),e.nanoid=n=>e.check(yD(qL,n)),e.guid=n=>e.check(lg(fg,n)),e.cuid=n=>e.check(bD(WL,n)),e.cuid2=n=>e.check(xD(VL,n)),e.ulid=n=>e.check(_D(GL,n)),e.base64=n=>e.check(Zb(yx,n)),e.base64url=n=>e.check(AD(t4,n)),e.xid=n=>e.check(wD(JL,n)),e.ksuid=n=>e.check(kD(KL,n)),e.ipv4=n=>e.check(CD(YL,n)),e.ipv6=n=>e.check(SD(XL,n)),e.cidrv4=n=>e.check(ED(QL,n)),e.cidrv6=n=>e.check(TD(e4,n)),e.e164=n=>e.check(ID(n4,n)),e.datetime=n=>e.check(wL(n)),e.date=n=>e.check(CL(n)),e.time=n=>e.check(EL(n)),e.duration=n=>e.check(AL(n))});function ke(e){return uD(BL,e)}const Qt=ge("ZodStringFormat",(e,t)=>{Wt.init(e,t),vx.init(e,t)}),UL=ge("ZodEmail",(e,t)=>{m$.init(e,t),Qt.init(e,t)}),fg=ge("ZodGUID",(e,t)=>{f$.init(e,t),Qt.init(e,t)}),Os=ge("ZodUUID",(e,t)=>{h$.init(e,t),Qt.init(e,t)}),ZL=ge("ZodURL",(e,t)=>{g$.init(e,t),Qt.init(e,t)}),HL=ge("ZodEmoji",(e,t)=>{v$.init(e,t),Qt.init(e,t)}),qL=ge("ZodNanoID",(e,t)=>{y$.init(e,t),Qt.init(e,t)}),WL=ge("ZodCUID",(e,t)=>{b$.init(e,t),Qt.init(e,t)}),VL=ge("ZodCUID2",(e,t)=>{x$.init(e,t),Qt.init(e,t)}),GL=ge("ZodULID",(e,t)=>{_$.init(e,t),Qt.init(e,t)}),JL=ge("ZodXID",(e,t)=>{w$.init(e,t),Qt.init(e,t)}),KL=ge("ZodKSUID",(e,t)=>{k$.init(e,t),Qt.init(e,t)}),YL=ge("ZodIPv4",(e,t)=>{A$.init(e,t),Qt.init(e,t)}),XL=ge("ZodIPv6",(e,t)=>{I$.init(e,t),Qt.init(e,t)}),QL=ge("ZodCIDRv4",(e,t)=>{j$.init(e,t),Qt.init(e,t)}),e4=ge("ZodCIDRv6",(e,t)=>{R$.init(e,t),Qt.init(e,t)}),yx=ge("ZodBase64",(e,t)=>{O$.init(e,t),Qt.init(e,t)});function bx(e){return Zb(yx,e)}const t4=ge("ZodBase64URL",(e,t)=>{F$.init(e,t),Qt.init(e,t)}),n4=ge("ZodE164",(e,t)=>{M$.init(e,t),Qt.init(e,t)}),r4=ge("ZodJWT",(e,t)=>{P$.init(e,t),Qt.init(e,t)}),xx=ge("ZodNumber",(e,t)=>{Db.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>Vb(e,r,i),e.gt=(r,i)=>e.check(ug(r,i)),e.gte=(r,i)=>e.check(gu(r,i)),e.min=(r,i)=>e.check(gu(r,i)),e.lt=(r,i)=>e.check(cg(r,i)),e.lte=(r,i)=>e.check(mu(r,i)),e.max=(r,i)=>e.check(mu(r,i)),e.int=r=>e.check(hg(r)),e.safe=r=>e.check(hg(r)),e.positive=r=>e.check(ug(0,r)),e.nonnegative=r=>e.check(gu(0,r)),e.negative=r=>e.check(cg(0,r)),e.nonpositive=r=>e.check(mu(0,r)),e.multipleOf=(r,i)=>e.check(dg(r,i)),e.step=(r,i)=>e.check(dg(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function xo(e){return MD(xx,e)}const i4=ge("ZodNumberFormat",(e,t)=>{$$.init(e,t),xx.init(e,t)});function hg(e){return ND(i4,e)}const a4=ge("ZodBoolean",(e,t)=>{D$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>Gb(e,n,r)});function on(e){return PD(a4,e)}const o4=ge("ZodNull",(e,t)=>{L$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>Jb(e,n,r)});function s4(e){return $D(o4,e)}const l4=ge("ZodUnknown",(e,t)=>{B$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>Yb()});function Dt(){return DD(l4)}const c4=ge("ZodNever",(e,t)=>{U$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>Kb(e,n,r)});function Pn(e){return LD(c4,e)}const u4=ge("ZodArray",(e,t)=>{Z$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>nx(e,n,r,i),e.element=t.element,e.min=(n,r)=>e.check(Ks(n,r)),e.nonempty=n=>e.check(Ks(1,n)),e.max=(n,r)=>e.check(Hb(n,r)),e.length=(n,r)=>e.check(qb(n,r)),e.unwrap=()=>e.element});function Yr(e,t){return XD(u4,e,t)}const ep=ge("ZodObject",(e,t)=>{q$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>rx(e,n,r,i),Ct(e,"shape",()=>t.shape),e.keyof=()=>Sl(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Dt()}),e.loose=()=>e.clone({...e._zod.def,catchall:Dt()}),e.strict=()=>e.clone({...e._zod.def,catchall:Pn()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>cP(e,n),e.safeExtend=n=>uP(e,n),e.merge=n=>dP(e,n),e.pick=n=>sP(e,n),e.omit=n=>lP(e,n),e.partial=(...n)=>pP(wx,e,n[0]),e.required=(...n)=>fP(kx,e,n[0])});function tt(e,t){const n={type:"object",shape:e??{},...qe(t)};return new ep(n)}function Pt(e,t){return new ep({type:"object",shape:e,catchall:Pn(),...qe(t)})}function ma(e,t){return new ep({type:"object",shape:e,catchall:Dt(),...qe(t)})}const _x=ge("ZodUnion",(e,t)=>{Ub.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ix(e,n,r,i),e.options=t.options});function hn(e,t){return new _x({type:"union",options:e,...qe(t)})}const d4=ge("ZodDiscriminatedUnion",(e,t)=>{_x.init(e,t),W$.init(e,t)});function p4(e,t,n){return new d4({type:"union",options:t,discriminator:e,...qe(n)})}const f4=ge("ZodIntersection",(e,t)=>{V$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ax(e,n,r,i)});function h4(e,t){return new f4({type:"intersection",left:e,right:t})}const m4=ge("ZodRecord",(e,t)=>{G$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ox(e,n,r,i),e.keyType=t.keyType,e.valueType=t.valueType});function rd(e,t,n){return new m4({type:"record",keyType:e,valueType:t,...qe(n)})}const id=ge("ZodEnum",(e,t)=>{J$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(r,i,s)=>Xb(e,r,i),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const s={};for(const o of r)if(n.has(o))s[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new id({...t,checks:[],...qe(i),entries:s})},e.exclude=(r,i)=>{const s={...t.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new id({...t,checks:[],...qe(i),entries:s})}});function Sl(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new id({type:"enum",entries:n,...qe(t)})}const g4=ge("ZodLiteral",(e,t)=>{K$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>Qb(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function De(e,t){return new g4({type:"literal",values:Array.isArray(e)?e:[e],...qe(t)})}const v4=ge("ZodTransform",(e,t)=>{Y$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>tx(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Cb(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(bo(s,n.value,t));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(bo(o))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function y4(e){return new v4({type:"transform",transform:e})}const wx=ge("ZodOptional",(e,t)=>{X$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>hx(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function cn(e){return new wx({type:"optional",innerType:e})}const b4=ge("ZodNullable",(e,t)=>{Q$.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>sx(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function mg(e){return new b4({type:"nullable",innerType:e})}const x4=ge("ZodDefault",(e,t)=>{eD.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>cx(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function _4(e,t){return new x4({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Ab(t)}})}const w4=ge("ZodPrefault",(e,t)=>{tD.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ux(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function k4(e,t){return new w4({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Ab(t)}})}const kx=ge("ZodNonOptional",(e,t)=>{nD.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>lx(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function C4(e,t){return new kx({type:"nonoptional",innerType:e,...qe(t)})}const S4=ge("ZodCatch",(e,t)=>{rD.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>dx(e,n,r,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function E4(e,t){return new S4({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const T4=ge("ZodPipe",(e,t)=>{iD.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>px(e,n,r,i),e.in=t.in,e.out=t.out});function gg(e,t){return new T4({type:"pipe",in:e,out:t})}const A4=ge("ZodReadonly",(e,t)=>{aD.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>fx(e,n,r,i),e.unwrap=()=>e._zod.def.innerType});function I4(e){return new A4({type:"readonly",innerType:e})}const j4=ge("ZodLazy",(e,t)=>{oD.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>mx(e,n,r,i),e.unwrap=()=>e._zod.def.getter()});function R4(e){return new j4({type:"lazy",getter:e})}const tp=ge("ZodCustom",(e,t)=>{sD.init(e,t),Vt.init(e,t),e._zod.processJSONSchema=(n,r,i)=>ex(e,n)});function O4(e,t){return QD(tp,e??(()=>!0),t)}function z4(e,t={}){return eL(tp,e,t)}function F4(e){return tL(e)}function tl(e,t={error:`Input not instance of ${e.name}`}){const n=new tp({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...qe(t)});return n._zod.bag.Class=e,n}var _o;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of s)o[c]=i[c];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(_o||(_o={}));var vg;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(vg||(vg={}));_o.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);_o.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class nl extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let c=r,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(o))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return i(this),r}static assert(t){if(!(t instanceof nl))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_o.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n=Object.create(null),r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}nl.create=e=>new nl(e);var yg;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(yg||(yg={}));var at;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(at||(at={}));var Ao=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=()=>{const s=n.length,o=new Array(t);for(let c=0;c<t;c++)o[c]=n[Math.random()*s|0];return o.join("")};if(e==null)return i;if(n.includes(r))throw new GN({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${i()}`},M4=Ao(),N4=/"__proto__"\s*:/,P4=/"constructor"\s*:/;function $4(e){const t=JSON.parse(e);return t===null||typeof t!="object"||N4.test(e)===!1&&P4.test(e)===!1?t:D4(t)}function D4(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const i in r){const s=r[i];s&&typeof s=="object"&&t.push(s)}}}return e}function L4(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return $4(e)}finally{Error.stackTraceLimit=t}}var rl=Symbol.for("vercel.ai.validator");function B4(e){return{[rl]:!0,validate:e}}function U4(e){return typeof e=="object"&&e!==null&&rl in e&&e[rl]===!0&&"validate"in e}function Z4(e){return U4(e)?e:H4(e)}function H4(e){return B4(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new Gs({value:t,cause:n.issues})}})}async function bg({value:e,schema:t}){const n=await np({value:e,schema:t});if(!n.success)throw Gs.wrap({value:e,cause:n.error});return n.value}async function np({value:e,schema:t}){const n=Z4(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:Gs.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:Gs.wrap({value:e,cause:r}),rawValue:e}}}async function il({text:e,schema:t}){try{const n=L4(e);return t==null?{success:!0,value:n,rawValue:n}:await np({value:n,schema:t})}catch(n){return{success:!1,error:Gm.isInstance(n)?n:new Gm({text:e,cause:n}),rawValue:void 0}}}function q4({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new eP).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await il({text:n,schema:t}))}}))}async function la(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var W4=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},V4=Symbol("Let zodToJsonSchema decide on which parser to use"),xg={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},G4=e=>typeof e=="string"?{...xg,name:e}:{...xg,...e};function Kn(){return{}}function J4(e,t){var n,r,i;const s={type:"array"};return(n=e.type)!=null&&n._def&&((i=(r=e.type)==null?void 0:r._def)==null?void 0:i.typeName)!==at.ZodAny&&(s.items=It(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(s.minItems=e.minLength.value),e.maxLength&&(s.maxItems=e.maxLength.value),e.exactLength&&(s.minItems=e.exactLength.value,s.maxItems=e.exactLength.value),s}function K4(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function Y4(){return{type:"boolean"}}function Cx(e,t){return It(e.type._def,t)}var X4=(e,t)=>It(e.innerType._def,t);function Sx(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,s)=>Sx(e,t,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Q4(e)}}var Q4=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function eB(e,t){return{...It(e.innerType._def,t),default:e.defaultValue()}}function tB(e,t){return t.effectStrategy==="input"?It(e.schema._def,t):Kn()}function nB(e){return{type:"string",enum:Array.from(e.values)}}var rB=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function iB(e,t){const n=[It(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),It(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),r=[];return n.forEach(i=>{if(rB(i))r.push(...i.allOf);else{let s=i;if("additionalProperties"in i&&i.additionalProperties===!1){const{additionalProperties:o,...c}=i;s=c}r.push(s)}}),r.length?{allOf:r}:void 0}function aB(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var vu=void 0,br={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(vu===void 0&&(vu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),vu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Ex(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":xr(n,"email",r.message,t);break;case"format:idn-email":xr(n,"idn-email",r.message,t);break;case"pattern:zod":En(n,br.email,r.message,t);break}break;case"url":xr(n,"uri",r.message,t);break;case"uuid":xr(n,"uuid",r.message,t);break;case"regex":En(n,r.regex,r.message,t);break;case"cuid":En(n,br.cuid,r.message,t);break;case"cuid2":En(n,br.cuid2,r.message,t);break;case"startsWith":En(n,RegExp(`^${yu(r.value,t)}`),r.message,t);break;case"endsWith":En(n,RegExp(`${yu(r.value,t)}$`),r.message,t);break;case"datetime":xr(n,"date-time",r.message,t);break;case"date":xr(n,"date",r.message,t);break;case"time":xr(n,"time",r.message,t);break;case"duration":xr(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{En(n,RegExp(yu(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&xr(n,"ipv4",r.message,t),r.version!=="v4"&&xr(n,"ipv6",r.message,t);break}case"base64url":En(n,br.base64url,r.message,t);break;case"jwt":En(n,br.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&En(n,br.ipv4Cidr,r.message,t),r.version!=="v4"&&En(n,br.ipv6Cidr,r.message,t);break}case"emoji":En(n,br.emoji(),r.message,t);break;case"ulid":{En(n,br.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{xr(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{En(n,br.base64,r.message,t);break}}break}case"nanoid":En(n,br.nanoid,r.message,t)}return n}function yu(e,t){return t.patternStrategy==="escape"?sB(e):e}var oB=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function sB(e){let t="";for(let n=0;n<e.length;n++)oB.has(e[n])||(t+="\\"),t+=e[n];return t}function xr(e,t,n,r){var i;e.format||(i=e.anyOf)!=null&&i.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function En(e,t,n,r){var i;e.pattern||(i=e.allOf)!=null&&i.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:_g(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=_g(t,r)}function _g(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},i=r.i?e.source.toLowerCase():e.source;let s="",o=!1,c=!1,u=!1;for(let d=0;d<i.length;d++){if(o){s+=i[d],o=!1;continue}if(r.i){if(c){if(i[d].match(/[a-z]/)){u?(s+=i[d],s+=`${i[d-2]}-${i[d]}`.toUpperCase(),u=!1):i[d+1]==="-"&&((n=i[d+2])!=null&&n.match(/[a-z]/))?(s+=i[d],u=!0):s+=`${i[d]}${i[d].toUpperCase()}`;continue}}else if(i[d].match(/[a-z]/)){s+=`[${i[d]}${i[d].toUpperCase()}]`;continue}}if(r.m){if(i[d]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(i[d]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&i[d]==="."){s+=c?`${i[d]}\r
`:`[${i[d]}\r
]`;continue}s+=i[d],i[d]==="\\"?o=!0:c&&i[d]==="]"?c=!1:!c&&i[d]==="["&&(c=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function Tx(e,t){var n,r,i,s,o,c;const u={type:"object",additionalProperties:(n=It(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===at.ZodString&&((i=e.keyType._def.checks)!=null&&i.length)){const{type:d,...p}=Ex(e.keyType._def,t);return{...u,propertyNames:p}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===at.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if(((o=e.keyType)==null?void 0:o._def.typeName)===at.ZodBranded&&e.keyType._def.type._def.typeName===at.ZodString&&((c=e.keyType._def.type._def.checks)!=null&&c.length)){const{type:d,...p}=Cx(e.keyType._def,t);return{...u,propertyNames:p}}}return u}function lB(e,t){if(t.mapStrategy==="record")return Tx(e,t);const n=It(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Kn(),r=It(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Kn();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function cB(e){const t=e.values,r=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),i=Array.from(new Set(r.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function uB(){return{not:Kn()}}function dB(){return{type:"null"}}var ad={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function pB(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in ad&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,s)=>{const o=ad[s._def.typeName];return o&&!i.includes(o)?[...i,o]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,s)=>{const o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...i,o];case"bigint":return[...i,"integer"];case"object":if(s._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((s,o,c)=>c.indexOf(s)===o);return{type:i.length>1?i:i[0],enum:n.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(s=>!r.includes(s))],[])};return fB(e,t)}var fB=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,i)=>It(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function hB(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[ad[e.innerType._def.typeName],"null"]};const n=It(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function mB(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function gB(e,t){const n={type:"object",properties:{}},r=[],i=e.shape();for(const o in i){let c=i[o];if(c===void 0||c._def===void 0)continue;const u=yB(c),d=It(c._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});d!==void 0&&(n.properties[o]=d,u||r.push(o))}r.length&&(n.required=r);const s=vB(e,t);return s!==void 0&&(n.additionalProperties=s),n}function vB(e,t){if(e.catchall._def.typeName!=="ZodNever")return It(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function yB(e){try{return e.isOptional()}catch{return!0}}var bB=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return It(e.innerType._def,t);const r=It(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Kn()},r]}:Kn()},xB=(e,t)=>{if(t.pipeStrategy==="input")return It(e.in._def,t);if(t.pipeStrategy==="output")return It(e.out._def,t);const n=It(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=It(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function _B(e,t){return It(e.type._def,t)}function wB(e,t){const r={type:"array",uniqueItems:!0,items:It(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function kB(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>It(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:It(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>It(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function CB(){return{not:Kn()}}function SB(){return Kn()}var EB=(e,t)=>It(e.innerType._def,t),TB=(e,t,n)=>{switch(t){case at.ZodString:return Ex(e,n);case at.ZodNumber:return mB(e);case at.ZodObject:return gB(e,n);case at.ZodBigInt:return K4(e);case at.ZodBoolean:return Y4();case at.ZodDate:return Sx(e,n);case at.ZodUndefined:return CB();case at.ZodNull:return dB();case at.ZodArray:return J4(e,n);case at.ZodUnion:case at.ZodDiscriminatedUnion:return pB(e,n);case at.ZodIntersection:return iB(e,n);case at.ZodTuple:return kB(e,n);case at.ZodRecord:return Tx(e,n);case at.ZodLiteral:return aB(e);case at.ZodEnum:return nB(e);case at.ZodNativeEnum:return cB(e);case at.ZodNullable:return hB(e,n);case at.ZodOptional:return bB(e,n);case at.ZodMap:return lB(e,n);case at.ZodSet:return wB(e,n);case at.ZodLazy:return()=>e.getter()._def;case at.ZodPromise:return _B(e,n);case at.ZodNaN:case at.ZodNever:return uB();case at.ZodEffects:return tB(e,n);case at.ZodAny:return Kn();case at.ZodUnknown:return SB();case at.ZodDefault:return eB(e,n);case at.ZodBranded:return Cx(e,n);case at.ZodReadonly:return EB(e,n);case at.ZodCatch:return X4(e,n);case at.ZodPipeline:return xB(e,n);case at.ZodFunction:case at.ZodVoid:case at.ZodSymbol:return;default:return(r=>{})()}};function It(e,t,n=!1){var r;const i=t.seen.get(e);if(t.override){const u=(r=t.override)==null?void 0:r.call(t,e,t,i,n);if(u!==V4)return u}if(i&&!n){const u=AB(i,t);if(u!==void 0)return u}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const o=TB(e,e.typeName,t),c=typeof o=="function"?It(o(),t):o;if(c&&IB(e,t,c),t.postProcess){const u=t.postProcess(c,e,t);return s.jsonSchema=c,u}return s.jsonSchema=c,c}var AB=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:W4(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Kn()):t.$refStrategy==="seen"?Kn():void 0}},IB=(e,t,n)=>(e.description&&(n.description=e.description),n),jB=e=>{const t=G4(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},RB=(e,t)=>{var n;const r=jB(t);let i=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,h])=>{var g;return{...d,[p]:(g=It(h._def,{...r,currentPath:[...r.basePath,r.definitionPath,p]},!0))!=null?g:Kn()}},{}):void 0;const s=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,o=(n=It(e._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1))!=null?n:Kn(),c=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;c!==void 0&&(o.title=c);const u=s===void 0?i?{...o,[r.definitionPath]:i}:o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...i,[s]:o}};return u.$schema="http://json-schema.org/draft-07/schema#",u},OB=RB;function zB(e,t){var n;const r=(n=void 0)!=null?n:!1;return rp(OB(e,{$refStrategy:r?"root":"none"}),{validate:async i=>{const s=await e.safeParseAsync(i);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function FB(e,t){var n;const r=(n=void 0)!=null?n:!1,i=xL(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"});return rp(i,{validate:async s=>{const o=await gx(e,s);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function MB(e){return"_zod"in e}function NB(e,t){return MB(e)?FB(e):zB(e)}var od=Symbol.for("vercel.ai.schema");function rp(e,{validate:t}={}){return{[od]:!0,_type:void 0,[rl]:!0,jsonSchema:e,validate:t}}function PB(e){return typeof e=="object"&&e!==null&&od in e&&e[od]===!0&&"jsonSchema"in e&&"validate"in e}function $B(e){return e==null?rp({properties:{},additionalProperties:!1}):PB(e)?e:NB(e)}var DB=Object.defineProperty,LB=(e,t)=>{for(var n in t)DB(e,n,{get:t[n],enumerable:!0})},Ax="AI_NoObjectGeneratedError",Ix=`vercel.ai.error.${Ax}`,BB=Symbol.for(Ix),jx,wg=class extends fi{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:i,finishReason:s}){super({name:Ax,message:e,cause:t}),this[jx]=!0,this.text=n,this.response=r,this.usage=i,this.finishReason=s}static isInstance(e){return fi.hasMarker(e,Ix)}};jx=BB;var Rx=hn([ke(),tl(Uint8Array),tl(ArrayBuffer),O4(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]),wo=R4(()=>hn([s4(),ke(),xo(),on(),rd(ke(),wo),Yr(wo)])),wt=rd(ke(),rd(ke(),wo)),Ox=tt({type:De("text"),text:ke(),providerOptions:wt.optional()}),UB=tt({type:De("image"),image:hn([Rx,tl(URL)]),mediaType:ke().optional(),providerOptions:wt.optional()}),zx=tt({type:De("file"),data:hn([Rx,tl(URL)]),filename:ke().optional(),mediaType:ke(),providerOptions:wt.optional()}),ZB=tt({type:De("reasoning"),text:ke(),providerOptions:wt.optional()}),HB=tt({type:De("tool-call"),toolCallId:ke(),toolName:ke(),input:Dt(),providerOptions:wt.optional(),providerExecuted:on().optional()}),qB=p4("type",[tt({type:De("text"),value:ke()}),tt({type:De("json"),value:wo}),tt({type:De("error-text"),value:ke()}),tt({type:De("error-json"),value:wo}),tt({type:De("content"),value:Yr(hn([tt({type:De("text"),text:ke()}),tt({type:De("media"),data:ke(),mediaType:ke()})]))})]),Fx=tt({type:De("tool-result"),toolCallId:ke(),toolName:ke(),output:qB,providerOptions:wt.optional()}),WB=tt({role:De("system"),content:ke(),providerOptions:wt.optional()}),VB=tt({role:De("user"),content:hn([ke(),Yr(hn([Ox,UB,zx]))]),providerOptions:wt.optional()}),GB=tt({role:De("assistant"),content:hn([ke(),Yr(hn([Ox,zx,ZB,HB,Fx]))]),providerOptions:wt.optional()}),JB=tt({role:De("tool"),content:Yr(Fx),providerOptions:wt.optional()});hn([WB,VB,GB,JB]);Ao({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var KB=hn([Pt({type:De("text-start"),id:ke(),providerMetadata:wt.optional()}),Pt({type:De("text-delta"),id:ke(),delta:ke(),providerMetadata:wt.optional()}),Pt({type:De("text-end"),id:ke(),providerMetadata:wt.optional()}),Pt({type:De("error"),errorText:ke()}),Pt({type:De("tool-input-start"),toolCallId:ke(),toolName:ke(),providerExecuted:on().optional(),dynamic:on().optional()}),Pt({type:De("tool-input-delta"),toolCallId:ke(),inputTextDelta:ke()}),Pt({type:De("tool-input-available"),toolCallId:ke(),toolName:ke(),input:Dt(),providerExecuted:on().optional(),providerMetadata:wt.optional(),dynamic:on().optional()}),Pt({type:De("tool-input-error"),toolCallId:ke(),toolName:ke(),input:Dt(),providerExecuted:on().optional(),providerMetadata:wt.optional(),dynamic:on().optional(),errorText:ke()}),Pt({type:De("tool-output-available"),toolCallId:ke(),output:Dt(),providerExecuted:on().optional(),dynamic:on().optional(),preliminary:on().optional()}),Pt({type:De("tool-output-error"),toolCallId:ke(),errorText:ke(),providerExecuted:on().optional(),dynamic:on().optional()}),Pt({type:De("reasoning"),text:ke(),providerMetadata:wt.optional()}),Pt({type:De("reasoning-start"),id:ke(),providerMetadata:wt.optional()}),Pt({type:De("reasoning-delta"),id:ke(),delta:ke(),providerMetadata:wt.optional()}),Pt({type:De("reasoning-end"),id:ke(),providerMetadata:wt.optional()}),Pt({type:De("reasoning-part-finish")}),Pt({type:De("source-url"),sourceId:ke(),url:ke(),title:ke().optional(),providerMetadata:wt.optional()}),Pt({type:De("source-document"),sourceId:ke(),mediaType:ke(),title:ke(),filename:ke().optional(),providerMetadata:wt.optional()}),Pt({type:De("file"),url:ke(),mediaType:ke(),providerMetadata:wt.optional()}),Pt({type:ke().startsWith("data-"),id:ke().optional(),data:Dt(),transient:on().optional()}),Pt({type:De("start-step")}),Pt({type:De("finish-step")}),Pt({type:De("start"),messageId:ke().optional(),messageMetadata:Dt().optional()}),Pt({type:De("finish"),messageMetadata:Dt().optional()}),Pt({type:De("abort")}),Pt({type:De("message-metadata"),messageMetadata:Dt()})]);function YB(e){return e.type.startsWith("data-")}function Mx(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];if(i===void 0)continue;const s=r in e?e[r]:void 0,o=i!==null&&typeof i=="object"&&!Array.isArray(i)&&!(i instanceof Date)&&!(i instanceof RegExp),c=s!=null&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&!(s instanceof RegExp);o&&c?n[r]=Mx(s,i):n[r]=i}return n}function XB(e){const t=["ROOT"];let n=-1,r=null;function i(u,d,p){switch(u){case'"':{n=d,t.pop(),t.push(p),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=d,r=d,t.pop(),t.push(p),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=d,t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"{":{n=d,t.pop(),t.push(p),t.push("INSIDE_OBJECT_START");break}case"[":{n=d,t.pop(),t.push(p),t.push("INSIDE_ARRAY_START");break}}}function s(u,d){switch(u){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=d,t.pop();break}}}function o(u,d){switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=d,t.pop();break}}}for(let u=0;u<e.length;u++){const d=e[u];switch(t[t.length-1]){case"ROOT":i(d,u,"FINISH");break;case"INSIDE_OBJECT_START":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=u,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(d){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{i(d,u,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{s(d,u);break}case"INSIDE_STRING":{switch(d){case'"':{t.pop(),n=u;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=u}break}case"INSIDE_ARRAY_START":{switch(d){case"]":{n=u,t.pop();break}default:{n=u,i(d,u,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(d){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=u,t.pop();break}default:{n=u;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{i(d,u,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=u;break}case"INSIDE_NUMBER":{switch(d){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=u;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(d,u);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(d,u);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const h=e.substring(r,u+1);!"false".startsWith(h)&&!"true".startsWith(h)&&!"null".startsWith(h)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?s(d,u):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u)):n=u;break}}}let c=e.slice(0,n+1);for(let u=t.length-1;u>=0;u--)switch(t[u]){case"INSIDE_STRING":{c+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{c+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{c+="]";break}case"INSIDE_LITERAL":{const p=e.substring(r,e.length);"true".startsWith(p)?c+="true".slice(p.length):"false".startsWith(p)?c+="false".slice(p.length):"null".startsWith(p)&&(c+="null".slice(p.length))}}return c}async function Nx(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await il({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await il({text:XB(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function Ns(e){return e.type.startsWith("tool-")}function QB(e){return e.type==="dynamic-tool"}function kg(e){return Ns(e)||QB(e)}function Cg(e){return e.type.split("-").slice(1).join("-")}function e5({lastMessage:e,messageId:t}){return{message:e?.role==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function t5({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:i,onToolCall:s,onData:o}){return e.pipeThrough(new TransformStream({async transform(c,u){await r(async({state:d,write:p})=>{var h,g,y,v;function w(j){const O=d.message.parts.filter(Ns).find(B=>B.toolCallId===j);if(O==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return O}function _(j){const O=d.message.parts.filter(B=>B.type==="dynamic-tool").find(B=>B.toolCallId===j);if(O==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return O}function k(j){var P;const O=d.message.parts.find(Y=>Ns(Y)&&Y.toolCallId===j.toolCallId),B=j,U=O;O!=null?(O.state=j.state,U.input=B.input,U.output=B.output,U.errorText=B.errorText,U.rawInput=B.rawInput,U.preliminary=B.preliminary,U.providerExecuted=(P=B.providerExecuted)!=null?P:O.providerExecuted,B.providerMetadata!=null&&O.state==="input-available"&&(O.callProviderMetadata=B.providerMetadata)):d.message.parts.push({type:`tool-${j.toolName}`,toolCallId:j.toolCallId,state:j.state,input:B.input,output:B.output,rawInput:B.rawInput,errorText:B.errorText,providerExecuted:B.providerExecuted,preliminary:B.preliminary,...B.providerMetadata!=null?{callProviderMetadata:B.providerMetadata}:{}})}function T(j){var P;const O=d.message.parts.find(Y=>Y.type==="dynamic-tool"&&Y.toolCallId===j.toolCallId),B=j,U=O;O!=null?(O.state=j.state,U.toolName=j.toolName,U.input=B.input,U.output=B.output,U.errorText=B.errorText,U.rawInput=(P=B.rawInput)!=null?P:U.rawInput,U.preliminary=B.preliminary,B.providerMetadata!=null&&O.state==="input-available"&&(O.callProviderMetadata=B.providerMetadata)):d.message.parts.push({type:"dynamic-tool",toolName:j.toolName,toolCallId:j.toolCallId,state:j.state,input:B.input,output:B.output,errorText:B.errorText,preliminary:B.preliminary,...B.providerMetadata!=null?{callProviderMetadata:B.providerMetadata}:{}})}async function A(j){if(j!=null){const P=d.message.metadata!=null?Mx(d.message.metadata,j):j;t!=null&&await bg({value:P,schema:t}),d.message.metadata=P}}switch(c.type){case"text-start":{const j={type:"text",text:"",providerMetadata:c.providerMetadata,state:"streaming"};d.activeTextParts[c.id]=j,d.message.parts.push(j),p();break}case"text-delta":{const j=d.activeTextParts[c.id];j.text+=c.delta,j.providerMetadata=(h=c.providerMetadata)!=null?h:j.providerMetadata,p();break}case"text-end":{const j=d.activeTextParts[c.id];j.state="done",j.providerMetadata=(g=c.providerMetadata)!=null?g:j.providerMetadata,delete d.activeTextParts[c.id],p();break}case"reasoning-start":{const j={type:"reasoning",text:"",providerMetadata:c.providerMetadata,state:"streaming"};d.activeReasoningParts[c.id]=j,d.message.parts.push(j),p();break}case"reasoning-delta":{const j=d.activeReasoningParts[c.id];j.text+=c.delta,j.providerMetadata=(y=c.providerMetadata)!=null?y:j.providerMetadata,p();break}case"reasoning-end":{const j=d.activeReasoningParts[c.id];j.providerMetadata=(v=c.providerMetadata)!=null?v:j.providerMetadata,j.state="done",delete d.activeReasoningParts[c.id],p();break}case"file":{d.message.parts.push({type:"file",mediaType:c.mediaType,url:c.url}),p();break}case"source-url":{d.message.parts.push({type:"source-url",sourceId:c.sourceId,url:c.url,title:c.title,providerMetadata:c.providerMetadata}),p();break}case"source-document":{d.message.parts.push({type:"source-document",sourceId:c.sourceId,mediaType:c.mediaType,title:c.title,filename:c.filename,providerMetadata:c.providerMetadata}),p();break}case"tool-input-start":{const j=d.message.parts.filter(Ns);d.partialToolCalls[c.toolCallId]={text:"",toolName:c.toolName,index:j.length,dynamic:c.dynamic},c.dynamic?T({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-streaming",input:void 0}):k({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-streaming",input:void 0,providerExecuted:c.providerExecuted}),p();break}case"tool-input-delta":{const j=d.partialToolCalls[c.toolCallId];j.text+=c.inputTextDelta;const{value:P}=await Nx(j.text);j.dynamic?T({toolCallId:c.toolCallId,toolName:j.toolName,state:"input-streaming",input:P}):k({toolCallId:c.toolCallId,toolName:j.toolName,state:"input-streaming",input:P}),p();break}case"tool-input-available":{c.dynamic?T({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-available",input:c.input,providerMetadata:c.providerMetadata}):k({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-available",input:c.input,providerExecuted:c.providerExecuted,providerMetadata:c.providerMetadata}),p(),s&&!c.providerExecuted&&await s({toolCall:c});break}case"tool-input-error":{c.dynamic?T({toolCallId:c.toolCallId,toolName:c.toolName,state:"output-error",input:c.input,errorText:c.errorText,providerMetadata:c.providerMetadata}):k({toolCallId:c.toolCallId,toolName:c.toolName,state:"output-error",input:void 0,rawInput:c.input,errorText:c.errorText,providerExecuted:c.providerExecuted,providerMetadata:c.providerMetadata}),p();break}case"tool-output-available":{if(c.dynamic){const j=_(c.toolCallId);T({toolCallId:c.toolCallId,toolName:j.toolName,state:"output-available",input:j.input,output:c.output,preliminary:c.preliminary})}else{const j=w(c.toolCallId);k({toolCallId:c.toolCallId,toolName:Cg(j),state:"output-available",input:j.input,output:c.output,providerExecuted:c.providerExecuted,preliminary:c.preliminary})}p();break}case"tool-output-error":{if(c.dynamic){const j=_(c.toolCallId);T({toolCallId:c.toolCallId,toolName:j.toolName,state:"output-error",input:j.input,errorText:c.errorText})}else{const j=w(c.toolCallId);k({toolCallId:c.toolCallId,toolName:Cg(j),state:"output-error",input:j.input,rawInput:j.rawInput,errorText:c.errorText})}p();break}case"start-step":{d.message.parts.push({type:"step-start"});break}case"finish-step":{d.activeTextParts={},d.activeReasoningParts={};break}case"start":{c.messageId!=null&&(d.message.id=c.messageId),await A(c.messageMetadata),(c.messageId!=null||c.messageMetadata!=null)&&p();break}case"finish":{await A(c.messageMetadata),c.messageMetadata!=null&&p();break}case"message-metadata":{await A(c.messageMetadata),c.messageMetadata!=null&&p();break}case"error":{i?.(new Error(c.errorText));break}default:if(YB(c)){n?.[c.type]!=null&&await bg({value:c.data,schema:n[c.type]});const j=c;if(j.transient){o?.(j);break}const P=j.id!=null?d.message.parts.find(O=>j.type===O.type&&j.id===O.id):void 0;P!=null?P.data=j.data:d.message.parts.push(j),o?.(j),p()}}u.enqueue(c)})}}))}async function n5({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:r}=await n.read();if(r)break}}catch(r){t?.(r)}finally{n.releaseLock()}}Ao({prefix:"aitxt",size:24});Ao({prefix:"aiobj",size:24});var r5=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,n)=>{this.queue.push(async()=>{try{await e(),t()}catch(r){n(r)}}),this.processQueue()})}};Ao({prefix:"aiobj",size:24});var i5={};LB(i5,{object:()=>o5,text:()=>a5});var a5=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),o5=({schema:e})=>{const t=$B(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:n}){const r=await Nx(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const i=r.state;throw new Error(`Unsupported parse state: ${i}`)}}},async parseOutput({text:n},r){const i=await il({text:n});if(!i.success)throw new wg({message:"No object generated: could not parse the response.",cause:i.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});const s=await np({value:i.value,schema:t});if(!s.success)throw new wg({message:"No object generated: response did not match schema.",cause:s.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return s.value}}},s5=ma({name:ke(),version:ke()}),ip=ma({_meta:cn(tt({}).loose())}),ko=ip,l5=tt({method:ke(),params:cn(ip)}),c5=ma({experimental:cn(tt({}).loose()),logging:cn(tt({}).loose()),prompts:cn(ma({listChanged:cn(on())})),resources:cn(ma({subscribe:cn(on()),listChanged:cn(on())})),tools:cn(ma({listChanged:cn(on())}))});ko.extend({protocolVersion:ke(),capabilities:c5,serverInfo:s5,instructions:cn(ke())});var u5=ko.extend({nextCursor:cn(ke())}),d5=tt({name:ke(),description:cn(ke()),inputSchema:tt({type:De("object"),properties:cn(tt({}).loose())}).loose()}).loose();u5.extend({tools:Yr(d5)});var p5=tt({type:De("text"),text:ke()}).loose(),f5=tt({type:De("image"),data:bx(),mimeType:ke()}).loose(),Px=tt({uri:ke(),mimeType:cn(ke())}).loose(),h5=Px.extend({text:ke()}),m5=Px.extend({blob:bx()}),g5=tt({type:De("resource"),resource:hn([h5,m5])}).loose();ko.extend({content:Yr(hn([p5,f5,g5])),isError:on().default(!1).optional()}).or(ko.extend({toolResult:Dt()}));var El="2.0",v5=tt({jsonrpc:De(El),id:hn([ke(),xo().int()])}).merge(l5).strict(),y5=tt({jsonrpc:De(El),id:hn([ke(),xo().int()]),result:ko}).strict(),b5=tt({jsonrpc:De(El),id:hn([ke(),xo().int()]),error:tt({code:xo().int(),message:ke(),data:cn(Dt())})}).strict(),x5=tt({jsonrpc:De(El)}).merge(tt({method:ke(),params:cn(ip)})).strict();hn([v5,x5,y5,b5]);async function _5(e){if(e==null)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async t=>{const{name:n,type:r}=t,i=await new Promise((s,o)=>{const c=new FileReader;c.onload=u=>{var d;s((d=u.target)==null?void 0:d.result)},c.onerror=u=>o(u),c.readAsDataURL(t)});return{type:"file",mediaType:r,filename:n,url:i}}))}var w5=class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:i,prepareSendMessagesRequest:s,prepareReconnectToStreamRequest:o}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=i,this.prepareSendMessagesRequest=s,this.prepareReconnectToStreamRequest=o}async sendMessages({abortSignal:e,...t}){var n,r,i,s,o;const c=await la(this.body),u=await la(this.headers),d=await la(this.credentials),p=await((n=this.prepareSendMessagesRequest)==null?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...c,...t.body},headers:{...u,...t.headers},credentials:d,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),h=(r=p?.api)!=null?r:this.api,g=p?.headers!==void 0?p.headers:{...u,...t.headers},y=p?.body!==void 0?p.body:{...c,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},v=(i=p?.credentials)!=null?i:d,_=await((s=this.fetch)!=null?s:globalThis.fetch)(h,{method:"POST",headers:{"Content-Type":"application/json",...g},body:JSON.stringify(y),credentials:v,signal:e});if(!_.ok)throw new Error((o=await _.text())!=null?o:"Failed to fetch the chat response.");if(!_.body)throw new Error("The response body is empty.");return this.processResponseStream(_.body)}async reconnectToStream(e){var t,n,r,i,s;const o=await la(this.body),c=await la(this.headers),u=await la(this.credentials),d=await((t=this.prepareReconnectToStreamRequest)==null?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...o,...e.body},headers:{...c,...e.headers},credentials:u,requestMetadata:e.metadata})),p=(n=d?.api)!=null?n:`${this.api}/${e.chatId}/stream`,h=d?.headers!==void 0?d.headers:{...c,...e.headers},g=(r=d?.credentials)!=null?r:u,v=await((i=this.fetch)!=null?i:globalThis.fetch)(p,{method:"GET",headers:h,credentials:g});if(v.status===204)return null;if(!v.ok)throw new Error((s=await v.text())!=null?s:"Failed to fetch the chat response.");if(!v.body)throw new Error("The response body is empty.");return this.processResponseStream(v.body)}},$x=class extends w5{constructor(e={}){super(e)}processResponseStream(e){return q4({stream:e,schema:KB}).pipeThrough(new TransformStream({async transform(t,n){if(!t.success)throw t.error;n.enqueue(t.value)}}))}},k5=class{constructor({generateId:e=M4,id:t=e(),transport:n=new $x,messageMetadataSchema:r,dataPartSchemas:i,state:s,onError:o,onToolCall:c,onFinish:u,onData:d,sendAutomaticallyWhen:p}){this.activeResponse=void 0,this.jobExecutor=new r5,this.sendMessage=async(h,g)=>{var y,v,w,_;if(h==null){await this.makeRequest({trigger:"submit-message",messageId:(y=this.lastMessage)==null?void 0:y.id,...g});return}let k;if("text"in h||"files"in h?k={parts:[...Array.isArray(h.files)?h.files:await _5(h.files),..."text"in h&&h.text!=null?[{type:"text",text:h.text}]:[]]}:k=h,h.messageId!=null){const T=this.state.messages.findIndex(A=>A.id===h.messageId);if(T===-1)throw new Error(`message with id ${h.messageId} not found`);if(this.state.messages[T].role!=="user")throw new Error(`message with id ${h.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,T+1),this.state.replaceMessage(T,{...k,id:h.messageId,role:(v=k.role)!=null?v:"user",metadata:h.metadata})}else this.state.pushMessage({...k,id:(w=k.id)!=null?w:this.generateId(),role:(_=k.role)!=null?_:"user",metadata:h.metadata});await this.makeRequest({trigger:"submit-message",messageId:h.messageId,...g})},this.regenerate=async({messageId:h,...g}={})=>{const y=h==null?this.state.messages.length-1:this.state.messages.findIndex(v=>v.id===h);if(y===-1)throw new Error(`message ${h} not found`);this.state.messages=this.state.messages.slice(0,this.messages[y].role==="assistant"?y:y+1),await this.makeRequest({trigger:"regenerate-message",messageId:h,...g})},this.resumeStream=async(h={})=>{await this.makeRequest({trigger:"resume-stream",...h})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolResult=async({tool:h,toolCallId:g,output:y})=>this.jobExecutor.run(async()=>{var v,w;const _=this.state.messages,k=_[_.length-1];this.state.replaceMessage(_.length-1,{...k,parts:k.parts.map(T=>kg(T)&&T.toolCallId===g?{...T,state:"output-available",output:y}:T)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(T=>kg(T)&&T.toolCallId===g?{...T,state:"output-available",output:y,errorText:void 0}:T)),this.status!=="streaming"&&this.status!=="submitted"&&((v=this.sendAutomaticallyWhen)!=null&&v.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(w=this.lastMessage)==null?void 0:w.id})}),this.stop=async()=>{var h;this.status!=="streaming"&&this.status!=="submitted"||(h=this.activeResponse)!=null&&h.abortController&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=i,this.state=s,this.onError=o,this.onToolCall=c,this.onFinish=u,this.onData=d,this.sendAutomaticallyWhen=p}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:n,body:r,messageId:i}){var s,o,c;this.setStatus({status:"submitted",error:void 0});const u=this.lastMessage;try{const d={state:e5({lastMessage:this.state.snapshot(u),messageId:this.generateId()}),abortController:new AbortController};this.activeResponse=d;let p;if(e==="resume-stream"){const g=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:n,body:r});if(g==null){this.setStatus({status:"ready"});return}p=g}else p=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:d.abortController.signal,metadata:t,headers:n,body:r,trigger:e,messageId:i});const h=g=>this.jobExecutor.run(()=>g({state:d.state,write:()=>{var y;this.setStatus({status:"streaming"}),d.state.message.id===((y=this.lastMessage)==null?void 0:y.id)?this.state.replaceMessage(this.state.messages.length-1,d.state.message):this.state.pushMessage(d.state.message)}}));await n5({stream:t5({stream:p,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:h,onError:g=>{throw g}}),onError:g=>{throw g}}),(s=this.onFinish)==null||s.call(this,{message:d.state.message,messages:this.state.messages}),this.setStatus({status:"ready"})}catch(d){if(d.name==="AbortError")return this.setStatus({status:"ready"}),null;this.onError&&d instanceof Error&&this.onError(d),this.setStatus({status:"error",error:d})}finally{this.activeResponse=void 0}(o=this.sendAutomaticallyWhen)!=null&&o.call(this,{messages:this.state.messages})&&await this.makeRequest({trigger:"submit-message",messageId:(c=this.lastMessage)==null?void 0:c.id,metadata:t,headers:n,body:r})}},C5=tt({type:De("text"),text:ke(),state:Sl(["streaming","done"]).optional(),providerMetadata:wt.optional()}),S5=tt({type:De("reasoning"),text:ke(),state:Sl(["streaming","done"]).optional(),providerMetadata:wt.optional()}),E5=tt({type:De("source-url"),sourceId:ke(),url:ke(),title:ke().optional(),providerMetadata:wt.optional()}),T5=tt({type:De("source-document"),sourceId:ke(),mediaType:ke(),title:ke(),filename:ke().optional(),providerMetadata:wt.optional()}),A5=tt({type:De("file"),mediaType:ke(),filename:ke().optional(),url:ke(),providerMetadata:wt.optional()}),I5=tt({type:De("step-start")}),j5=tt({type:ke().startsWith("data-"),id:ke().optional(),data:Dt()}),R5=[tt({type:De("dynamic-tool"),toolName:ke(),toolCallId:ke(),state:De("input-streaming"),input:Dt().optional(),output:Pn().optional(),errorText:Pn().optional()}),tt({type:De("dynamic-tool"),toolName:ke(),toolCallId:ke(),state:De("input-available"),input:Dt(),output:Pn().optional(),errorText:Pn().optional(),callProviderMetadata:wt.optional()}),tt({type:De("dynamic-tool"),toolName:ke(),toolCallId:ke(),state:De("output-available"),input:Dt(),output:Dt(),errorText:Pn().optional(),callProviderMetadata:wt.optional(),preliminary:on().optional()}),tt({type:De("dynamic-tool"),toolName:ke(),toolCallId:ke(),state:De("output-error"),input:Dt(),output:Pn().optional(),errorText:ke(),callProviderMetadata:wt.optional()})],O5=[tt({type:ke().startsWith("tool-"),toolCallId:ke(),state:De("input-streaming"),input:Dt().optional(),output:Pn().optional(),errorText:Pn().optional()}),tt({type:ke().startsWith("tool-"),toolCallId:ke(),state:De("input-available"),input:Dt(),output:Pn().optional(),errorText:Pn().optional(),callProviderMetadata:wt.optional()}),tt({type:ke().startsWith("tool-"),toolCallId:ke(),state:De("output-available"),input:Dt(),output:Dt(),errorText:Pn().optional(),callProviderMetadata:wt.optional(),preliminary:on().optional()}),tt({type:ke().startsWith("tool-"),toolCallId:ke(),state:De("output-error"),input:Dt(),output:Pn().optional(),errorText:ke(),callProviderMetadata:wt.optional()})];tt({id:ke(),role:Sl(["system","user","assistant"]),metadata:Dt().optional(),parts:Yr(hn([C5,S5,E5,T5,A5,I5,j5,...R5,...O5]))});function z5(e,t){if(typeof e!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let n,r=0;return function(...s){clearTimeout(n);const o=Date.now(),c=o-r,u=t-c;u<=0?(r=o,e.apply(this,s)):n=setTimeout(()=>{r=Date.now(),e.apply(this,s)},u)}}var F5=z5;const M5=gi(F5);var Dx=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},$t=(e,t,n)=>(Dx(e,t,"read from private field"),n?n.call(e):t.get(e)),Er=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ci=(e,t,n,r)=>(Dx(e,t,"write to private field"),t.set(e,n),n);function N5(e,t){return t!=null?M5(e,t):e}var sr,Ps,$s,io,ao,oo,ua,sd,ld,P5=class{constructor(e=[]){Er(this,sr,void 0),Er(this,Ps,"ready"),Er(this,$s,void 0),Er(this,io,new Set),Er(this,ao,new Set),Er(this,oo,new Set),this.pushMessage=t=>{ci(this,sr,$t(this,sr).concat(t)),$t(this,ua).call(this)},this.popMessage=()=>{ci(this,sr,$t(this,sr).slice(0,-1)),$t(this,ua).call(this)},this.replaceMessage=(t,n)=>{ci(this,sr,[...$t(this,sr).slice(0,t),this.snapshot(n),...$t(this,sr).slice(t+1)]),$t(this,ua).call(this)},this.snapshot=t=>structuredClone(t),this["~registerMessagesCallback"]=(t,n)=>{const r=n?N5(t,n):t;return $t(this,io).add(r),()=>{$t(this,io).delete(r)}},this["~registerStatusCallback"]=t=>($t(this,ao).add(t),()=>{$t(this,ao).delete(t)}),this["~registerErrorCallback"]=t=>($t(this,oo).add(t),()=>{$t(this,oo).delete(t)}),Er(this,ua,()=>{$t(this,io).forEach(t=>t())}),Er(this,sd,()=>{$t(this,ao).forEach(t=>t())}),Er(this,ld,()=>{$t(this,oo).forEach(t=>t())}),ci(this,sr,e)}get status(){return $t(this,Ps)}set status(e){ci(this,Ps,e),$t(this,sd).call(this)}get error(){return $t(this,$s)}set error(e){ci(this,$s,e),$t(this,ld).call(this)}get messages(){return $t(this,sr)}set messages(e){ci(this,sr,[...e]),$t(this,ua).call(this)}};sr=new WeakMap;Ps=new WeakMap;$s=new WeakMap;io=new WeakMap;ao=new WeakMap;oo=new WeakMap;ua=new WeakMap;sd=new WeakMap;ld=new WeakMap;var da,Sg=class extends k5{constructor({messages:t,...n}){const r=new P5(t);super({...n,state:r}),Er(this,da,void 0),this["~registerMessagesCallback"]=(i,s)=>$t(this,da)["~registerMessagesCallback"](i,s),this["~registerStatusCallback"]=i=>$t(this,da)["~registerStatusCallback"](i),this["~registerErrorCallback"]=i=>$t(this,da)["~registerErrorCallback"](i),ci(this,da,r)}};da=new WeakMap;function $5({experimental_throttle:e,resume:t=!1,...n}={}){const r=W.useRef("chat"in n?n.chat:new Sg(n));("chat"in n&&n.chat!==r.current||"id"in n&&r.current.id!==n.id)&&(r.current="chat"in n?n.chat:new Sg(n));const s="id"in n?n.id:null,o=W.useCallback(h=>r.current["~registerMessagesCallback"](h,e),[e,s]),c=W.useSyncExternalStore(o,()=>r.current.messages,()=>r.current.messages),u=W.useSyncExternalStore(r.current["~registerStatusCallback"],()=>r.current.status,()=>r.current.status),d=W.useSyncExternalStore(r.current["~registerErrorCallback"],()=>r.current.error,()=>r.current.error),p=W.useCallback(h=>{typeof h=="function"&&(h=h(r.current.messages)),r.current.messages=h},[r]);return W.useEffect(()=>{t&&r.current.resumeStream()},[t,r]),{id:r.current.id,messages:c,setMessages:p,sendMessage:r.current.sendMessage,regenerate:r.current.regenerate,clearError:r.current.clearError,stop:r.current.stop,error:d,resumeStream:r.current.resumeStream,status:u,addToolResult:r.current.addToolResult}}let Wr=null;const ap="strapi-ai-token",Lx=60*1e3,D5=e=>{const t=Date.parse(e);return Number.isFinite(t)?t:null},L5=(e,t=Lx,n=Date.now())=>{const r=D5(e);return r===null||r<=n?"expired":r-t<=n?"stale":"valid"},Eg=(e,t=Lx,n=Date.now())=>L5(e,t,n)==="valid",B5=()=>{Wr=null,sessionStorage.removeItem(ap)},U5=()=>{try{const e=sessionStorage.getItem(ap);return e?JSON.parse(e):null}catch{return null}},Z5=e=>{sessionStorage.setItem(ap,JSON.stringify(e))},al=async()=>{if(Wr&&Eg(Wr.expiresAt))return Wr;const e=U5();if(e&&Eg(e.expiresAt))return Wr=e,Wr;try{const{get:t}=QE(),{data:n}=await t("/admin/ai-token"),r=n?.token||n?.data?.token,i=n?.expiresAt||n?.data?.expiresAt;return r&&i?(Wr={token:r,expiresAt:i},Z5(Wr),Wr):null}catch{return null}},H5=async()=>{try{if(await al())return;await al()}catch{}},Bx=async e=>{try{return await e.json()}catch{try{return{error:await e.text()}}catch{return}}},q5=(e,t,n)=>({Authorization:`Bearer ${e}`,"X-Strapi-Version":t?.strapiVersion||"latest","X-Strapi-User":t?.userId||"unknown","X-Strapi-Project-Id":t?.projectId||"unknown",...n}),W5=(e,t)=>{if(e===401||e===403)return!0;const n=(t?.error||"").toString().toLowerCase();return n.includes("expired")||n.includes("invalid token")},Ux=async(e,t={})=>{const n=await al();if(!n?.token)throw new Error("Could not authorize with AI Server. Please contact your administrator.");const r=async o=>{const c=q5(o,t.ctx,t.headers);return fetch(e,{...t,headers:c})};let i=await r(n.token),s;try{s=await Bx(i.clone())}catch{}if(W5(i.status,s)){B5();const o=await al();o?.token&&o.token!==n.token&&(i=await r(o.token))}return i},V5=e=>async(t,n={})=>Ux(t,{...n,ctx:e}),G5="Too many requests",J5="License limit",K5="AI credit limit exceeded",Y5="Chat too long",Tl=e=>()=>{const t=Kr("useAIFetch",p=>p.strapiVersion),n=Kr("useAIFetch",p=>p.projectId),r=Kr("useAIFetch-user",p=>p.userId),i=eT(void 0,{refetchOnMountOrArgChange:!0}),[s,o]=W.useState(!1),[c,u]=W.useState(null);return{isPending:s,error:c,fetch:async(p={})=>{o(!0),u(null);try{const h=`${ly}${e}`,g=!!p.body&&!p.formData,y=await Ux(h,{method:"POST",headers:g?{"Content-Type":"application/json",...p.headers||{}}:p.headers,body:p.formData?p.formData:g?JSON.stringify(p.body||{}):void 0,ctx:{strapiVersion:t,projectId:n,userId:r}});i.refetch();const v=await Bx(y);if(!y.ok)throw new Error(`Error: ${y.statusText}`);return v}catch(h){return u(h instanceof Error?h.message:`Failed to fetch data from ${e}`),null}finally{o(!1)}}}},X5=Tl("/schemas/chat/generate-title"),Q5=Tl("/schemas/chat/attachment"),e6=Tl("/schemas/chat/feedback"),t6=Tl("/media/upload"),n6=e=>{const t=Kr("useAIChat",s=>s.strapiVersion),n=Kr("useAIFetch",s=>s.projectId),r=Kr("useAIChat-user",s=>s.userId),i=V5({strapiVersion:t,projectId:n,userId:r});return $5({...e,transport:new $x({api:yj,fetch:i})})},r6=({chatId:e,messages:t})=>{const[n,r]=W.useState(void 0),{fetch:i,error:s,isPending:o}=X5(),c=W.useCallback(async()=>{const d=t.at(0);if(!d||n||o||s)return;const p=d.parts.map(g=>g.type==="text"?g.text:"").join(`
`),h=await i({body:{chatId:e,message:p}});h?.data&&r(h.data.title)},[t,n,o,s,i,e]),u=W.useCallback(()=>{r(void 0)},[]);return{title:n,isGenerating:o,error:s,generateTitle:c,resetTitle:u}},i6=1,a6=()=>{if(typeof window>"u")return{uid:null,type:null};const e=window.location.pathname;if(e.includes("/content-types/")){const t=e.split("/content-types/")[1];if(t)return{uid:t,type:"contentType"}}if(e.includes("/component-categories/")){const t=e.split("/component-categories/")[1].split("/");if(t.length>=2)return{uid:t[1],type:"component"}}return{uid:null,type:null}},o6=()=>{const[e,t]=W.useState([]),{components:n,contentTypes:r}=Yn();return W.useEffect(()=>{const o=()=>{const{uid:d,type:p}=a6();if(!d||!p)return;const h={uid:d,type:p,timestamp:Date.now()};t(g=>{const y=g.filter(v=>v.uid!==h.uid);return[h,...y].slice(0,i6)})};o(),window.addEventListener("popstate",o);const u=(()=>{let d=window.location.pathname;const p=setInterval(()=>{const h=window.location.pathname;h!==d&&(d=h,o())},300);return()=>clearInterval(p)})();return()=>{window.removeEventListener("popstate",o),u()}},[]),{lastSeenSchemas:W.useMemo(()=>e.filter(o=>o.type==="contentType"?Object.keys(r).some(c=>c===o.uid):o.type==="component"?Object.keys(n).some(c=>c===o.uid):!1),[e,n,r]),clearHistory:()=>{t([])}}},Tg=e=>e.reduce((t,n)=>{const{name:r,...i}=n;return{...t,[r]:i}},{}),Ag=e=>e.modelType==="component"?{category:e.category,kind:"component",action:"create",modelType:"component",description:e.info.description,name:e.info.displayName,uid:e.uid,attributes:Tg(e.attributes),sources:e.sources}:{kind:e.kind,modelType:e.modelType,description:e.info.description,action:"create",name:e.info.pluralName,uid:e.uid,attributes:Tg(e.attributes),sources:e.sources,options:{draftAndPublish:e.options?.draftAndPublish,localized:!1}},Zx=W.createContext(null),Hx=()=>{const e=W.useContext(Zx);if(!e)throw new Error("useStepModal must be used within a StepModal");return e},Pi=({open:e,onOpenChange:t,title:n,children:r,onComplete:i,onCancel:s})=>{const[o,c]=W.useState(0),[u,d]=W.useState(!1),[p,h]=W.useState(null),g=W.Children.toArray(r).filter(B=>W.isValidElement(B)).map(B=>B.props),y=g.length,v=o===0,w=o===y-1;W.useEffect(()=>{e||(c(0),d(!1),h(null))},[e]);const _=()=>{c(0),d(!1),h(null)},k=()=>{s?.(),_(),t(!1)},T=()=>{c(B=>Math.max(0,B-1)),h(null)},A=async()=>{const B=g[o];if(B.onNext){d(!0),h(null);try{return w?(i?.(),_(),t(!1)):(await B.onNext(),c(U=>U+1)),!0}catch(U){return h(U instanceof Error?U:new Error(String(U))),!1}finally{d(!1)}}else return w?(i?.(),_(),t(!1)):c(U=>U+1),!0},j=B=>{B.preventDefault(),!u&&!g[o]?.disableNext&&A()},P={currentStep:o,goToStep:c,nextStep:A,prevStep:T,isFirstStep:v,isLastStep:w,totalSteps:y,isLoading:u,error:p,setError:h},O=g[o];return m.jsx(Zx.Provider,{value:P,children:e&&m.jsx(fn.Root,{open:!0,onOpenChange:k,children:m.jsxs(fn.Content,{children:[m.jsx(fn.Header,{children:m.jsx(Fe,{variant:"omega",fontWeight:"bold",children:O?.title||n})}),m.jsxs("form",{onSubmit:j,children:[m.jsxs(fn.Body,{children:[W.Children.toArray(r)[o],p&&m.jsx(Me,{marginTop:4,padding:3,background:"danger100",color:"danger600",borderRadius:"4px",children:m.jsx(Fe,{variant:"pi",children:p.message})})]}),m.jsxs(fn.Footer,{children:[v?m.jsx(gt,{variant:"tertiary",onClick:k,type:"button",children:O?.cancelLabel||"Cancel"}):m.jsx(gt,{variant:"tertiary",onClick:T,type:"button",children:O?.backLabel||"Back"}),m.jsx(gt,{variant:"default",type:"submit",disabled:u||O?.disableNext,loading:u,children:O?.nextLabel||(w?"Complete":"Next")})]})]})]})})})},s6=({children:e})=>m.jsx(m.Fragment,{children:e});Pi.Step=s6;const ol=(e=16)=>crypto.randomUUID().slice(0,e);function Io(){const{setAttachments:e,attachments:t,id:n}=hr(),{toggleNotification:r}=Sa(),{fetch:i}=t6(),s=W.useCallback(p=>{p&&e(h=>[...h,...p])},[e]),o=W.useCallback(p=>{e(h=>h.map(g=>g.id===p.id?{...g,...p}:g))},[e]),c=W.useCallback(p=>{e(h=>h.filter(g=>g.id!==p.id))},[e]),u=W.useCallback(async(p,h)=>{const g=t?.length||0,y=Array.from(p).length;let v=p;if(g+y>Qc){r({type:"danger",title:"File limit reached: ",message:`You can only upload up to ${Qc} files`});const w=Qc-g;v=p.slice(0,w)}for(const w of v)w.size>vj&&(r({type:"danger",title:"File too large: ",message:"One of the files is too large (15MB limit)"}),v=v.filter(_=>_!==w));for(const w of v){const _={id:ol(),type:"file",status:"loading",filename:w.name,mediaType:w.type,url:""};e(T=>[...T,_]);const k=new FormData;k.append("file",w),k.append("fileInfo",JSON.stringify({name:w.name,chatId:n})),i({formData:k}).then(T=>{const A=T?.data;if(!T||T.error){r({type:"danger",title:"Failed to upload file: ",message:T?.error||"Unknown error",timeout:5e3}),c(_);return}o({id:_.id,url:A?.url||"",status:"ready"})}).catch(()=>c(_))}h&&r({title:"Files attached",message:h})},[t,e,r,n,i,c,o]),d=W.useCallback(p=>{t&&e(t.filter((h,g)=>g!==p))},[e,t]);return{attachments:t,attachFiles:u,addAttachments:s,removeAttachment:c,removeAttachmentByIndex:d}}var qx={exports:{}};(function(e,t){var n={};/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(r){e.exports=r()})(function(){return function r(i,s,o){function c(p,h){if(!s[p]){if(!i[p]){var g=typeof _s=="function"&&_s;if(!h&&g)return g(p,!0);if(u)return u(p,!0);var y=new Error("Cannot find module '"+p+"'");throw y.code="MODULE_NOT_FOUND",y}var v=s[p]={exports:{}};i[p][0].call(v.exports,function(w){var _=i[p][1][w];return c(_||w)},v,v.exports,r,i,s,o)}return s[p].exports}for(var u=typeof _s=="function"&&_s,d=0;d<o.length;d++)c(o[d]);return c}({1:[function(r,i,s){var o=r("./utils"),c=r("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(d){for(var p,h,g,y,v,w,_,k=[],T=0,A=d.length,j=A,P=o.getTypeOf(d)!=="string";T<d.length;)j=A-T,g=P?(p=d[T++],h=T<A?d[T++]:0,T<A?d[T++]:0):(p=d.charCodeAt(T++),h=T<A?d.charCodeAt(T++):0,T<A?d.charCodeAt(T++):0),y=p>>2,v=(3&p)<<4|h>>4,w=1<j?(15&h)<<2|g>>6:64,_=2<j?63&g:64,k.push(u.charAt(y)+u.charAt(v)+u.charAt(w)+u.charAt(_));return k.join("")},s.decode=function(d){var p,h,g,y,v,w,_=0,k=0,T="data:";if(d.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var A,j=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&j--,d.charAt(d.length-2)===u.charAt(64)&&j--,j%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=c.uint8array?new Uint8Array(0|j):new Array(0|j);_<d.length;)p=u.indexOf(d.charAt(_++))<<2|(y=u.indexOf(d.charAt(_++)))>>4,h=(15&y)<<4|(v=u.indexOf(d.charAt(_++)))>>2,g=(3&v)<<6|(w=u.indexOf(d.charAt(_++))),A[k++]=p,v!==64&&(A[k++]=h),w!==64&&(A[k++]=g);return A}},{"./support":30,"./utils":32}],2:[function(r,i,s){var o=r("./external"),c=r("./stream/DataWorker"),u=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function p(h,g,y,v,w){this.compressedSize=h,this.uncompressedSize=g,this.crc32=y,this.compression=v,this.compressedContent=w}p.prototype={getContentWorker:function(){var h=new c(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),g=this;return h.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new c(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(h,g,y){return h.pipe(new u).pipe(new d("uncompressedSize")).pipe(g.compressWorker(y)).pipe(new d("compressedSize")).withStreamInfo("compression",g)},i.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,i,s){var o=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,i,s){var o=r("./utils"),c=function(){for(var u,d=[],p=0;p<256;p++){u=p;for(var h=0;h<8;h++)u=1&u?3988292384^u>>>1:u>>>1;d[p]=u}return d}();i.exports=function(u,d){return u!==void 0&&u.length?o.getTypeOf(u)!=="string"?function(p,h,g,y){var v=c,w=y+g;p^=-1;for(var _=y;_<w;_++)p=p>>>8^v[255&(p^h[_])];return-1^p}(0|d,u,u.length,0):function(p,h,g,y){var v=c,w=y+g;p^=-1;for(var _=y;_<w;_++)p=p>>>8^v[255&(p^h.charCodeAt(_))];return-1^p}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(r,i,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,i,s){var o=null;o=typeof Promise<"u"?Promise:r("lie"),i.exports={Promise:o}},{lie:37}],7:[function(r,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=r("pako"),u=r("./utils"),d=r("./stream/GenericWorker"),p=o?"uint8array":"array";function h(g,y){d.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=y,this.meta={}}s.magic="\b\0",u.inherits(h,d),h.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,g.data),!1)},h.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(y){g.push({data:y,meta:g.meta})}},s.compressWorker=function(g){return new h("Deflate",g)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,i,s){function o(v,w){var _,k="";for(_=0;_<w;_++)k+=String.fromCharCode(255&v),v>>>=8;return k}function c(v,w,_,k,T,A){var j,P,O=v.file,B=v.compression,U=A!==p.utf8encode,Y=u.transformTo("string",A(O.name)),X=u.transformTo("string",p.utf8encode(O.name)),q=O.comment,se=u.transformTo("string",A(q)),R=u.transformTo("string",p.utf8encode(q)),G=X.length!==O.name.length,x=R.length!==q.length,L="",Ce="",le="",de=O.dir,N=O.date,Te={crc32:0,compressedSize:0,uncompressedSize:0};w&&!_||(Te.crc32=v.crc32,Te.compressedSize=v.compressedSize,Te.uncompressedSize=v.uncompressedSize);var oe=0;w&&(oe|=8),U||!G&&!x||(oe|=2048);var z=0,Oe=0;de&&(z|=16),T==="UNIX"?(Oe=798,z|=function(ce,et){var Ue=ce;return ce||(Ue=et?16893:33204),(65535&Ue)<<16}(O.unixPermissions,de)):(Oe=20,z|=function(ce){return 63&(ce||0)}(O.dosPermissions)),j=N.getUTCHours(),j<<=6,j|=N.getUTCMinutes(),j<<=5,j|=N.getUTCSeconds()/2,P=N.getUTCFullYear()-1980,P<<=4,P|=N.getUTCMonth()+1,P<<=5,P|=N.getUTCDate(),G&&(Ce=o(1,1)+o(h(Y),4)+X,L+="up"+o(Ce.length,2)+Ce),x&&(le=o(1,1)+o(h(se),4)+R,L+="uc"+o(le.length,2)+le);var ue="";return ue+=`
\0`,ue+=o(oe,2),ue+=B.magic,ue+=o(j,2),ue+=o(P,2),ue+=o(Te.crc32,4),ue+=o(Te.compressedSize,4),ue+=o(Te.uncompressedSize,4),ue+=o(Y.length,2),ue+=o(L.length,2),{fileRecord:g.LOCAL_FILE_HEADER+ue+Y+L,dirRecord:g.CENTRAL_FILE_HEADER+o(Oe,2)+ue+o(se.length,2)+"\0\0\0\0"+o(z,4)+o(k,4)+Y+L+se}}var u=r("../utils"),d=r("../stream/GenericWorker"),p=r("../utf8"),h=r("../crc32"),g=r("../signature");function y(v,w,_,k){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=_,this.encodeFileName=k,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(y,d),y.prototype.push=function(v){var w=v.meta.percent||0,_=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,d.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:_?(w+100*(_-k-1))/_:100}}))},y.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var w=this.streamFiles&&!v.file.dir;if(w){var _=c(v,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(v){this.accumulate=!1;var w=this.streamFiles&&!v.file.dir,_=c(v,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),w)this.push({data:function(k){return g.DATA_DESCRIPTOR+o(k.crc32,4)+o(k.compressedSize,4)+o(k.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var v=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var _=this.bytesWritten-v,k=function(T,A,j,P,O){var B=u.transformTo("string",O(P));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(T,2)+o(T,2)+o(A,4)+o(j,4)+o(B.length,2)+B}(this.dirRecords.length,_,v,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(v){this._sources.push(v);var w=this;return v.on("data",function(_){w.processChunk(_)}),v.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),v.on("error",function(_){w.error(_)}),this},y.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(v){var w=this._sources;if(!d.prototype.error.call(this,v))return!1;for(var _=0;_<w.length;_++)try{w[_].error(v)}catch{}return!0},y.prototype.lock=function(){d.prototype.lock.call(this);for(var v=this._sources,w=0;w<v.length;w++)v[w].lock()},i.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,i,s){var o=r("../compressions"),c=r("./ZipFileWorker");s.generateWorker=function(u,d,p){var h=new c(d.streamFiles,p,d.platform,d.encodeFileName),g=0;try{u.forEach(function(y,v){g++;var w=function(A,j){var P=A||j,O=o[P];if(!O)throw new Error(P+" is not a valid compression method !");return O}(v.options.compression,d.compression),_=v.options.compressionOptions||d.compressionOptions||{},k=v.dir,T=v.date;v._compressWorker(w,_).withStreamInfo("file",{name:y,dir:k,date:T,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(h)}),h.entriesCount=g}catch(y){h.error(y)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,i,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new o;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(c,u){return new o().loadAsync(c,u)},o.external=r("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,i,s){var o=r("./utils"),c=r("./external"),u=r("./utf8"),d=r("./zipEntries"),p=r("./stream/Crc32Probe"),h=r("./nodejsUtils");function g(y){return new c.Promise(function(v,w){var _=y.decompressed.getContentWorker().pipe(new p);_.on("error",function(k){w(k)}).on("end",function(){_.streamInfo.crc32!==y.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}i.exports=function(y,v){var w=this;return v=o.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),h.isNode&&h.isStream(y)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",y,!0,v.optimizedBinaryString,v.base64).then(function(_){var k=new d(v);return k.load(_),k}).then(function(_){var k=[c.Promise.resolve(_)],T=_.files;if(v.checkCRC32)for(var A=0;A<T.length;A++)k.push(g(T[A]));return c.Promise.all(k)}).then(function(_){for(var k=_.shift(),T=k.files,A=0;A<T.length;A++){var j=T[A],P=j.fileNameStr,O=o.resolve(j.fileNameStr);w.file(O,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:v.createFolders}),j.dir||(w.file(O).unsafeOriginalName=P)}return k.zipComment.length&&(w.comment=k.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,i,s){var o=r("../utils"),c=r("../stream/GenericWorker");function u(d,p){c.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}o.inherits(u,c),u.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(h){p.push({data:h,meta:{percent:0}})}).on("error",function(h){p.isPaused?this.generatedError=h:p.error(h)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,i,s){var o=r("readable-stream").Readable;function c(u,d,p){o.call(this,d),this._helper=u;var h=this;u.on("data",function(g,y){h.push(g)||h._helper.pause(),p&&p(y)}).on("error",function(g){h.emit("error",g)}).on("end",function(){h.push(null)})}r("../utils").inherits(c,o),c.prototype._read=function(){this._helper.resume()},i.exports=c},{"../utils":32,"readable-stream":16}],14:[function(r,i,s){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,c);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,c)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var c=new Buffer(o);return c.fill(0),c},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,i,s){function o(O,B,U){var Y,X=u.getTypeOf(B),q=u.extend(U||{},h);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(O=T(O)),q.createFolders&&(Y=k(O))&&A.call(this,Y,!0);var se=X==="string"&&q.binary===!1&&q.base64===!1;U&&U.binary!==void 0||(q.binary=!se),(B instanceof g&&B.uncompressedSize===0||q.dir||!B||B.length===0)&&(q.base64=!1,q.binary=!0,B="",q.compression="STORE",X="string");var R=null;R=B instanceof g||B instanceof d?B:w.isNode&&w.isStream(B)?new _(O,B):u.prepareContent(O,B,q.binary,q.optimizedBinaryString,q.base64);var G=new y(O,R,q);this.files[O]=G}var c=r("./utf8"),u=r("./utils"),d=r("./stream/GenericWorker"),p=r("./stream/StreamHelper"),h=r("./defaults"),g=r("./compressedObject"),y=r("./zipObject"),v=r("./generate"),w=r("./nodejsUtils"),_=r("./nodejs/NodejsStreamInputAdapter"),k=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var B=O.lastIndexOf("/");return 0<B?O.substring(0,B):""},T=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},A=function(O,B){return B=B!==void 0?B:h.createFolders,O=T(O),this.files[O]||o.call(this,O,null,{dir:!0,createFolders:B}),this.files[O]};function j(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var B,U,Y;for(B in this.files)Y=this.files[B],(U=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&O(U,Y)},filter:function(O){var B=[];return this.forEach(function(U,Y){O(U,Y)&&B.push(Y)}),B},file:function(O,B,U){if(arguments.length!==1)return O=this.root+O,o.call(this,O,B,U),this;if(j(O)){var Y=O;return this.filter(function(q,se){return!se.dir&&Y.test(q)})}var X=this.files[this.root+O];return X&&!X.dir?X:null},folder:function(O){if(!O)return this;if(j(O))return this.filter(function(X,q){return q.dir&&O.test(X)});var B=this.root+O,U=A.call(this,B),Y=this.clone();return Y.root=U.name,Y},remove:function(O){O=this.root+O;var B=this.files[O];if(B||(O.slice(-1)!=="/"&&(O+="/"),B=this.files[O]),B&&!B.dir)delete this.files[O];else for(var U=this.filter(function(X,q){return q.name.slice(0,O.length)===O}),Y=0;Y<U.length;Y++)delete this.files[U[Y].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var B,U={};try{if((U=u.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");u.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var Y=U.comment||this.comment||"";B=v.generateWorker(this,U,Y)}catch(X){(B=new d("error")).error(X)}return new p(B,U.type||"string",U.mimeType)},generateAsync:function(O,B){return this.generateInternalStream(O).accumulate(B)},generateNodeStream:function(O,B){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(B)}};i.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,i,s){i.exports=r("stream")},{stream:void 0}],17:[function(r,i,s){var o=r("./DataReader");function c(u){o.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}r("../utils").inherits(c,o),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),p=u.charCodeAt(1),h=u.charCodeAt(2),g=u.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===d&&this.data[y+1]===p&&this.data[y+2]===h&&this.data[y+3]===g)return y-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),p=u.charCodeAt(1),h=u.charCodeAt(2),g=u.charCodeAt(3),y=this.readData(4);return d===y[0]&&p===y[1]&&h===y[2]&&g===y[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},i.exports=c},{"../utils":32,"./DataReader":18}],18:[function(r,i,s){var o=r("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,p=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=u,p},readString:function(u){return o.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},i.exports=c},{"../utils":32}],19:[function(r,i,s){var o=r("./Uint8ArrayReader");function c(u){o.call(this,u)}r("../utils").inherits(c,o),c.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},i.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,i,s){var o=r("./DataReader");function c(u){o.call(this,u)}r("../utils").inherits(c,o),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},i.exports=c},{"../utils":32,"./DataReader":18}],21:[function(r,i,s){var o=r("./ArrayReader");function c(u){o.call(this,u)}r("../utils").inherits(c,o),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},i.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(r,i,s){var o=r("../utils"),c=r("../support"),u=r("./ArrayReader"),d=r("./StringReader"),p=r("./NodeBufferReader"),h=r("./Uint8ArrayReader");i.exports=function(g){var y=o.getTypeOf(g);return o.checkSupport(y),y!=="string"||c.uint8array?y==="nodebuffer"?new p(g):c.uint8array?new h(o.transformTo("uint8array",g)):new u(o.transformTo("array",g)):new d(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,i,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,i,s){var o=r("./GenericWorker"),c=r("../utils");function u(d){o.call(this,"ConvertWorker to "+d),this.destType=d}c.inherits(u,o),u.prototype.processChunk=function(d){this.push({data:c.transformTo(this.destType,d.data),meta:d.meta})},i.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(r,i,s){var o=r("./GenericWorker"),c=r("../crc32");function u(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(u,o),u.prototype.processChunk=function(d){this.streamInfo.crc32=c(d.data,this.streamInfo.crc32||0),this.push(d)},i.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,i,s){var o=r("../utils"),c=r("./GenericWorker");function u(d){c.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}o.inherits(u,c),u.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}c.prototype.processChunk.call(this,d)},i.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(r,i,s){var o=r("../utils"),c=r("./GenericWorker");function u(d){c.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(h){p.dataIsReady=!0,p.data=h,p.max=h&&h.length||0,p.type=o.getTypeOf(h),p.isPaused||p._tickAndRepeat()},function(h){p.error(h)})}o.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(r,i,s){function o(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var d=0;d<this._listeners[c].length;d++)this._listeners[c][d].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(d){u.processChunk(d)}),c.on("end",function(){u.end()}),c.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},i.exports=o},{}],29:[function(r,i,s){var o=r("../utils"),c=r("./ConvertWorker"),u=r("./GenericWorker"),d=r("../base64"),p=r("../support"),h=r("../external"),g=null;if(p.nodestream)try{g=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(w,_){return new h.Promise(function(k,T){var A=[],j=w._internalType,P=w._outputType,O=w._mimeType;w.on("data",function(B,U){A.push(B),_&&_(U)}).on("error",function(B){A=[],T(B)}).on("end",function(){try{var B=function(U,Y,X){switch(U){case"blob":return o.newBlob(o.transformTo("arraybuffer",Y),X);case"base64":return d.encode(Y);default:return o.transformTo(U,Y)}}(P,function(U,Y){var X,q=0,se=null,R=0;for(X=0;X<Y.length;X++)R+=Y[X].length;switch(U){case"string":return Y.join("");case"array":return Array.prototype.concat.apply([],Y);case"uint8array":for(se=new Uint8Array(R),X=0;X<Y.length;X++)se.set(Y[X],q),q+=Y[X].length;return se;case"nodebuffer":return Buffer.concat(Y);default:throw new Error("concat : unsupported type '"+U+"'")}}(j,A),O);k(B)}catch(U){T(U)}A=[]}).resume()})}function v(w,_,k){var T=_;switch(_){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=_,this._mimeType=k,o.checkSupport(T),this._worker=w.pipe(new c(T)),w.lock()}catch(A){this._worker=new u("error"),this._worker.error(A)}}v.prototype={accumulate:function(w){return y(this,w)},on:function(w,_){var k=this;return w==="data"?this._worker.on(w,function(T){_.call(k,T.data,T.meta)}):this._worker.on(w,function(){o.delay(_,arguments,k)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},w)}},i.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,i,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(o),s.blob=c.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,i,s){for(var o=r("./utils"),c=r("./support"),u=r("./nodejsUtils"),d=r("./stream/GenericWorker"),p=new Array(256),h=0;h<256;h++)p[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;p[254]=p[254]=1;function g(){d.call(this,"utf-8 decode"),this.leftOver=null}function y(){d.call(this,"utf-8 encode")}s.utf8encode=function(v){return c.nodebuffer?u.newBufferFrom(v,"utf-8"):function(w){var _,k,T,A,j,P=w.length,O=0;for(A=0;A<P;A++)(64512&(k=w.charCodeAt(A)))==55296&&A+1<P&&(64512&(T=w.charCodeAt(A+1)))==56320&&(k=65536+(k-55296<<10)+(T-56320),A++),O+=k<128?1:k<2048?2:k<65536?3:4;for(_=c.uint8array?new Uint8Array(O):new Array(O),A=j=0;j<O;A++)(64512&(k=w.charCodeAt(A)))==55296&&A+1<P&&(64512&(T=w.charCodeAt(A+1)))==56320&&(k=65536+(k-55296<<10)+(T-56320),A++),k<128?_[j++]=k:(k<2048?_[j++]=192|k>>>6:(k<65536?_[j++]=224|k>>>12:(_[j++]=240|k>>>18,_[j++]=128|k>>>12&63),_[j++]=128|k>>>6&63),_[j++]=128|63&k);return _}(v)},s.utf8decode=function(v){return c.nodebuffer?o.transformTo("nodebuffer",v).toString("utf-8"):function(w){var _,k,T,A,j=w.length,P=new Array(2*j);for(_=k=0;_<j;)if((T=w[_++])<128)P[k++]=T;else if(4<(A=p[T]))P[k++]=65533,_+=A-1;else{for(T&=A===2?31:A===3?15:7;1<A&&_<j;)T=T<<6|63&w[_++],A--;1<A?P[k++]=65533:T<65536?P[k++]=T:(T-=65536,P[k++]=55296|T>>10&1023,P[k++]=56320|1023&T)}return P.length!==k&&(P.subarray?P=P.subarray(0,k):P.length=k),o.applyFromCharCode(P)}(v=o.transformTo(c.uint8array?"uint8array":"array",v))},o.inherits(g,d),g.prototype.processChunk=function(v){var w=o.transformTo(c.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var _=w;(w=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),w.set(_,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var k=function(A,j){var P;for((j=j||A.length)>A.length&&(j=A.length),P=j-1;0<=P&&(192&A[P])==128;)P--;return P<0||P===0?j:P+p[A[P]]>j?P:j}(w),T=w;k!==w.length&&(c.uint8array?(T=w.subarray(0,k),this.leftOver=w.subarray(k,w.length)):(T=w.slice(0,k),this.leftOver=w.slice(k,w.length))),this.push({data:s.utf8decode(T),meta:v.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=g,o.inherits(y,d),y.prototype.processChunk=function(v){this.push({data:s.utf8encode(v.data),meta:v.meta})},s.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,i,s){var o=r("./support"),c=r("./base64"),u=r("./nodejsUtils"),d=r("./external");function p(_){return _}function h(_,k){for(var T=0;T<_.length;++T)k[T]=255&_.charCodeAt(T);return k}r("setimmediate"),s.newBlob=function(_,k){s.checkSupport("blob");try{return new Blob([_],{type:k})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(_),T.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(_,k,T){var A=[],j=0,P=_.length;if(P<=T)return String.fromCharCode.apply(null,_);for(;j<P;)k==="array"||k==="nodebuffer"?A.push(String.fromCharCode.apply(null,_.slice(j,Math.min(j+T,P)))):A.push(String.fromCharCode.apply(null,_.subarray(j,Math.min(j+T,P)))),j+=T;return A.join("")},stringifyByChar:function(_){for(var k="",T=0;T<_.length;T++)k+=String.fromCharCode(_[T]);return k},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function y(_){var k=65536,T=s.getTypeOf(_),A=!0;if(T==="uint8array"?A=g.applyCanBeUsed.uint8array:T==="nodebuffer"&&(A=g.applyCanBeUsed.nodebuffer),A)for(;1<k;)try{return g.stringifyByChunk(_,T,k)}catch{k=Math.floor(k/2)}return g.stringifyByChar(_)}function v(_,k){for(var T=0;T<_.length;T++)k[T]=_[T];return k}s.applyFromCharCode=y;var w={};w.string={string:p,array:function(_){return h(_,new Array(_.length))},arraybuffer:function(_){return w.string.uint8array(_).buffer},uint8array:function(_){return h(_,new Uint8Array(_.length))},nodebuffer:function(_){return h(_,u.allocBuffer(_.length))}},w.array={string:y,array:p,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return u.newBufferFrom(_)}},w.arraybuffer={string:function(_){return y(new Uint8Array(_))},array:function(_){return v(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:p,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return u.newBufferFrom(new Uint8Array(_))}},w.uint8array={string:y,array:function(_){return v(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:p,nodebuffer:function(_){return u.newBufferFrom(_)}},w.nodebuffer={string:y,array:function(_){return v(_,new Array(_.length))},arraybuffer:function(_){return w.nodebuffer.uint8array(_).buffer},uint8array:function(_){return v(_,new Uint8Array(_.length))},nodebuffer:p},s.transformTo=function(_,k){if(k=k||"",!_)return k;s.checkSupport(_);var T=s.getTypeOf(k);return w[T][_](k)},s.resolve=function(_){for(var k=_.split("/"),T=[],A=0;A<k.length;A++){var j=k[A];j==="."||j===""&&A!==0&&A!==k.length-1||(j===".."?T.pop():T.push(j))}return T.join("/")},s.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":o.nodebuffer&&u.isBuffer(_)?"nodebuffer":o.uint8array&&_ instanceof Uint8Array?"uint8array":o.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(_){if(!o[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(_){var k,T,A="";for(T=0;T<(_||"").length;T++)A+="\\x"+((k=_.charCodeAt(T))<16?"0":"")+k.toString(16).toUpperCase();return A},s.delay=function(_,k,T){setImmediate(function(){_.apply(T||null,k||[])})},s.inherits=function(_,k){function T(){}T.prototype=k.prototype,_.prototype=new T},s.extend=function(){var _,k,T={};for(_=0;_<arguments.length;_++)for(k in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],k)&&T[k]===void 0&&(T[k]=arguments[_][k]);return T},s.prepareContent=function(_,k,T,A,j){return d.Promise.resolve(k).then(function(P){return o.blob&&(P instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(P))!==-1)&&typeof FileReader<"u"?new d.Promise(function(O,B){var U=new FileReader;U.onload=function(Y){O(Y.target.result)},U.onerror=function(Y){B(Y.target.error)},U.readAsArrayBuffer(P)}):P}).then(function(P){var O=s.getTypeOf(P);return O?(O==="arraybuffer"?P=s.transformTo("uint8array",P):O==="string"&&(j?P=c.decode(P):T&&A!==!0&&(P=function(B){return h(B,o.uint8array?new Uint8Array(B.length):new Array(B.length))}(P))),P):d.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,i,s){var o=r("./reader/readerFor"),c=r("./utils"),u=r("./signature"),d=r("./zipEntry"),p=r("./support");function h(g){this.files=[],this.loadOptions=g}h.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(y)+", expected "+c.pretty(g)+")")}},isSignature:function(g,y){var v=this.reader.index;this.reader.setIndex(g);var w=this.reader.readString(4)===y;return this.reader.setIndex(v),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),y=p.uint8array?"uint8array":"array",v=c.transformTo(y,g);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,y,v,w=this.zip64EndOfCentralSize-44;0<w;)g=this.reader.readInt(2),y=this.reader.readInt(4),v=this.reader.readData(y),this.zip64ExtensibleData[g]={id:g,length:y,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,y;for(g=0;g<this.files.length;g++)y=this.files[g],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(g=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var y=g;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var w=y-v;if(0<w)this.isSignature(y,u.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(g){this.reader=o(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,i,s){var o=r("./reader/readerFor"),c=r("./utils"),u=r("./compressedObject"),d=r("./crc32"),p=r("./utf8"),h=r("./compressions"),g=r("./support");function y(v,w){this.options=v,this.loadOptions=w}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var w,_;if(v.skip(22),this.fileNameLength=v.readInt(2),_=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(k){for(var T in h)if(Object.prototype.hasOwnProperty.call(h,T)&&h[T].magic===k)return h[T];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,w,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var w=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(w),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=o(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var w,_,k,T=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<T;)w=v.readInt(2),_=v.readInt(2),k=v.readData(_),this.extraFields[w]={id:w,length:_,value:k};v.setIndex(T)},handleUTF8:function(){var v=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var _=c.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var T=c.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var w=o(v.value);return w.readInt(1)!==1||d(this.fileName)!==w.readInt(4)?null:p.utf8decode(w.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var w=o(v.value);return w.readInt(1)!==1||d(this.fileComment)!==w.readInt(4)?null:p.utf8decode(w.readData(v.length-5))}return null}},i.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,i,s){function o(w,_,k){this.name=w,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=_,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var c=r("./stream/StreamHelper"),u=r("./stream/DataWorker"),d=r("./utf8"),p=r("./compressedObject"),h=r("./stream/GenericWorker");o.prototype={internalStream:function(w){var _=null,k="string";try{if(!w)throw new Error("No output type specified.");var T=(k=w.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),_=this._decompressWorker();var A=!this._dataBinary;A&&!T&&(_=_.pipe(new d.Utf8EncodeWorker)),!A&&T&&(_=_.pipe(new d.Utf8DecodeWorker))}catch(j){(_=new h("error")).error(j)}return new c(_,k,"")},async:function(w,_){return this.internalStream(w).accumulate(_)},nodeStream:function(w,_){return this.internalStream(w||"nodebuffer").toNodejsStream(_)},_compressWorker:function(w,_){if(this._data instanceof p&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(k,w,_)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof h?this._data:new u(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<g.length;v++)o.prototype[g[v]]=y;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,i,s){(function(o){var c,u,d=o.MutationObserver||o.WebKitMutationObserver;if(d){var p=0,h=new d(w),g=o.document.createTextNode("");h.observe(g,{characterData:!0}),c=function(){g.data=p=++p%2}}else if(o.setImmediate||o.MessageChannel===void 0)c="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var _=o.document.createElement("script");_.onreadystatechange=function(){w(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},o.document.documentElement.appendChild(_)}:function(){setTimeout(w,0)};else{var y=new o.MessageChannel;y.port1.onmessage=w,c=function(){y.port2.postMessage(0)}}var v=[];function w(){var _,k;u=!0;for(var T=v.length;T;){for(k=v,v=[],_=-1;++_<T;)k[_]();T=v.length}u=!1}i.exports=function(_){v.push(_)!==1||u||c()}}).call(this,typeof Vn<"u"?Vn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,i,s){var o=r("immediate");function c(){}var u={},d=["REJECTED"],p=["FULFILLED"],h=["PENDING"];function g(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,T!==c&&_(this,T)}function y(T,A,j){this.promise=T,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}function v(T,A,j){o(function(){var P;try{P=A(j)}catch(O){return u.reject(T,O)}P===T?u.reject(T,new TypeError("Cannot resolve promise with itself")):u.resolve(T,P)})}function w(T){var A=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof A=="function")return function(){A.apply(T,arguments)}}function _(T,A){var j=!1;function P(U){j||(j=!0,u.reject(T,U))}function O(U){j||(j=!0,u.resolve(T,U))}var B=k(function(){A(O,P)});B.status==="error"&&P(B.value)}function k(T,A){var j={};try{j.value=T(A),j.status="success"}catch(P){j.status="error",j.value=P}return j}(i.exports=g).prototype.finally=function(T){if(typeof T!="function")return this;var A=this.constructor;return this.then(function(j){return A.resolve(T()).then(function(){return j})},function(j){return A.resolve(T()).then(function(){throw j})})},g.prototype.catch=function(T){return this.then(null,T)},g.prototype.then=function(T,A){if(typeof T!="function"&&this.state===p||typeof A!="function"&&this.state===d)return this;var j=new this.constructor(c);return this.state!==h?v(j,this.state===p?T:A,this.outcome):this.queue.push(new y(j,T,A)),j},y.prototype.callFulfilled=function(T){u.resolve(this.promise,T)},y.prototype.otherCallFulfilled=function(T){v(this.promise,this.onFulfilled,T)},y.prototype.callRejected=function(T){u.reject(this.promise,T)},y.prototype.otherCallRejected=function(T){v(this.promise,this.onRejected,T)},u.resolve=function(T,A){var j=k(w,A);if(j.status==="error")return u.reject(T,j.value);var P=j.value;if(P)_(T,P);else{T.state=p,T.outcome=A;for(var O=-1,B=T.queue.length;++O<B;)T.queue[O].callFulfilled(A)}return T},u.reject=function(T,A){T.state=d,T.outcome=A;for(var j=-1,P=T.queue.length;++j<P;)T.queue[j].callRejected(A);return T},g.resolve=function(T){return T instanceof this?T:u.resolve(new this(c),T)},g.reject=function(T){var A=new this(c);return u.reject(A,T)},g.all=function(T){var A=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=T.length,P=!1;if(!j)return this.resolve([]);for(var O=new Array(j),B=0,U=-1,Y=new this(c);++U<j;)X(T[U],U);return Y;function X(q,se){A.resolve(q).then(function(R){O[se]=R,++B!==j||P||(P=!0,u.resolve(Y,O))},function(R){P||(P=!0,u.reject(Y,R))})}},g.race=function(T){var A=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=T.length,P=!1;if(!j)return this.resolve([]);for(var O=-1,B=new this(c);++O<j;)U=T[O],A.resolve(U).then(function(Y){P||(P=!0,u.resolve(B,Y))},function(Y){P||(P=!0,u.reject(B,Y))});var U;return B}},{immediate:36}],38:[function(r,i,s){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,i,s){var o=r("./zlib/deflate"),c=r("./utils/common"),u=r("./utils/strings"),d=r("./zlib/messages"),p=r("./zlib/zstream"),h=Object.prototype.toString,g=0,y=-1,v=0,w=8;function _(T){if(!(this instanceof _))return new _(T);this.options=c.assign({level:y,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},T||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var j=o.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(j!==g)throw new Error(d[j]);if(A.header&&o.deflateSetHeader(this.strm,A.header),A.dictionary){var P;if(P=typeof A.dictionary=="string"?u.string2buf(A.dictionary):h.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(j=o.deflateSetDictionary(this.strm,P))!==g)throw new Error(d[j]);this._dict_set=!0}}function k(T,A){var j=new _(A);if(j.push(T,!0),j.err)throw j.msg||d[j.err];return j.result}_.prototype.push=function(T,A){var j,P,O=this.strm,B=this.options.chunkSize;if(this.ended)return!1;P=A===~~A?A:A===!0?4:0,typeof T=="string"?O.input=u.string2buf(T):h.call(T)==="[object ArrayBuffer]"?O.input=new Uint8Array(T):O.input=T,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new c.Buf8(B),O.next_out=0,O.avail_out=B),(j=o.deflate(O,P))!==1&&j!==g)return this.onEnd(j),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||P!==4&&P!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(O.output,O.next_out))):this.onData(c.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&j!==1);return P===4?(j=o.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===g):P!==2||(this.onEnd(g),!(O.avail_out=0))},_.prototype.onData=function(T){this.chunks.push(T)},_.prototype.onEnd=function(T){T===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},s.Deflate=_,s.deflate=k,s.deflateRaw=function(T,A){return(A=A||{}).raw=!0,k(T,A)},s.gzip=function(T,A){return(A=A||{}).gzip=!0,k(T,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,i,s){var o=r("./zlib/inflate"),c=r("./utils/common"),u=r("./utils/strings"),d=r("./zlib/constants"),p=r("./zlib/messages"),h=r("./zlib/zstream"),g=r("./zlib/gzheader"),y=Object.prototype.toString;function v(_){if(!(this instanceof v))return new v(_);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},_||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||_&&_.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var T=o.inflateInit2(this.strm,k.windowBits);if(T!==d.Z_OK)throw new Error(p[T]);this.header=new g,o.inflateGetHeader(this.strm,this.header)}function w(_,k){var T=new v(k);if(T.push(_,!0),T.err)throw T.msg||p[T.err];return T.result}v.prototype.push=function(_,k){var T,A,j,P,O,B,U=this.strm,Y=this.options.chunkSize,X=this.options.dictionary,q=!1;if(this.ended)return!1;A=k===~~k?k:k===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof _=="string"?U.input=u.binstring2buf(_):y.call(_)==="[object ArrayBuffer]"?U.input=new Uint8Array(_):U.input=_,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new c.Buf8(Y),U.next_out=0,U.avail_out=Y),(T=o.inflate(U,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&X&&(B=typeof X=="string"?u.string2buf(X):y.call(X)==="[object ArrayBuffer]"?new Uint8Array(X):X,T=o.inflateSetDictionary(this.strm,B)),T===d.Z_BUF_ERROR&&q===!0&&(T=d.Z_OK,q=!1),T!==d.Z_STREAM_END&&T!==d.Z_OK)return this.onEnd(T),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&T!==d.Z_STREAM_END&&(U.avail_in!==0||A!==d.Z_FINISH&&A!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(j=u.utf8border(U.output,U.next_out),P=U.next_out-j,O=u.buf2string(U.output,j),U.next_out=P,U.avail_out=Y-P,P&&c.arraySet(U.output,U.output,j,P,0),this.onData(O)):this.onData(c.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(q=!0)}while((0<U.avail_in||U.avail_out===0)&&T!==d.Z_STREAM_END);return T===d.Z_STREAM_END&&(A=d.Z_FINISH),A===d.Z_FINISH?(T=o.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===d.Z_OK):A!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(U.avail_out=0))},v.prototype.onData=function(_){this.chunks.push(_)},v.prototype.onEnd=function(_){_===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},s.Inflate=v,s.inflate=w,s.inflateRaw=function(_,k){return(k=k||{}).raw=!0,w(_,k)},s.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var h=p.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var g in h)h.hasOwnProperty(g)&&(d[g]=h[g])}}return d},s.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var c={arraySet:function(d,p,h,g,y){if(p.subarray&&d.subarray)d.set(p.subarray(h,h+g),y);else for(var v=0;v<g;v++)d[y+v]=p[h+v]},flattenChunks:function(d){var p,h,g,y,v,w;for(p=g=0,h=d.length;p<h;p++)g+=d[p].length;for(w=new Uint8Array(g),p=y=0,h=d.length;p<h;p++)v=d[p],w.set(v,y),y+=v.length;return w}},u={arraySet:function(d,p,h,g,y){for(var v=0;v<g;v++)d[y+v]=p[h+v]},flattenChunks:function(d){return[].concat.apply([],d)}};s.setTyped=function(d){d?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,c)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,u))},s.setTyped(o)},{}],42:[function(r,i,s){var o=r("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new o.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function h(g,y){if(y<65537&&(g.subarray&&u||!g.subarray&&c))return String.fromCharCode.apply(null,o.shrinkBuf(g,y));for(var v="",w=0;w<y;w++)v+=String.fromCharCode(g[w]);return v}d[254]=d[254]=1,s.string2buf=function(g){var y,v,w,_,k,T=g.length,A=0;for(_=0;_<T;_++)(64512&(v=g.charCodeAt(_)))==55296&&_+1<T&&(64512&(w=g.charCodeAt(_+1)))==56320&&(v=65536+(v-55296<<10)+(w-56320),_++),A+=v<128?1:v<2048?2:v<65536?3:4;for(y=new o.Buf8(A),_=k=0;k<A;_++)(64512&(v=g.charCodeAt(_)))==55296&&_+1<T&&(64512&(w=g.charCodeAt(_+1)))==56320&&(v=65536+(v-55296<<10)+(w-56320),_++),v<128?y[k++]=v:(v<2048?y[k++]=192|v>>>6:(v<65536?y[k++]=224|v>>>12:(y[k++]=240|v>>>18,y[k++]=128|v>>>12&63),y[k++]=128|v>>>6&63),y[k++]=128|63&v);return y},s.buf2binstring=function(g){return h(g,g.length)},s.binstring2buf=function(g){for(var y=new o.Buf8(g.length),v=0,w=y.length;v<w;v++)y[v]=g.charCodeAt(v);return y},s.buf2string=function(g,y){var v,w,_,k,T=y||g.length,A=new Array(2*T);for(v=w=0;v<T;)if((_=g[v++])<128)A[w++]=_;else if(4<(k=d[_]))A[w++]=65533,v+=k-1;else{for(_&=k===2?31:k===3?15:7;1<k&&v<T;)_=_<<6|63&g[v++],k--;1<k?A[w++]=65533:_<65536?A[w++]=_:(_-=65536,A[w++]=55296|_>>10&1023,A[w++]=56320|1023&_)}return h(A,w)},s.utf8border=function(g,y){var v;for((y=y||g.length)>g.length&&(y=g.length),v=y-1;0<=v&&(192&g[v])==128;)v--;return v<0||v===0?y:v+d[g[v]]>y?v:y}},{"./common":41}],43:[function(r,i,s){i.exports=function(o,c,u,d){for(var p=65535&o|0,h=o>>>16&65535|0,g=0;u!==0;){for(u-=g=2e3<u?2e3:u;h=h+(p=p+c[d++]|0)|0,--g;);p%=65521,h%=65521}return p|h<<16|0}},{}],44:[function(r,i,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,i,s){var o=function(){for(var c,u=[],d=0;d<256;d++){c=d;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;u[d]=c}return u}();i.exports=function(c,u,d,p){var h=o,g=p+d;c^=-1;for(var y=p;y<g;y++)c=c>>>8^h[255&(c^u[y])];return-1^c}},{}],46:[function(r,i,s){var o,c=r("../utils/common"),u=r("./trees"),d=r("./adler32"),p=r("./crc32"),h=r("./messages"),g=0,y=4,v=0,w=-2,_=-1,k=4,T=2,A=8,j=9,P=286,O=30,B=19,U=2*P+1,Y=15,X=3,q=258,se=q+X+1,R=42,G=113,x=1,L=2,Ce=3,le=4;function de(S,pe){return S.msg=h[pe],pe}function N(S){return(S<<1)-(4<S?9:0)}function Te(S){for(var pe=S.length;0<=--pe;)S[pe]=0}function oe(S){var pe=S.state,V=pe.pending;V>S.avail_out&&(V=S.avail_out),V!==0&&(c.arraySet(S.output,pe.pending_buf,pe.pending_out,V,S.next_out),S.next_out+=V,pe.pending_out+=V,S.total_out+=V,S.avail_out-=V,pe.pending-=V,pe.pending===0&&(pe.pending_out=0))}function z(S,pe){u._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,pe),S.block_start=S.strstart,oe(S.strm)}function Oe(S,pe){S.pending_buf[S.pending++]=pe}function ue(S,pe){S.pending_buf[S.pending++]=pe>>>8&255,S.pending_buf[S.pending++]=255&pe}function ce(S,pe){var V,D,C=S.max_chain_length,ee=S.strstart,xe=S.prev_length,we=S.nice_match,re=S.strstart>S.w_size-se?S.strstart-(S.w_size-se):0,ae=S.window,me=S.w_mask,Z=S.prev,J=S.strstart+q,be=ae[ee+xe-1],je=ae[ee+xe];S.prev_length>=S.good_match&&(C>>=2),we>S.lookahead&&(we=S.lookahead);do if(ae[(V=pe)+xe]===je&&ae[V+xe-1]===be&&ae[V]===ae[ee]&&ae[++V]===ae[ee+1]){ee+=2,V++;do;while(ae[++ee]===ae[++V]&&ae[++ee]===ae[++V]&&ae[++ee]===ae[++V]&&ae[++ee]===ae[++V]&&ae[++ee]===ae[++V]&&ae[++ee]===ae[++V]&&ae[++ee]===ae[++V]&&ae[++ee]===ae[++V]&&ee<J);if(D=q-(J-ee),ee=J-q,xe<D){if(S.match_start=pe,we<=(xe=D))break;be=ae[ee+xe-1],je=ae[ee+xe]}}while((pe=Z[pe&me])>re&&--C!=0);return xe<=S.lookahead?xe:S.lookahead}function et(S){var pe,V,D,C,ee,xe,we,re,ae,me,Z=S.w_size;do{if(C=S.window_size-S.lookahead-S.strstart,S.strstart>=Z+(Z-se)){for(c.arraySet(S.window,S.window,Z,Z,0),S.match_start-=Z,S.strstart-=Z,S.block_start-=Z,pe=V=S.hash_size;D=S.head[--pe],S.head[pe]=Z<=D?D-Z:0,--V;);for(pe=V=Z;D=S.prev[--pe],S.prev[pe]=Z<=D?D-Z:0,--V;);C+=Z}if(S.strm.avail_in===0)break;if(xe=S.strm,we=S.window,re=S.strstart+S.lookahead,ae=C,me=void 0,me=xe.avail_in,ae<me&&(me=ae),V=me===0?0:(xe.avail_in-=me,c.arraySet(we,xe.input,xe.next_in,me,re),xe.state.wrap===1?xe.adler=d(xe.adler,we,me,re):xe.state.wrap===2&&(xe.adler=p(xe.adler,we,me,re)),xe.next_in+=me,xe.total_in+=me,me),S.lookahead+=V,S.lookahead+S.insert>=X)for(ee=S.strstart-S.insert,S.ins_h=S.window[ee],S.ins_h=(S.ins_h<<S.hash_shift^S.window[ee+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[ee+X-1])&S.hash_mask,S.prev[ee&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=ee,ee++,S.insert--,!(S.lookahead+S.insert<X)););}while(S.lookahead<se&&S.strm.avail_in!==0)}function Ue(S,pe){for(var V,D;;){if(S.lookahead<se){if(et(S),S.lookahead<se&&pe===g)return x;if(S.lookahead===0)break}if(V=0,S.lookahead>=X&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+X-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),V!==0&&S.strstart-V<=S.w_size-se&&(S.match_length=ce(S,V)),S.match_length>=X)if(D=u._tr_tally(S,S.strstart-S.match_start,S.match_length-X),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=X){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+X-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else D=u._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(D&&(z(S,!1),S.strm.avail_out===0))return x}return S.insert=S.strstart<X-1?S.strstart:X-1,pe===y?(z(S,!0),S.strm.avail_out===0?Ce:le):S.last_lit&&(z(S,!1),S.strm.avail_out===0)?x:L}function fe(S,pe){for(var V,D,C;;){if(S.lookahead<se){if(et(S),S.lookahead<se&&pe===g)return x;if(S.lookahead===0)break}if(V=0,S.lookahead>=X&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+X-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=X-1,V!==0&&S.prev_length<S.max_lazy_match&&S.strstart-V<=S.w_size-se&&(S.match_length=ce(S,V),S.match_length<=5&&(S.strategy===1||S.match_length===X&&4096<S.strstart-S.match_start)&&(S.match_length=X-1)),S.prev_length>=X&&S.match_length<=S.prev_length){for(C=S.strstart+S.lookahead-X,D=u._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-X),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=C&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+X-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=X-1,S.strstart++,D&&(z(S,!1),S.strm.avail_out===0))return x}else if(S.match_available){if((D=u._tr_tally(S,0,S.window[S.strstart-1]))&&z(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return x}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(D=u._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<X-1?S.strstart:X-1,pe===y?(z(S,!0),S.strm.avail_out===0?Ce:le):S.last_lit&&(z(S,!1),S.strm.avail_out===0)?x:L}function ze(S,pe,V,D,C){this.good_length=S,this.max_lazy=pe,this.nice_length=V,this.max_chain=D,this.func=C}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*U),this.dyn_dtree=new c.Buf16(2*(2*O+1)),this.bl_tree=new c.Buf16(2*(2*B+1)),Te(this.dyn_ltree),Te(this.dyn_dtree),Te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(Y+1),this.heap=new c.Buf16(2*P+1),Te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*P+1),Te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Re(S){var pe;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=T,(pe=S.state).pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?R:G,S.adler=pe.wrap===2?0:1,pe.last_flush=g,u._tr_init(pe),v):de(S,w)}function Ye(S){var pe=Re(S);return pe===v&&function(V){V.window_size=2*V.w_size,Te(V.head),V.max_lazy_match=o[V.level].max_lazy,V.good_match=o[V.level].good_length,V.nice_match=o[V.level].nice_length,V.max_chain_length=o[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=X-1,V.match_available=0,V.ins_h=0}(S.state),pe}function Xe(S,pe,V,D,C,ee){if(!S)return w;var xe=1;if(pe===_&&(pe=6),D<0?(xe=0,D=-D):15<D&&(xe=2,D-=16),C<1||j<C||V!==A||D<8||15<D||pe<0||9<pe||ee<0||k<ee)return de(S,w);D===8&&(D=9);var we=new ye;return(S.state=we).strm=S,we.wrap=xe,we.gzhead=null,we.w_bits=D,we.w_size=1<<we.w_bits,we.w_mask=we.w_size-1,we.hash_bits=C+7,we.hash_size=1<<we.hash_bits,we.hash_mask=we.hash_size-1,we.hash_shift=~~((we.hash_bits+X-1)/X),we.window=new c.Buf8(2*we.w_size),we.head=new c.Buf16(we.hash_size),we.prev=new c.Buf16(we.w_size),we.lit_bufsize=1<<C+6,we.pending_buf_size=4*we.lit_bufsize,we.pending_buf=new c.Buf8(we.pending_buf_size),we.d_buf=1*we.lit_bufsize,we.l_buf=3*we.lit_bufsize,we.level=pe,we.strategy=ee,we.method=V,Ye(S)}o=[new ze(0,0,0,0,function(S,pe){var V=65535;for(V>S.pending_buf_size-5&&(V=S.pending_buf_size-5);;){if(S.lookahead<=1){if(et(S),S.lookahead===0&&pe===g)return x;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var D=S.block_start+V;if((S.strstart===0||S.strstart>=D)&&(S.lookahead=S.strstart-D,S.strstart=D,z(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-se&&(z(S,!1),S.strm.avail_out===0))return x}return S.insert=0,pe===y?(z(S,!0),S.strm.avail_out===0?Ce:le):(S.strstart>S.block_start&&(z(S,!1),S.strm.avail_out),x)}),new ze(4,4,8,4,Ue),new ze(4,5,16,8,Ue),new ze(4,6,32,32,Ue),new ze(4,4,16,16,fe),new ze(8,16,32,32,fe),new ze(8,16,128,128,fe),new ze(8,32,128,256,fe),new ze(32,128,258,1024,fe),new ze(32,258,258,4096,fe)],s.deflateInit=function(S,pe){return Xe(S,pe,A,15,8,0)},s.deflateInit2=Xe,s.deflateReset=Ye,s.deflateResetKeep=Re,s.deflateSetHeader=function(S,pe){return S&&S.state?S.state.wrap!==2?w:(S.state.gzhead=pe,v):w},s.deflate=function(S,pe){var V,D,C,ee;if(!S||!S.state||5<pe||pe<0)return S?de(S,w):w;if(D=S.state,!S.output||!S.input&&S.avail_in!==0||D.status===666&&pe!==y)return de(S,S.avail_out===0?-5:w);if(D.strm=S,V=D.last_flush,D.last_flush=pe,D.status===R)if(D.wrap===2)S.adler=0,Oe(D,31),Oe(D,139),Oe(D,8),D.gzhead?(Oe(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),Oe(D,255&D.gzhead.time),Oe(D,D.gzhead.time>>8&255),Oe(D,D.gzhead.time>>16&255),Oe(D,D.gzhead.time>>24&255),Oe(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),Oe(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(Oe(D,255&D.gzhead.extra.length),Oe(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(S.adler=p(S.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(Oe(D,0),Oe(D,0),Oe(D,0),Oe(D,0),Oe(D,0),Oe(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),Oe(D,3),D.status=G);else{var xe=A+(D.w_bits-8<<4)<<8;xe|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(xe|=32),xe+=31-xe%31,D.status=G,ue(D,xe),D.strstart!==0&&(ue(D,S.adler>>>16),ue(D,65535&S.adler)),S.adler=1}if(D.status===69)if(D.gzhead.extra){for(C=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),oe(S),C=D.pending,D.pending!==D.pending_buf_size));)Oe(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){C=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),oe(S),C=D.pending,D.pending===D.pending_buf_size)){ee=1;break}ee=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,Oe(D,ee)}while(ee!==0);D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),ee===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){C=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),oe(S),C=D.pending,D.pending===D.pending_buf_size)){ee=1;break}ee=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,Oe(D,ee)}while(ee!==0);D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),ee===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&oe(S),D.pending+2<=D.pending_buf_size&&(Oe(D,255&S.adler),Oe(D,S.adler>>8&255),S.adler=0,D.status=G)):D.status=G),D.pending!==0){if(oe(S),S.avail_out===0)return D.last_flush=-1,v}else if(S.avail_in===0&&N(pe)<=N(V)&&pe!==y)return de(S,-5);if(D.status===666&&S.avail_in!==0)return de(S,-5);if(S.avail_in!==0||D.lookahead!==0||pe!==g&&D.status!==666){var we=D.strategy===2?function(re,ae){for(var me;;){if(re.lookahead===0&&(et(re),re.lookahead===0)){if(ae===g)return x;break}if(re.match_length=0,me=u._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,me&&(z(re,!1),re.strm.avail_out===0))return x}return re.insert=0,ae===y?(z(re,!0),re.strm.avail_out===0?Ce:le):re.last_lit&&(z(re,!1),re.strm.avail_out===0)?x:L}(D,pe):D.strategy===3?function(re,ae){for(var me,Z,J,be,je=re.window;;){if(re.lookahead<=q){if(et(re),re.lookahead<=q&&ae===g)return x;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=X&&0<re.strstart&&(Z=je[J=re.strstart-1])===je[++J]&&Z===je[++J]&&Z===je[++J]){be=re.strstart+q;do;while(Z===je[++J]&&Z===je[++J]&&Z===je[++J]&&Z===je[++J]&&Z===je[++J]&&Z===je[++J]&&Z===je[++J]&&Z===je[++J]&&J<be);re.match_length=q-(be-J),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=X?(me=u._tr_tally(re,1,re.match_length-X),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(me=u._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),me&&(z(re,!1),re.strm.avail_out===0))return x}return re.insert=0,ae===y?(z(re,!0),re.strm.avail_out===0?Ce:le):re.last_lit&&(z(re,!1),re.strm.avail_out===0)?x:L}(D,pe):o[D.level].func(D,pe);if(we!==Ce&&we!==le||(D.status=666),we===x||we===Ce)return S.avail_out===0&&(D.last_flush=-1),v;if(we===L&&(pe===1?u._tr_align(D):pe!==5&&(u._tr_stored_block(D,0,0,!1),pe===3&&(Te(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),oe(S),S.avail_out===0))return D.last_flush=-1,v}return pe!==y?v:D.wrap<=0?1:(D.wrap===2?(Oe(D,255&S.adler),Oe(D,S.adler>>8&255),Oe(D,S.adler>>16&255),Oe(D,S.adler>>24&255),Oe(D,255&S.total_in),Oe(D,S.total_in>>8&255),Oe(D,S.total_in>>16&255),Oe(D,S.total_in>>24&255)):(ue(D,S.adler>>>16),ue(D,65535&S.adler)),oe(S),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?v:1)},s.deflateEnd=function(S){var pe;return S&&S.state?(pe=S.state.status)!==R&&pe!==69&&pe!==73&&pe!==91&&pe!==103&&pe!==G&&pe!==666?de(S,w):(S.state=null,pe===G?de(S,-3):v):w},s.deflateSetDictionary=function(S,pe){var V,D,C,ee,xe,we,re,ae,me=pe.length;if(!S||!S.state||(ee=(V=S.state).wrap)===2||ee===1&&V.status!==R||V.lookahead)return w;for(ee===1&&(S.adler=d(S.adler,pe,me,0)),V.wrap=0,me>=V.w_size&&(ee===0&&(Te(V.head),V.strstart=0,V.block_start=0,V.insert=0),ae=new c.Buf8(V.w_size),c.arraySet(ae,pe,me-V.w_size,V.w_size,0),pe=ae,me=V.w_size),xe=S.avail_in,we=S.next_in,re=S.input,S.avail_in=me,S.next_in=0,S.input=pe,et(V);V.lookahead>=X;){for(D=V.strstart,C=V.lookahead-(X-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[D+X-1])&V.hash_mask,V.prev[D&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=D,D++,--C;);V.strstart=D,V.lookahead=X-1,et(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=X-1,V.match_available=0,S.next_in=we,S.input=re,S.avail_in=xe,V.wrap=ee,v},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,i,s){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,i,s){i.exports=function(o,c){var u,d,p,h,g,y,v,w,_,k,T,A,j,P,O,B,U,Y,X,q,se,R,G,x,L;u=o.state,d=o.next_in,x=o.input,p=d+(o.avail_in-5),h=o.next_out,L=o.output,g=h-(c-o.avail_out),y=h+(o.avail_out-257),v=u.dmax,w=u.wsize,_=u.whave,k=u.wnext,T=u.window,A=u.hold,j=u.bits,P=u.lencode,O=u.distcode,B=(1<<u.lenbits)-1,U=(1<<u.distbits)-1;e:do{j<15&&(A+=x[d++]<<j,j+=8,A+=x[d++]<<j,j+=8),Y=P[A&B];t:for(;;){if(A>>>=X=Y>>>24,j-=X,(X=Y>>>16&255)===0)L[h++]=65535&Y;else{if(!(16&X)){if(!(64&X)){Y=P[(65535&Y)+(A&(1<<X)-1)];continue t}if(32&X){u.mode=12;break e}o.msg="invalid literal/length code",u.mode=30;break e}q=65535&Y,(X&=15)&&(j<X&&(A+=x[d++]<<j,j+=8),q+=A&(1<<X)-1,A>>>=X,j-=X),j<15&&(A+=x[d++]<<j,j+=8,A+=x[d++]<<j,j+=8),Y=O[A&U];n:for(;;){if(A>>>=X=Y>>>24,j-=X,!(16&(X=Y>>>16&255))){if(!(64&X)){Y=O[(65535&Y)+(A&(1<<X)-1)];continue n}o.msg="invalid distance code",u.mode=30;break e}if(se=65535&Y,j<(X&=15)&&(A+=x[d++]<<j,(j+=8)<X&&(A+=x[d++]<<j,j+=8)),v<(se+=A&(1<<X)-1)){o.msg="invalid distance too far back",u.mode=30;break e}if(A>>>=X,j-=X,(X=h-g)<se){if(_<(X=se-X)&&u.sane){o.msg="invalid distance too far back",u.mode=30;break e}if(G=T,(R=0)===k){if(R+=w-X,X<q){for(q-=X;L[h++]=T[R++],--X;);R=h-se,G=L}}else if(k<X){if(R+=w+k-X,(X-=k)<q){for(q-=X;L[h++]=T[R++],--X;);if(R=0,k<q){for(q-=X=k;L[h++]=T[R++],--X;);R=h-se,G=L}}}else if(R+=k-X,X<q){for(q-=X;L[h++]=T[R++],--X;);R=h-se,G=L}for(;2<q;)L[h++]=G[R++],L[h++]=G[R++],L[h++]=G[R++],q-=3;q&&(L[h++]=G[R++],1<q&&(L[h++]=G[R++]))}else{for(R=h-se;L[h++]=L[R++],L[h++]=L[R++],L[h++]=L[R++],2<(q-=3););q&&(L[h++]=L[R++],1<q&&(L[h++]=L[R++]))}break}}break}}while(d<p&&h<y);d-=q=j>>3,A&=(1<<(j-=q<<3))-1,o.next_in=d,o.next_out=h,o.avail_in=d<p?p-d+5:5-(d-p),o.avail_out=h<y?y-h+257:257-(h-y),u.hold=A,u.bits=j}},{}],49:[function(r,i,s){var o=r("../utils/common"),c=r("./adler32"),u=r("./crc32"),d=r("./inffast"),p=r("./inftrees"),h=1,g=2,y=0,v=-2,w=1,_=852,k=592;function T(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(R){var G;return R&&R.state?(G=R.state,R.total_in=R.total_out=G.total=0,R.msg="",G.wrap&&(R.adler=1&G.wrap),G.mode=w,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new o.Buf32(_),G.distcode=G.distdyn=new o.Buf32(k),G.sane=1,G.back=-1,y):v}function P(R){var G;return R&&R.state?((G=R.state).wsize=0,G.whave=0,G.wnext=0,j(R)):v}function O(R,G){var x,L;return R&&R.state?(L=R.state,G<0?(x=0,G=-G):(x=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?v:(L.window!==null&&L.wbits!==G&&(L.window=null),L.wrap=x,L.wbits=G,P(R))):v}function B(R,G){var x,L;return R?(L=new A,(R.state=L).window=null,(x=O(R,G))!==y&&(R.state=null),x):v}var U,Y,X=!0;function q(R){if(X){var G;for(U=new o.Buf32(512),Y=new o.Buf32(32),G=0;G<144;)R.lens[G++]=8;for(;G<256;)R.lens[G++]=9;for(;G<280;)R.lens[G++]=7;for(;G<288;)R.lens[G++]=8;for(p(h,R.lens,0,288,U,0,R.work,{bits:9}),G=0;G<32;)R.lens[G++]=5;p(g,R.lens,0,32,Y,0,R.work,{bits:5}),X=!1}R.lencode=U,R.lenbits=9,R.distcode=Y,R.distbits=5}function se(R,G,x,L){var Ce,le=R.state;return le.window===null&&(le.wsize=1<<le.wbits,le.wnext=0,le.whave=0,le.window=new o.Buf8(le.wsize)),L>=le.wsize?(o.arraySet(le.window,G,x-le.wsize,le.wsize,0),le.wnext=0,le.whave=le.wsize):(L<(Ce=le.wsize-le.wnext)&&(Ce=L),o.arraySet(le.window,G,x-L,Ce,le.wnext),(L-=Ce)?(o.arraySet(le.window,G,x-L,L,0),le.wnext=L,le.whave=le.wsize):(le.wnext+=Ce,le.wnext===le.wsize&&(le.wnext=0),le.whave<le.wsize&&(le.whave+=Ce))),0}s.inflateReset=P,s.inflateReset2=O,s.inflateResetKeep=j,s.inflateInit=function(R){return B(R,15)},s.inflateInit2=B,s.inflate=function(R,G){var x,L,Ce,le,de,N,Te,oe,z,Oe,ue,ce,et,Ue,fe,ze,ye,Re,Ye,Xe,S,pe,V,D,C=0,ee=new o.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return v;(x=R.state).mode===12&&(x.mode=13),de=R.next_out,Ce=R.output,Te=R.avail_out,le=R.next_in,L=R.input,N=R.avail_in,oe=x.hold,z=x.bits,Oe=N,ue=Te,pe=y;e:for(;;)switch(x.mode){case w:if(x.wrap===0){x.mode=13;break}for(;z<16;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}if(2&x.wrap&&oe===35615){ee[x.check=0]=255&oe,ee[1]=oe>>>8&255,x.check=u(x.check,ee,2,0),z=oe=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&oe)<<8)+(oe>>8))%31){R.msg="incorrect header check",x.mode=30;break}if((15&oe)!=8){R.msg="unknown compression method",x.mode=30;break}if(z-=4,S=8+(15&(oe>>>=4)),x.wbits===0)x.wbits=S;else if(S>x.wbits){R.msg="invalid window size",x.mode=30;break}x.dmax=1<<S,R.adler=x.check=1,x.mode=512&oe?10:12,z=oe=0;break;case 2:for(;z<16;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}if(x.flags=oe,(255&x.flags)!=8){R.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){R.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=oe>>8&1),512&x.flags&&(ee[0]=255&oe,ee[1]=oe>>>8&255,x.check=u(x.check,ee,2,0)),z=oe=0,x.mode=3;case 3:for(;z<32;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}x.head&&(x.head.time=oe),512&x.flags&&(ee[0]=255&oe,ee[1]=oe>>>8&255,ee[2]=oe>>>16&255,ee[3]=oe>>>24&255,x.check=u(x.check,ee,4,0)),z=oe=0,x.mode=4;case 4:for(;z<16;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}x.head&&(x.head.xflags=255&oe,x.head.os=oe>>8),512&x.flags&&(ee[0]=255&oe,ee[1]=oe>>>8&255,x.check=u(x.check,ee,2,0)),z=oe=0,x.mode=5;case 5:if(1024&x.flags){for(;z<16;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}x.length=oe,x.head&&(x.head.extra_len=oe),512&x.flags&&(ee[0]=255&oe,ee[1]=oe>>>8&255,x.check=u(x.check,ee,2,0)),z=oe=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(N<(ce=x.length)&&(ce=N),ce&&(x.head&&(S=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),o.arraySet(x.head.extra,L,le,ce,S)),512&x.flags&&(x.check=u(x.check,L,ce,le)),N-=ce,le+=ce,x.length-=ce),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(N===0)break e;for(ce=0;S=L[le+ce++],x.head&&S&&x.length<65536&&(x.head.name+=String.fromCharCode(S)),S&&ce<N;);if(512&x.flags&&(x.check=u(x.check,L,ce,le)),N-=ce,le+=ce,S)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(N===0)break e;for(ce=0;S=L[le+ce++],x.head&&S&&x.length<65536&&(x.head.comment+=String.fromCharCode(S)),S&&ce<N;);if(512&x.flags&&(x.check=u(x.check,L,ce,le)),N-=ce,le+=ce,S)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;z<16;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}if(oe!==(65535&x.check)){R.msg="header crc mismatch",x.mode=30;break}z=oe=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),R.adler=x.check=0,x.mode=12;break;case 10:for(;z<32;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}R.adler=x.check=T(oe),z=oe=0,x.mode=11;case 11:if(x.havedict===0)return R.next_out=de,R.avail_out=Te,R.next_in=le,R.avail_in=N,x.hold=oe,x.bits=z,2;R.adler=x.check=1,x.mode=12;case 12:if(G===5||G===6)break e;case 13:if(x.last){oe>>>=7&z,z-=7&z,x.mode=27;break}for(;z<3;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}switch(x.last=1&oe,z-=1,3&(oe>>>=1)){case 0:x.mode=14;break;case 1:if(q(x),x.mode=20,G!==6)break;oe>>>=2,z-=2;break e;case 2:x.mode=17;break;case 3:R.msg="invalid block type",x.mode=30}oe>>>=2,z-=2;break;case 14:for(oe>>>=7&z,z-=7&z;z<32;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}if((65535&oe)!=(oe>>>16^65535)){R.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&oe,z=oe=0,x.mode=15,G===6)break e;case 15:x.mode=16;case 16:if(ce=x.length){if(N<ce&&(ce=N),Te<ce&&(ce=Te),ce===0)break e;o.arraySet(Ce,L,le,ce,de),N-=ce,le+=ce,Te-=ce,de+=ce,x.length-=ce;break}x.mode=12;break;case 17:for(;z<14;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}if(x.nlen=257+(31&oe),oe>>>=5,z-=5,x.ndist=1+(31&oe),oe>>>=5,z-=5,x.ncode=4+(15&oe),oe>>>=4,z-=4,286<x.nlen||30<x.ndist){R.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;z<3;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}x.lens[xe[x.have++]]=7&oe,oe>>>=3,z-=3}for(;x.have<19;)x.lens[xe[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,V={bits:x.lenbits},pe=p(0,x.lens,0,19,x.lencode,0,x.work,V),x.lenbits=V.bits,pe){R.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;ze=(C=x.lencode[oe&(1<<x.lenbits)-1])>>>16&255,ye=65535&C,!((fe=C>>>24)<=z);){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}if(ye<16)oe>>>=fe,z-=fe,x.lens[x.have++]=ye;else{if(ye===16){for(D=fe+2;z<D;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}if(oe>>>=fe,z-=fe,x.have===0){R.msg="invalid bit length repeat",x.mode=30;break}S=x.lens[x.have-1],ce=3+(3&oe),oe>>>=2,z-=2}else if(ye===17){for(D=fe+3;z<D;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}z-=fe,S=0,ce=3+(7&(oe>>>=fe)),oe>>>=3,z-=3}else{for(D=fe+7;z<D;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}z-=fe,S=0,ce=11+(127&(oe>>>=fe)),oe>>>=7,z-=7}if(x.have+ce>x.nlen+x.ndist){R.msg="invalid bit length repeat",x.mode=30;break}for(;ce--;)x.lens[x.have++]=S}}if(x.mode===30)break;if(x.lens[256]===0){R.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,V={bits:x.lenbits},pe=p(h,x.lens,0,x.nlen,x.lencode,0,x.work,V),x.lenbits=V.bits,pe){R.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,V={bits:x.distbits},pe=p(g,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,V),x.distbits=V.bits,pe){R.msg="invalid distances set",x.mode=30;break}if(x.mode=20,G===6)break e;case 20:x.mode=21;case 21:if(6<=N&&258<=Te){R.next_out=de,R.avail_out=Te,R.next_in=le,R.avail_in=N,x.hold=oe,x.bits=z,d(R,ue),de=R.next_out,Ce=R.output,Te=R.avail_out,le=R.next_in,L=R.input,N=R.avail_in,oe=x.hold,z=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;ze=(C=x.lencode[oe&(1<<x.lenbits)-1])>>>16&255,ye=65535&C,!((fe=C>>>24)<=z);){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}if(ze&&!(240&ze)){for(Re=fe,Ye=ze,Xe=ye;ze=(C=x.lencode[Xe+((oe&(1<<Re+Ye)-1)>>Re)])>>>16&255,ye=65535&C,!(Re+(fe=C>>>24)<=z);){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}oe>>>=Re,z-=Re,x.back+=Re}if(oe>>>=fe,z-=fe,x.back+=fe,x.length=ye,ze===0){x.mode=26;break}if(32&ze){x.back=-1,x.mode=12;break}if(64&ze){R.msg="invalid literal/length code",x.mode=30;break}x.extra=15&ze,x.mode=22;case 22:if(x.extra){for(D=x.extra;z<D;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}x.length+=oe&(1<<x.extra)-1,oe>>>=x.extra,z-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;ze=(C=x.distcode[oe&(1<<x.distbits)-1])>>>16&255,ye=65535&C,!((fe=C>>>24)<=z);){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}if(!(240&ze)){for(Re=fe,Ye=ze,Xe=ye;ze=(C=x.distcode[Xe+((oe&(1<<Re+Ye)-1)>>Re)])>>>16&255,ye=65535&C,!(Re+(fe=C>>>24)<=z);){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}oe>>>=Re,z-=Re,x.back+=Re}if(oe>>>=fe,z-=fe,x.back+=fe,64&ze){R.msg="invalid distance code",x.mode=30;break}x.offset=ye,x.extra=15&ze,x.mode=24;case 24:if(x.extra){for(D=x.extra;z<D;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}x.offset+=oe&(1<<x.extra)-1,oe>>>=x.extra,z-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){R.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(Te===0)break e;if(ce=ue-Te,x.offset>ce){if((ce=x.offset-ce)>x.whave&&x.sane){R.msg="invalid distance too far back",x.mode=30;break}et=ce>x.wnext?(ce-=x.wnext,x.wsize-ce):x.wnext-ce,ce>x.length&&(ce=x.length),Ue=x.window}else Ue=Ce,et=de-x.offset,ce=x.length;for(Te<ce&&(ce=Te),Te-=ce,x.length-=ce;Ce[de++]=Ue[et++],--ce;);x.length===0&&(x.mode=21);break;case 26:if(Te===0)break e;Ce[de++]=x.length,Te--,x.mode=21;break;case 27:if(x.wrap){for(;z<32;){if(N===0)break e;N--,oe|=L[le++]<<z,z+=8}if(ue-=Te,R.total_out+=ue,x.total+=ue,ue&&(R.adler=x.check=x.flags?u(x.check,Ce,ue,de-ue):c(x.check,Ce,ue,de-ue)),ue=Te,(x.flags?oe:T(oe))!==x.check){R.msg="incorrect data check",x.mode=30;break}z=oe=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;z<32;){if(N===0)break e;N--,oe+=L[le++]<<z,z+=8}if(oe!==(4294967295&x.total)){R.msg="incorrect length check",x.mode=30;break}z=oe=0}x.mode=29;case 29:pe=1;break e;case 30:pe=-3;break e;case 31:return-4;case 32:default:return v}return R.next_out=de,R.avail_out=Te,R.next_in=le,R.avail_in=N,x.hold=oe,x.bits=z,(x.wsize||ue!==R.avail_out&&x.mode<30&&(x.mode<27||G!==4))&&se(R,R.output,R.next_out,ue-R.avail_out)?(x.mode=31,-4):(Oe-=R.avail_in,ue-=R.avail_out,R.total_in+=Oe,R.total_out+=ue,x.total+=ue,x.wrap&&ue&&(R.adler=x.check=x.flags?u(x.check,Ce,ue,R.next_out-ue):c(x.check,Ce,ue,R.next_out-ue)),R.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(Oe==0&&ue===0||G===4)&&pe===y&&(pe=-5),pe)},s.inflateEnd=function(R){if(!R||!R.state)return v;var G=R.state;return G.window&&(G.window=null),R.state=null,y},s.inflateGetHeader=function(R,G){var x;return R&&R.state&&2&(x=R.state).wrap?((x.head=G).done=!1,y):v},s.inflateSetDictionary=function(R,G){var x,L=G.length;return R&&R.state?(x=R.state).wrap!==0&&x.mode!==11?v:x.mode===11&&c(1,G,L,0)!==x.check?-3:se(R,G,L,L)?(x.mode=31,-4):(x.havedict=1,y):v},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,i,s){var o=r("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(h,g,y,v,w,_,k,T){var A,j,P,O,B,U,Y,X,q,se=T.bits,R=0,G=0,x=0,L=0,Ce=0,le=0,de=0,N=0,Te=0,oe=0,z=null,Oe=0,ue=new o.Buf16(16),ce=new o.Buf16(16),et=null,Ue=0;for(R=0;R<=15;R++)ue[R]=0;for(G=0;G<v;G++)ue[g[y+G]]++;for(Ce=se,L=15;1<=L&&ue[L]===0;L--);if(L<Ce&&(Ce=L),L===0)return w[_++]=20971520,w[_++]=20971520,T.bits=1,0;for(x=1;x<L&&ue[x]===0;x++);for(Ce<x&&(Ce=x),R=N=1;R<=15;R++)if(N<<=1,(N-=ue[R])<0)return-1;if(0<N&&(h===0||L!==1))return-1;for(ce[1]=0,R=1;R<15;R++)ce[R+1]=ce[R]+ue[R];for(G=0;G<v;G++)g[y+G]!==0&&(k[ce[g[y+G]]++]=G);if(U=h===0?(z=et=k,19):h===1?(z=c,Oe-=257,et=u,Ue-=257,256):(z=d,et=p,-1),R=x,B=_,de=G=oe=0,P=-1,O=(Te=1<<(le=Ce))-1,h===1&&852<Te||h===2&&592<Te)return 1;for(;;){for(Y=R-de,q=k[G]<U?(X=0,k[G]):k[G]>U?(X=et[Ue+k[G]],z[Oe+k[G]]):(X=96,0),A=1<<R-de,x=j=1<<le;w[B+(oe>>de)+(j-=A)]=Y<<24|X<<16|q|0,j!==0;);for(A=1<<R-1;oe&A;)A>>=1;if(A!==0?(oe&=A-1,oe+=A):oe=0,G++,--ue[R]==0){if(R===L)break;R=g[y+k[G]]}if(Ce<R&&(oe&O)!==P){for(de===0&&(de=Ce),B+=x,N=1<<(le=R-de);le+de<L&&!((N-=ue[le+de])<=0);)le++,N<<=1;if(Te+=1<<le,h===1&&852<Te||h===2&&592<Te)return 1;w[P=oe&O]=Ce<<24|le<<16|B-_|0}}return oe!==0&&(w[B+oe]=R-de<<24|64<<16|0),T.bits=Ce,0}},{"../utils/common":41}],51:[function(r,i,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,i,s){var o=r("../utils/common"),c=0,u=1;function d(C){for(var ee=C.length;0<=--ee;)C[ee]=0}var p=0,h=29,g=256,y=g+1+h,v=30,w=19,_=2*y+1,k=15,T=16,A=7,j=256,P=16,O=17,B=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=new Array(2*(y+2));d(se);var R=new Array(2*v);d(R);var G=new Array(512);d(G);var x=new Array(256);d(x);var L=new Array(h);d(L);var Ce,le,de,N=new Array(v);function Te(C,ee,xe,we,re){this.static_tree=C,this.extra_bits=ee,this.extra_base=xe,this.elems=we,this.max_length=re,this.has_stree=C&&C.length}function oe(C,ee){this.dyn_tree=C,this.max_code=0,this.stat_desc=ee}function z(C){return C<256?G[C]:G[256+(C>>>7)]}function Oe(C,ee){C.pending_buf[C.pending++]=255&ee,C.pending_buf[C.pending++]=ee>>>8&255}function ue(C,ee,xe){C.bi_valid>T-xe?(C.bi_buf|=ee<<C.bi_valid&65535,Oe(C,C.bi_buf),C.bi_buf=ee>>T-C.bi_valid,C.bi_valid+=xe-T):(C.bi_buf|=ee<<C.bi_valid&65535,C.bi_valid+=xe)}function ce(C,ee,xe){ue(C,xe[2*ee],xe[2*ee+1])}function et(C,ee){for(var xe=0;xe|=1&C,C>>>=1,xe<<=1,0<--ee;);return xe>>>1}function Ue(C,ee,xe){var we,re,ae=new Array(k+1),me=0;for(we=1;we<=k;we++)ae[we]=me=me+xe[we-1]<<1;for(re=0;re<=ee;re++){var Z=C[2*re+1];Z!==0&&(C[2*re]=et(ae[Z]++,Z))}}function fe(C){var ee;for(ee=0;ee<y;ee++)C.dyn_ltree[2*ee]=0;for(ee=0;ee<v;ee++)C.dyn_dtree[2*ee]=0;for(ee=0;ee<w;ee++)C.bl_tree[2*ee]=0;C.dyn_ltree[2*j]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function ze(C){8<C.bi_valid?Oe(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function ye(C,ee,xe,we){var re=2*ee,ae=2*xe;return C[re]<C[ae]||C[re]===C[ae]&&we[ee]<=we[xe]}function Re(C,ee,xe){for(var we=C.heap[xe],re=xe<<1;re<=C.heap_len&&(re<C.heap_len&&ye(ee,C.heap[re+1],C.heap[re],C.depth)&&re++,!ye(ee,we,C.heap[re],C.depth));)C.heap[xe]=C.heap[re],xe=re,re<<=1;C.heap[xe]=we}function Ye(C,ee,xe){var we,re,ae,me,Z=0;if(C.last_lit!==0)for(;we=C.pending_buf[C.d_buf+2*Z]<<8|C.pending_buf[C.d_buf+2*Z+1],re=C.pending_buf[C.l_buf+Z],Z++,we===0?ce(C,re,ee):(ce(C,(ae=x[re])+g+1,ee),(me=U[ae])!==0&&ue(C,re-=L[ae],me),ce(C,ae=z(--we),xe),(me=Y[ae])!==0&&ue(C,we-=N[ae],me)),Z<C.last_lit;);ce(C,j,ee)}function Xe(C,ee){var xe,we,re,ae=ee.dyn_tree,me=ee.stat_desc.static_tree,Z=ee.stat_desc.has_stree,J=ee.stat_desc.elems,be=-1;for(C.heap_len=0,C.heap_max=_,xe=0;xe<J;xe++)ae[2*xe]!==0?(C.heap[++C.heap_len]=be=xe,C.depth[xe]=0):ae[2*xe+1]=0;for(;C.heap_len<2;)ae[2*(re=C.heap[++C.heap_len]=be<2?++be:0)]=1,C.depth[re]=0,C.opt_len--,Z&&(C.static_len-=me[2*re+1]);for(ee.max_code=be,xe=C.heap_len>>1;1<=xe;xe--)Re(C,ae,xe);for(re=J;xe=C.heap[1],C.heap[1]=C.heap[C.heap_len--],Re(C,ae,1),we=C.heap[1],C.heap[--C.heap_max]=xe,C.heap[--C.heap_max]=we,ae[2*re]=ae[2*xe]+ae[2*we],C.depth[re]=(C.depth[xe]>=C.depth[we]?C.depth[xe]:C.depth[we])+1,ae[2*xe+1]=ae[2*we+1]=re,C.heap[1]=re++,Re(C,ae,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(je,Be){var ut,St,yt,rt,un,bt,Tt=Be.dyn_tree,dt=Be.max_code,mr=Be.stat_desc.static_tree,In=Be.stat_desc.has_stree,Fr=Be.stat_desc.extra_bits,Xr=Be.stat_desc.extra_base,Mr=Be.stat_desc.max_length,Qr=0;for(rt=0;rt<=k;rt++)je.bl_count[rt]=0;for(Tt[2*je.heap[je.heap_max]+1]=0,ut=je.heap_max+1;ut<_;ut++)Mr<(rt=Tt[2*Tt[2*(St=je.heap[ut])+1]+1]+1)&&(rt=Mr,Qr++),Tt[2*St+1]=rt,dt<St||(je.bl_count[rt]++,un=0,Xr<=St&&(un=Fr[St-Xr]),bt=Tt[2*St],je.opt_len+=bt*(rt+un),In&&(je.static_len+=bt*(mr[2*St+1]+un)));if(Qr!==0){do{for(rt=Mr-1;je.bl_count[rt]===0;)rt--;je.bl_count[rt]--,je.bl_count[rt+1]+=2,je.bl_count[Mr]--,Qr-=2}while(0<Qr);for(rt=Mr;rt!==0;rt--)for(St=je.bl_count[rt];St!==0;)dt<(yt=je.heap[--ut])||(Tt[2*yt+1]!==rt&&(je.opt_len+=(rt-Tt[2*yt+1])*Tt[2*yt],Tt[2*yt+1]=rt),St--)}}(C,ee),Ue(ae,be,C.bl_count)}function S(C,ee,xe){var we,re,ae=-1,me=ee[1],Z=0,J=7,be=4;for(me===0&&(J=138,be=3),ee[2*(xe+1)+1]=65535,we=0;we<=xe;we++)re=me,me=ee[2*(we+1)+1],++Z<J&&re===me||(Z<be?C.bl_tree[2*re]+=Z:re!==0?(re!==ae&&C.bl_tree[2*re]++,C.bl_tree[2*P]++):Z<=10?C.bl_tree[2*O]++:C.bl_tree[2*B]++,ae=re,be=(Z=0)===me?(J=138,3):re===me?(J=6,3):(J=7,4))}function pe(C,ee,xe){var we,re,ae=-1,me=ee[1],Z=0,J=7,be=4;for(me===0&&(J=138,be=3),we=0;we<=xe;we++)if(re=me,me=ee[2*(we+1)+1],!(++Z<J&&re===me)){if(Z<be)for(;ce(C,re,C.bl_tree),--Z!=0;);else re!==0?(re!==ae&&(ce(C,re,C.bl_tree),Z--),ce(C,P,C.bl_tree),ue(C,Z-3,2)):Z<=10?(ce(C,O,C.bl_tree),ue(C,Z-3,3)):(ce(C,B,C.bl_tree),ue(C,Z-11,7));ae=re,be=(Z=0)===me?(J=138,3):re===me?(J=6,3):(J=7,4)}}d(N);var V=!1;function D(C,ee,xe,we){ue(C,(p<<1)+(we?1:0),3),function(re,ae,me,Z){ze(re),Oe(re,me),Oe(re,~me),o.arraySet(re.pending_buf,re.window,ae,me,re.pending),re.pending+=me}(C,ee,xe)}s._tr_init=function(C){V||(function(){var ee,xe,we,re,ae,me=new Array(k+1);for(re=we=0;re<h-1;re++)for(L[re]=we,ee=0;ee<1<<U[re];ee++)x[we++]=re;for(x[we-1]=re,re=ae=0;re<16;re++)for(N[re]=ae,ee=0;ee<1<<Y[re];ee++)G[ae++]=re;for(ae>>=7;re<v;re++)for(N[re]=ae<<7,ee=0;ee<1<<Y[re]-7;ee++)G[256+ae++]=re;for(xe=0;xe<=k;xe++)me[xe]=0;for(ee=0;ee<=143;)se[2*ee+1]=8,ee++,me[8]++;for(;ee<=255;)se[2*ee+1]=9,ee++,me[9]++;for(;ee<=279;)se[2*ee+1]=7,ee++,me[7]++;for(;ee<=287;)se[2*ee+1]=8,ee++,me[8]++;for(Ue(se,y+1,me),ee=0;ee<v;ee++)R[2*ee+1]=5,R[2*ee]=et(ee,5);Ce=new Te(se,U,g+1,y,k),le=new Te(R,Y,0,v,k),de=new Te(new Array(0),X,0,w,A)}(),V=!0),C.l_desc=new oe(C.dyn_ltree,Ce),C.d_desc=new oe(C.dyn_dtree,le),C.bl_desc=new oe(C.bl_tree,de),C.bi_buf=0,C.bi_valid=0,fe(C)},s._tr_stored_block=D,s._tr_flush_block=function(C,ee,xe,we){var re,ae,me=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(Z){var J,be=4093624447;for(J=0;J<=31;J++,be>>>=1)if(1&be&&Z.dyn_ltree[2*J]!==0)return c;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return u;for(J=32;J<g;J++)if(Z.dyn_ltree[2*J]!==0)return u;return c}(C)),Xe(C,C.l_desc),Xe(C,C.d_desc),me=function(Z){var J;for(S(Z,Z.dyn_ltree,Z.l_desc.max_code),S(Z,Z.dyn_dtree,Z.d_desc.max_code),Xe(Z,Z.bl_desc),J=w-1;3<=J&&Z.bl_tree[2*q[J]+1]===0;J--);return Z.opt_len+=3*(J+1)+5+5+4,J}(C),re=C.opt_len+3+7>>>3,(ae=C.static_len+3+7>>>3)<=re&&(re=ae)):re=ae=xe+5,xe+4<=re&&ee!==-1?D(C,ee,xe,we):C.strategy===4||ae===re?(ue(C,2+(we?1:0),3),Ye(C,se,R)):(ue(C,4+(we?1:0),3),function(Z,J,be,je){var Be;for(ue(Z,J-257,5),ue(Z,be-1,5),ue(Z,je-4,4),Be=0;Be<je;Be++)ue(Z,Z.bl_tree[2*q[Be]+1],3);pe(Z,Z.dyn_ltree,J-1),pe(Z,Z.dyn_dtree,be-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,me+1),Ye(C,C.dyn_ltree,C.dyn_dtree)),fe(C),we&&ze(C)},s._tr_tally=function(C,ee,xe){return C.pending_buf[C.d_buf+2*C.last_lit]=ee>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&ee,C.pending_buf[C.l_buf+C.last_lit]=255&xe,C.last_lit++,ee===0?C.dyn_ltree[2*xe]++:(C.matches++,ee--,C.dyn_ltree[2*(x[xe]+g+1)]++,C.dyn_dtree[2*z(ee)]++),C.last_lit===C.lit_bufsize-1},s._tr_align=function(C){ue(C,2,3),ce(C,j,se),function(ee){ee.bi_valid===16?(Oe(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):8<=ee.bi_valid&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(r,i,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,i,s){(function(o){(function(c,u){if(!c.setImmediate){var d,p,h,g,y=1,v={},w=!1,_=c.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(c);k=k&&k.setTimeout?k:c,d={}.toString.call(c.process)==="[object process]"?function(P){n.nextTick(function(){A(P)})}:function(){if(c.postMessage&&!c.importScripts){var P=!0,O=c.onmessage;return c.onmessage=function(){P=!1},c.postMessage("","*"),c.onmessage=O,P}}()?(g="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",j,!1):c.attachEvent("onmessage",j),function(P){c.postMessage(g+P,"*")}):c.MessageChannel?((h=new MessageChannel).port1.onmessage=function(P){A(P.data)},function(P){h.port2.postMessage(P)}):_&&"onreadystatechange"in _.createElement("script")?(p=_.documentElement,function(P){var O=_.createElement("script");O.onreadystatechange=function(){A(P),O.onreadystatechange=null,p.removeChild(O),O=null},p.appendChild(O)}):function(P){setTimeout(A,0,P)},k.setImmediate=function(P){typeof P!="function"&&(P=new Function(""+P));for(var O=new Array(arguments.length-1),B=0;B<O.length;B++)O[B]=arguments[B+1];var U={callback:P,args:O};return v[y]=U,d(y),y++},k.clearImmediate=T}function T(P){delete v[P]}function A(P){if(w)setTimeout(A,0,P);else{var O=v[P];if(O){w=!0;try{(function(B){var U=B.callback,Y=B.args;switch(Y.length){case 0:U();break;case 1:U(Y[0]);break;case 2:U(Y[0],Y[1]);break;case 3:U(Y[0],Y[1],Y[2]);break;default:U.apply(u,Y)}})(O)}finally{T(P),w=!1}}}}function j(P){P.source===c&&typeof P.data=="string"&&P.data.indexOf(g)===0&&A(+P.data.slice(g.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Vn<"u"?Vn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(qx);var l6=qx.exports;const c6=gi(l6),u6=new Proxy({},{get(e,t){throw new Error(`Module "util" has been externalized for browser compatibility. Cannot access "util.${t}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),d6=Object.freeze(Object.defineProperty({__proto__:null,default:u6},Symbol.toStringTag,{value:"Module"})),Wx=Tv(d6);var Al={};(function(e){e.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1,e.find=(t,n)=>t.nodes.find(r=>r.type===n),e.exceedsLimit=(t,n,r=1,i)=>i===!1||!e.isInteger(t)||!e.isInteger(n)?!1:(Number(n)-Number(t))/Number(r)>=i,e.escapeNode=(t,n=0,r)=>{const i=t.nodes[n];i&&(r&&i.type===r||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)},e.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0),e.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1,e.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0,e.reduce=t=>t.reduce((n,r)=>(r.type==="text"&&n.push(r.value),r.type==="range"&&(r.type="text"),n),[]),e.flatten=(...t)=>{const n=[],r=i=>{for(let s=0;s<i.length;s++){const o=i[s];if(Array.isArray(o)){r(o);continue}o!==void 0&&n.push(o)}return n};return r(t),n}})(Al);const Ig=Al;var op=(e,t={})=>{const n=(r,i={})=>{const s=t.escapeInvalid&&Ig.isInvalidBrace(i),o=r.invalid===!0&&t.escapeInvalid===!0;let c="";if(r.value)return(s||o)&&Ig.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(const u of r.nodes)c+=n(u);return c};return n(e)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var p6=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const jg=p6,$i=(e,t,n)=>{if(jg(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(jg(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...n};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let i=String(r.relaxZeros),s=String(r.shorthand),o=String(r.capture),c=String(r.wrap),u=e+":"+t+"="+i+s+o+c;if($i.cache.hasOwnProperty(u))return $i.cache[u].result;let d=Math.min(e,t),p=Math.max(e,t);if(Math.abs(d-p)===1){let w=e+"|"+t;return r.capture?`(${w})`:r.wrap===!1?w:`(?:${w})`}let h=Ng(e)||Ng(t),g={min:e,max:t,a:d,b:p},y=[],v=[];if(h&&(g.isPadded=h,g.maxLen=String(g.max).length),d<0){let w=p<0?Math.abs(p):1;v=Rg(w,Math.abs(d),g,r),d=g.a=0}return p>=0&&(y=Rg(d,p,g,r)),g.negatives=v,g.positives=y,g.result=f6(v,y),r.capture===!0?g.result=`(${g.result})`:r.wrap!==!1&&y.length+v.length>1&&(g.result=`(?:${g.result})`),$i.cache[u]=g,g.result};function f6(e,t,n){let r=bu(e,t,"-",!1)||[],i=bu(t,e,"",!1)||[],s=bu(e,t,"-?",!0)||[];return r.concat(s).concat(i).join("|")}function h6(e,t){let n=1,r=1,i=zg(e,n),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),n+=1,i=zg(e,n);for(i=Fg(t+1,r)-1;e<i&&i<=t;)s.add(i),r+=1,i=Fg(t+1,r)-1;return s=[...s],s.sort(v6),s}function m6(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=g6(e,t),i=r.length,s="",o=0;for(let c=0;c<i;c++){let[u,d]=r[c];u===d?s+=u:u!=="0"||d!=="9"?s+=y6(u,d):o++}return o&&(s+=n.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function Rg(e,t,n,r){let i=h6(e,t),s=[],o=e,c;for(let u=0;u<i.length;u++){let d=i[u],p=m6(String(o),String(d),r),h="";if(!n.isPadded&&c&&c.pattern===p.pattern){c.count.length>1&&c.count.pop(),c.count.push(p.count[0]),c.string=c.pattern+Mg(c.count),o=d+1;continue}n.isPadded&&(h=b6(d,n,r)),p.string=h+p.pattern+Mg(p.count),s.push(p),o=d+1,c=p}return s}function bu(e,t,n,r,i){let s=[];for(let o of e){let{string:c}=o;!r&&!Og(t,"string",c)&&s.push(n+c),r&&Og(t,"string",c)&&s.push(n+c)}return s}function g6(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}function v6(e,t){return e>t?1:t>e?-1:0}function Og(e,t,n){return e.some(r=>r[t]===n)}function zg(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Fg(e,t){return e-e%Math.pow(10,t)}function Mg(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function y6(e,t,n){return`[${e}${t-e===1?"":"-"}${t}]`}function Ng(e){return/^-?(0+)\d/.test(e)}function b6(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),i=n.relaxZeros!==!1;switch(r){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${r}}`:`0{${r}}`}}$i.cache={};$i.clearCache=()=>$i.cache={};var x6=$i;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const _6=Wx,Vx=x6,Pg=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),w6=e=>t=>e===!0?Number(t):String(t),xu=e=>typeof e=="number"||typeof e=="string"&&e!=="",po=e=>Number.isInteger(+e),_u=e=>{let t=`${e}`,n=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++n]==="0";);return n>0},k6=(e,t,n)=>typeof e=="string"||typeof t=="string"?!0:n.stringify===!0,C6=(e,t,n)=>{if(t>0){let r=e[0]==="-"?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return n===!1?String(e):e},sl=(e,t)=>{let n=e[0]==="-"?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},S6=(e,t,n)=>{e.negatives.sort((c,u)=>c<u?-1:c>u?1:0),e.positives.sort((c,u)=>c<u?-1:c>u?1:0);let r=t.capture?"":"?:",i="",s="",o;return e.positives.length&&(i=e.positives.map(c=>sl(String(c),n)).join("|")),e.negatives.length&&(s=`-(${r}${e.negatives.map(c=>sl(String(c),n)).join("|")})`),i&&s?o=`${i}|${s}`:o=i||s,t.wrap?`(${r}${o})`:o},Gx=(e,t,n,r)=>{if(n)return Vx(e,t,{wrap:!1,...r});let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},Jx=(e,t,n)=>{if(Array.isArray(e)){let r=n.wrap===!0,i=n.capture?"":"?:";return r?`(${i}${e.join("|")})`:e.join("|")}return Vx(e,t,n)},Kx=(...e)=>new RangeError("Invalid range arguments: "+_6.inspect(...e)),Yx=(e,t,n)=>{if(n.strictRanges===!0)throw Kx([e,t]);return[]},E6=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},T6=(e,t,n=1,r={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(r.strictRanges===!0)throw Kx([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,c=String(e),u=String(t),d=String(n);n=Math.max(Math.abs(n),1);let p=_u(c)||_u(u)||_u(d),h=p?Math.max(c.length,u.length,d.length):0,g=p===!1&&k6(e,t,r)===!1,y=r.transform||w6(g);if(r.toRegex&&n===1)return Gx(sl(e,h),sl(t,h),!0,r);let v={negatives:[],positives:[]},w=T=>v[T<0?"negatives":"positives"].push(Math.abs(T)),_=[],k=0;for(;o?i>=s:i<=s;)r.toRegex===!0&&n>1?w(i):_.push(C6(y(i,k),h,g)),i=o?i-n:i+n,k++;return r.toRegex===!0?n>1?S6(v,r,h):Jx(_,null,{wrap:!1,...r}):_},A6=(e,t,n=1,r={})=>{if(!po(e)&&e.length>1||!po(t)&&t.length>1)return Yx(e,t,r);let i=r.transform||(g=>String.fromCharCode(g)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),c=s>o,u=Math.min(s,o),d=Math.max(s,o);if(r.toRegex&&n===1)return Gx(u,d,!1,r);let p=[],h=0;for(;c?s>=o:s<=o;)p.push(i(s,h)),s=c?s-n:s+n,h++;return r.toRegex===!0?Jx(p,null,{wrap:!1,options:r}):p},Ds=(e,t,n,r={})=>{if(t==null&&xu(e))return[e];if(!xu(e)||!xu(t))return Yx(e,t,r);if(typeof n=="function")return Ds(e,t,1,{transform:n});if(Pg(n))return Ds(e,t,0,n);let i={...r};return i.capture===!0&&(i.wrap=!0),n=n||i.step||1,po(n)?po(e)&&po(t)?T6(e,t,n,i):A6(e,t,Math.max(Math.abs(n),1),i):n!=null&&!Pg(n)?E6(n,i):Ds(e,t,1,n)};var Xx=Ds;const I6=Xx,$g=Al,j6=(e,t={})=>{const n=(r,i={})=>{const s=$g.isInvalidBrace(i),o=r.invalid===!0&&t.escapeInvalid===!0,c=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"";let d="";if(r.isOpen===!0)return u+r.value;if(r.isClose===!0)return console.log("node.isClose",u,r.value),u+r.value;if(r.type==="open")return c?u+r.value:"(";if(r.type==="close")return c?u+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":c?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){const p=$g.reduce(r.nodes),h=I6(...p,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(h.length!==0)return p.length>1&&h.length>1?`(${h})`:h}if(r.nodes)for(const p of r.nodes)d+=n(p,r);return d};return n(e)};var R6=j6;const O6=Xx,Dg=op,ga=Al,Mi=(e="",t="",n=!1)=>{const r=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return n?ga.flatten(t).map(i=>`{${i}}`):t;for(const i of e)if(Array.isArray(i))for(const s of i)r.push(Mi(s,t,n));else for(let s of t)n===!0&&typeof s=="string"&&(s=`{${s}}`),r.push(Array.isArray(s)?Mi(i,s,n):i+s);return ga.flatten(r)},z6=(e,t={})=>{const n=t.rangeLimit===void 0?1e3:t.rangeLimit,r=(i,s={})=>{i.queue=[];let o=s,c=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,c=o.queue;if(i.invalid||i.dollar){c.push(Mi(c.pop(),Dg(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){c.push(Mi(c.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){const h=ga.reduce(i.nodes);if(ga.exceedsLimit(...h,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let g=O6(...h,t);g.length===0&&(g=Dg(i,t)),c.push(Mi(c.pop(),g)),i.nodes=[];return}const u=ga.encloseBrace(i);let d=i.queue,p=i;for(;p.type!=="brace"&&p.type!=="root"&&p.parent;)p=p.parent,d=p.queue;for(let h=0;h<i.nodes.length;h++){const g=i.nodes[h];if(g.type==="comma"&&i.type==="brace"){h===1&&d.push(""),d.push("");continue}if(g.type==="close"){c.push(Mi(c.pop(),d,u));continue}if(g.value&&g.type!=="open"){d.push(Mi(d.pop(),g.value));continue}g.nodes&&r(g,i)}return d};return ga.flatten(r(e))};var F6=z6,M6={MAX_LENGTH:1e4,CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_COMMA:",",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_NO_BREAK_SPACE:"",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SINGLE_QUOTE:"'",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const N6=op,{MAX_LENGTH:Lg,CHAR_BACKSLASH:wu,CHAR_BACKTICK:P6,CHAR_COMMA:$6,CHAR_DOT:D6,CHAR_LEFT_PARENTHESES:L6,CHAR_RIGHT_PARENTHESES:B6,CHAR_LEFT_CURLY_BRACE:U6,CHAR_RIGHT_CURLY_BRACE:Z6,CHAR_LEFT_SQUARE_BRACKET:Bg,CHAR_RIGHT_SQUARE_BRACKET:Ug,CHAR_DOUBLE_QUOTE:H6,CHAR_SINGLE_QUOTE:q6,CHAR_NO_BREAK_SPACE:W6,CHAR_ZERO_WIDTH_NOBREAK_SPACE:V6}=M6,G6=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");const n=t||{},r=typeof n.maxLength=="number"?Math.min(Lg,n.maxLength):Lg;if(e.length>r)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${r})`);const i={type:"root",input:e,nodes:[]},s=[i];let o=i,c=i,u=0;const d=e.length;let p=0,h=0,g;const y=()=>e[p++],v=w=>{if(w.type==="text"&&c.type==="dot"&&(c.type="text"),c&&c.type==="text"&&w.type==="text"){c.value+=w.value;return}return o.nodes.push(w),w.parent=o,w.prev=c,c=w,w};for(v({type:"bos"});p<d;)if(o=s[s.length-1],g=y(),!(g===V6||g===W6)){if(g===wu){v({type:"text",value:(t.keepEscaping?g:"")+y()});continue}if(g===Ug){v({type:"text",value:"\\"+g});continue}if(g===Bg){u++;let w;for(;p<d&&(w=y());){if(g+=w,w===Bg){u++;continue}if(w===wu){g+=y();continue}if(w===Ug&&(u--,u===0))break}v({type:"text",value:g});continue}if(g===L6){o=v({type:"paren",nodes:[]}),s.push(o),v({type:"text",value:g});continue}if(g===B6){if(o.type!=="paren"){v({type:"text",value:g});continue}o=s.pop(),v({type:"text",value:g}),o=s[s.length-1];continue}if(g===H6||g===q6||g===P6){const w=g;let _;for(t.keepQuotes!==!0&&(g="");p<d&&(_=y());){if(_===wu){g+=_+y();continue}if(_===w){t.keepQuotes===!0&&(g+=_);break}g+=_}v({type:"text",value:g});continue}if(g===U6){h++;const _={type:"brace",open:!0,close:!1,dollar:c.value&&c.value.slice(-1)==="$"||o.dollar===!0,depth:h,commas:0,ranges:0,nodes:[]};o=v(_),s.push(o),v({type:"open",value:g});continue}if(g===Z6){if(o.type!=="brace"){v({type:"text",value:g});continue}const w="close";o=s.pop(),o.close=!0,v({type:w,value:g}),h--,o=s[s.length-1];continue}if(g===$6&&h>0){if(o.ranges>0){o.ranges=0;const w=o.nodes.shift();o.nodes=[w,{type:"text",value:N6(o)}]}v({type:"comma",value:g}),o.commas++;continue}if(g===D6&&h>0&&o.commas===0){const w=o.nodes;if(h===0||w.length===0){v({type:"text",value:g});continue}if(c.type==="dot"){if(o.range=[],c.value+=g,c.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,c.type="text";continue}o.ranges++,o.args=[];continue}if(c.type==="range"){w.pop();const _=w[w.length-1];_.value+=c.value+g,c=_,o.ranges--;continue}v({type:"dot",value:g});continue}v({type:"text",value:g})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(k=>{k.nodes||(k.type==="open"&&(k.isOpen=!0),k.type==="close"&&(k.isClose=!0),k.nodes||(k.type="text"),k.invalid=!0)});const w=s[s.length-1],_=w.nodes.indexOf(o);w.nodes.splice(_,1,...o.nodes)}while(s.length>0);return v({type:"eos"}),i};var J6=G6;const Zg=op,K6=R6,Y6=F6,X6=J6,Jn=(e,t={})=>{let n=[];if(Array.isArray(e))for(const r of e){const i=Jn.create(r,t);Array.isArray(i)?n.push(...i):n.push(i)}else n=[].concat(Jn.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(n=[...new Set(n)]),n};Jn.parse=(e,t={})=>X6(e,t);Jn.stringify=(e,t={})=>Zg(typeof e=="string"?Jn.parse(e,t):e,t);Jn.compile=(e,t={})=>(typeof e=="string"&&(e=Jn.parse(e,t)),K6(e,t));Jn.expand=(e,t={})=>{typeof e=="string"&&(e=Jn.parse(e,t));let n=Y6(e,t);return t.noempty===!0&&(n=n.filter(Boolean)),t.nodupes===!0&&(n=[...new Set(n)]),n};Jn.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Jn.compile(e,t):Jn.expand(e,t);var Q6=Jn;const eU=new Proxy({},{get(e,t){throw new Error(`Module "path" has been externalized for browser compatibility. Cannot access "path.${t}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),tU=Object.freeze(Object.defineProperty({__proto__:null,default:eU},Symbol.toStringTag,{value:"Module"})),sp=Tv(tU);var jo={};const nU=sp,Tr="\\\\/",Hg=`[^${Tr}]`,Vr="\\.",rU="\\+",iU="\\?",Il="\\/",aU="(?=.)",Qx="[^/]",lp=`(?:${Il}|$)`,e0=`(?:^|${Il})`,cp=`${Vr}{1,2}${lp}`,oU=`(?!${Vr})`,sU=`(?!${e0}${cp})`,lU=`(?!${Vr}{0,1}${lp})`,cU=`(?!${cp})`,uU=`[^.${Il}]`,dU=`${Qx}*?`,t0={DOT_LITERAL:Vr,PLUS_LITERAL:rU,QMARK_LITERAL:iU,SLASH_LITERAL:Il,ONE_CHAR:aU,QMARK:Qx,END_ANCHOR:lp,DOTS_SLASH:cp,NO_DOT:oU,NO_DOTS:sU,NO_DOT_SLASH:lU,NO_DOTS_SLASH:cU,QMARK_NO_DOT:uU,STAR:dU,START_ANCHOR:e0},pU={...t0,SLASH_LITERAL:`[${Tr}]`,QMARK:Hg,STAR:`${Hg}*?`,DOTS_SLASH:`${Vr}{1,2}(?:[${Tr}]|$)`,NO_DOT:`(?!${Vr})`,NO_DOTS:`(?!(?:^|[${Tr}])${Vr}{1,2}(?:[${Tr}]|$))`,NO_DOT_SLASH:`(?!${Vr}{0,1}(?:[${Tr}]|$))`,NO_DOTS_SLASH:`(?!${Vr}{1,2}(?:[${Tr}]|$))`,QMARK_NO_DOT:`[^.${Tr}]`,START_ANCHOR:`(?:^|[${Tr}])`,END_ANCHOR:`(?:[${Tr}]|$)`},fU={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var jl={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:fU,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:nU.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?pU:t0}};(function(e){var t={};const n=sp,r=t.platform==="win32",{REGEX_BACKSLASH:i,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_GLOBAL:c}=jl;e.isObject=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),e.hasRegexChars=u=>o.test(u),e.isRegexChar=u=>u.length===1&&e.hasRegexChars(u),e.escapeRegex=u=>u.replace(c,"\\$1"),e.toPosixSlashes=u=>u.replace(i,"/"),e.removeBackslashes=u=>u.replace(s,d=>d==="\\"?"":d),e.supportsLookbehinds=()=>{const u=t.version.slice(1).split(".").map(Number);return u.length===3&&u[0]>=9||u[0]===8&&u[1]>=10},e.isWindows=u=>u&&typeof u.windows=="boolean"?u.windows:r===!0||n.sep==="\\",e.escapeLast=(u,d,p)=>{const h=u.lastIndexOf(d,p);return h===-1?u:u[h-1]==="\\"?e.escapeLast(u,d,h-1):`${u.slice(0,h)}\\${u.slice(h)}`},e.removePrefix=(u,d={})=>{let p=u;return p.startsWith("./")&&(p=p.slice(2),d.prefix="./"),p},e.wrapOutput=(u,d={},p={})=>{const h=p.contains?"":"^",g=p.contains?"":"$";let y=`${h}(?:${u})${g}`;return d.negated===!0&&(y=`(?:^(?!${y}).*$)`),y}})(jo);const qg=jo,{CHAR_ASTERISK:ku,CHAR_AT:hU,CHAR_BACKWARD_SLASH:so,CHAR_COMMA:mU,CHAR_DOT:Cu,CHAR_EXCLAMATION_MARK:Su,CHAR_FORWARD_SLASH:n0,CHAR_LEFT_CURLY_BRACE:Eu,CHAR_LEFT_PARENTHESES:Tu,CHAR_LEFT_SQUARE_BRACKET:gU,CHAR_PLUS:vU,CHAR_QUESTION_MARK:Wg,CHAR_RIGHT_CURLY_BRACE:yU,CHAR_RIGHT_PARENTHESES:Vg,CHAR_RIGHT_SQUARE_BRACKET:bU}=jl,Gg=e=>e===n0||e===so,Jg=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},xU=(e,t)=>{const n=t||{},r=e.length-1,i=n.parts===!0||n.scanToEnd===!0,s=[],o=[],c=[];let u=e,d=-1,p=0,h=0,g=!1,y=!1,v=!1,w=!1,_=!1,k=!1,T=!1,A=!1,j=!1,P=!1,O=0,B,U,Y={value:"",depth:0,isGlob:!1};const X=()=>d>=r,q=()=>u.charCodeAt(d+1),se=()=>(B=U,u.charCodeAt(++d));for(;d<r;){U=se();let Ce;if(U===so){T=Y.backslashes=!0,U=se(),U===Eu&&(k=!0);continue}if(k===!0||U===Eu){for(O++;X()!==!0&&(U=se());){if(U===so){T=Y.backslashes=!0,se();continue}if(U===Eu){O++;continue}if(k!==!0&&U===Cu&&(U=se())===Cu){if(g=Y.isBrace=!0,v=Y.isGlob=!0,P=!0,i===!0)continue;break}if(k!==!0&&U===mU){if(g=Y.isBrace=!0,v=Y.isGlob=!0,P=!0,i===!0)continue;break}if(U===yU&&(O--,O===0)){k=!1,g=Y.isBrace=!0,P=!0;break}}if(i===!0)continue;break}if(U===n0){if(s.push(d),o.push(Y),Y={value:"",depth:0,isGlob:!1},P===!0)continue;if(B===Cu&&d===p+1){p+=2;continue}h=d+1;continue}if(n.noext!==!0&&(U===vU||U===hU||U===ku||U===Wg||U===Su)===!0&&q()===Tu){if(v=Y.isGlob=!0,w=Y.isExtglob=!0,P=!0,U===Su&&d===p&&(j=!0),i===!0){for(;X()!==!0&&(U=se());){if(U===so){T=Y.backslashes=!0,U=se();continue}if(U===Vg){v=Y.isGlob=!0,P=!0;break}}continue}break}if(U===ku){if(B===ku&&(_=Y.isGlobstar=!0),v=Y.isGlob=!0,P=!0,i===!0)continue;break}if(U===Wg){if(v=Y.isGlob=!0,P=!0,i===!0)continue;break}if(U===gU){for(;X()!==!0&&(Ce=se());){if(Ce===so){T=Y.backslashes=!0,se();continue}if(Ce===bU){y=Y.isBracket=!0,v=Y.isGlob=!0,P=!0;break}}if(i===!0)continue;break}if(n.nonegate!==!0&&U===Su&&d===p){A=Y.negated=!0,p++;continue}if(n.noparen!==!0&&U===Tu){if(v=Y.isGlob=!0,i===!0){for(;X()!==!0&&(U=se());){if(U===Tu){T=Y.backslashes=!0,U=se();continue}if(U===Vg){P=!0;break}}continue}break}if(v===!0){if(P=!0,i===!0)continue;break}}n.noext===!0&&(w=!1,v=!1);let R=u,G="",x="";p>0&&(G=u.slice(0,p),u=u.slice(p),h-=p),R&&v===!0&&h>0?(R=u.slice(0,h),x=u.slice(h)):v===!0?(R="",x=u):R=u,R&&R!==""&&R!=="/"&&R!==u&&Gg(R.charCodeAt(R.length-1))&&(R=R.slice(0,-1)),n.unescape===!0&&(x&&(x=qg.removeBackslashes(x)),R&&T===!0&&(R=qg.removeBackslashes(R)));const L={prefix:G,input:e,start:p,base:R,glob:x,isBrace:g,isBracket:y,isGlob:v,isExtglob:w,isGlobstar:_,negated:A,negatedExtglob:j};if(n.tokens===!0&&(L.maxDepth=0,Gg(U)||o.push(Y),L.tokens=o),n.parts===!0||n.tokens===!0){let Ce;for(let le=0;le<s.length;le++){const de=Ce?Ce+1:p,N=s[le],Te=e.slice(de,N);n.tokens&&(le===0&&p!==0?(o[le].isPrefix=!0,o[le].value=G):o[le].value=Te,Jg(o[le]),L.maxDepth+=o[le].depth),(le!==0||Te!=="")&&c.push(Te),Ce=N}if(Ce&&Ce+1<e.length){const le=e.slice(Ce+1);c.push(le),n.tokens&&(o[o.length-1].value=le,Jg(o[o.length-1]),L.maxDepth+=o[o.length-1].depth)}L.slashes=s,L.parts=c}return L};var _U=xU;const ll=jl,qn=jo,{MAX_LENGTH:cl,POSIX_REGEX_SOURCE:wU,REGEX_NON_SPECIAL_CHARS:kU,REGEX_SPECIAL_CHARS_BACKREF:CU,REPLACEMENTS:r0}=ll,SU=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map(i=>qn.escapeRegex(i)).join("..")}return n},ca=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,up=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=r0[e]||e;const n={...t},r=typeof n.maxLength=="number"?Math.min(cl,n.maxLength):cl;let i=e.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);const s={type:"bos",value:"",output:n.prepend||""},o=[s],c=n.capture?"":"?:",u=qn.isWindows(t),d=ll.globChars(u),p=ll.extglobChars(d),{DOT_LITERAL:h,PLUS_LITERAL:g,SLASH_LITERAL:y,ONE_CHAR:v,DOTS_SLASH:w,NO_DOT:_,NO_DOT_SLASH:k,NO_DOTS_SLASH:T,QMARK:A,QMARK_NO_DOT:j,STAR:P,START_ANCHOR:O}=d,B=fe=>`(${c}(?:(?!${O}${fe.dot?w:h}).)*?)`,U=n.dot?"":_,Y=n.dot?A:j;let X=n.bash===!0?B(n):P;n.capture&&(X=`(${X})`),typeof n.noext=="boolean"&&(n.noextglob=n.noext);const q={input:e,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=qn.removePrefix(e,q),i=e.length;const se=[],R=[],G=[];let x=s,L;const Ce=()=>q.index===i-1,le=q.peek=(fe=1)=>e[q.index+fe],de=q.advance=()=>e[++q.index]||"",N=()=>e.slice(q.index+1),Te=(fe="",ze=0)=>{q.consumed+=fe,q.index+=ze},oe=fe=>{q.output+=fe.output!=null?fe.output:fe.value,Te(fe.value)},z=()=>{let fe=1;for(;le()==="!"&&(le(2)!=="("||le(3)==="?");)de(),q.start++,fe++;return fe%2===0?!1:(q.negated=!0,q.start++,!0)},Oe=fe=>{q[fe]++,G.push(fe)},ue=fe=>{q[fe]--,G.pop()},ce=fe=>{if(x.type==="globstar"){const ze=q.braces>0&&(fe.type==="comma"||fe.type==="brace"),ye=fe.extglob===!0||se.length&&(fe.type==="pipe"||fe.type==="paren");fe.type!=="slash"&&fe.type!=="paren"&&!ze&&!ye&&(q.output=q.output.slice(0,-x.output.length),x.type="star",x.value="*",x.output=X,q.output+=x.output)}if(se.length&&fe.type!=="paren"&&(se[se.length-1].inner+=fe.value),(fe.value||fe.output)&&oe(fe),x&&x.type==="text"&&fe.type==="text"){x.value+=fe.value,x.output=(x.output||"")+fe.value;return}fe.prev=x,o.push(fe),x=fe},et=(fe,ze)=>{const ye={...p[ze],conditions:1,inner:""};ye.prev=x,ye.parens=q.parens,ye.output=q.output;const Re=(n.capture?"(":"")+ye.open;Oe("parens"),ce({type:fe,value:ze,output:q.output?"":v}),ce({type:"paren",extglob:!0,value:de(),output:Re}),se.push(ye)},Ue=fe=>{let ze=fe.close+(n.capture?")":""),ye;if(fe.type==="negate"){let Re=X;if(fe.inner&&fe.inner.length>1&&fe.inner.includes("/")&&(Re=B(n)),(Re!==X||Ce()||/^\)+$/.test(N()))&&(ze=fe.close=`)$))${Re}`),fe.inner.includes("*")&&(ye=N())&&/^\.[^\\/.]+$/.test(ye)){const Ye=up(ye,{...t,fastpaths:!1}).output;ze=fe.close=`)${Ye})${Re})`}fe.prev.type==="bos"&&(q.negatedExtglob=!0)}ce({type:"paren",extglob:!0,value:L,output:ze}),ue("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let fe=!1,ze=e.replace(CU,(ye,Re,Ye,Xe,S,pe)=>Xe==="\\"?(fe=!0,ye):Xe==="?"?Re?Re+Xe+(S?A.repeat(S.length):""):pe===0?Y+(S?A.repeat(S.length):""):A.repeat(Ye.length):Xe==="."?h.repeat(Ye.length):Xe==="*"?Re?Re+Xe+(S?X:""):X:Re?ye:`\\${ye}`);return fe===!0&&(n.unescape===!0?ze=ze.replace(/\\/g,""):ze=ze.replace(/\\+/g,ye=>ye.length%2===0?"\\\\":ye?"\\":"")),ze===e&&n.contains===!0?(q.output=e,q):(q.output=qn.wrapOutput(ze,q,t),q)}for(;!Ce();){if(L=de(),L==="\0")continue;if(L==="\\"){const ye=le();if(ye==="/"&&n.bash!==!0||ye==="."||ye===";")continue;if(!ye){L+="\\",ce({type:"text",value:L});continue}const Re=/^\\+/.exec(N());let Ye=0;if(Re&&Re[0].length>2&&(Ye=Re[0].length,q.index+=Ye,Ye%2!==0&&(L+="\\")),n.unescape===!0?L=de():L+=de(),q.brackets===0){ce({type:"text",value:L});continue}}if(q.brackets>0&&(L!=="]"||x.value==="["||x.value==="[^")){if(n.posix!==!1&&L===":"){const ye=x.value.slice(1);if(ye.includes("[")&&(x.posix=!0,ye.includes(":"))){const Re=x.value.lastIndexOf("["),Ye=x.value.slice(0,Re),Xe=x.value.slice(Re+2),S=wU[Xe];if(S){x.value=Ye+S,q.backtrack=!0,de(),!s.output&&o.indexOf(x)===1&&(s.output=v);continue}}}(L==="["&&le()!==":"||L==="-"&&le()==="]")&&(L=`\\${L}`),L==="]"&&(x.value==="["||x.value==="[^")&&(L=`\\${L}`),n.posix===!0&&L==="!"&&x.value==="["&&(L="^"),x.value+=L,oe({value:L});continue}if(q.quotes===1&&L!=='"'){L=qn.escapeRegex(L),x.value+=L,oe({value:L});continue}if(L==='"'){q.quotes=q.quotes===1?0:1,n.keepQuotes===!0&&ce({type:"text",value:L});continue}if(L==="("){Oe("parens"),ce({type:"paren",value:L});continue}if(L===")"){if(q.parens===0&&n.strictBrackets===!0)throw new SyntaxError(ca("opening","("));const ye=se[se.length-1];if(ye&&q.parens===ye.parens+1){Ue(se.pop());continue}ce({type:"paren",value:L,output:q.parens?")":"\\)"}),ue("parens");continue}if(L==="["){if(n.nobracket===!0||!N().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(ca("closing","]"));L=`\\${L}`}else Oe("brackets");ce({type:"bracket",value:L});continue}if(L==="]"){if(n.nobracket===!0||x&&x.type==="bracket"&&x.value.length===1){ce({type:"text",value:L,output:`\\${L}`});continue}if(q.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(ca("opening","["));ce({type:"text",value:L,output:`\\${L}`});continue}ue("brackets");const ye=x.value.slice(1);if(x.posix!==!0&&ye[0]==="^"&&!ye.includes("/")&&(L=`/${L}`),x.value+=L,oe({value:L}),n.literalBrackets===!1||qn.hasRegexChars(ye))continue;const Re=qn.escapeRegex(x.value);if(q.output=q.output.slice(0,-x.value.length),n.literalBrackets===!0){q.output+=Re,x.value=Re;continue}x.value=`(${c}${Re}|${x.value})`,q.output+=x.value;continue}if(L==="{"&&n.nobrace!==!0){Oe("braces");const ye={type:"brace",value:L,output:"(",outputIndex:q.output.length,tokensIndex:q.tokens.length};R.push(ye),ce(ye);continue}if(L==="}"){const ye=R[R.length-1];if(n.nobrace===!0||!ye){ce({type:"text",value:L,output:L});continue}let Re=")";if(ye.dots===!0){const Ye=o.slice(),Xe=[];for(let S=Ye.length-1;S>=0&&(o.pop(),Ye[S].type!=="brace");S--)Ye[S].type!=="dots"&&Xe.unshift(Ye[S].value);Re=SU(Xe,n),q.backtrack=!0}if(ye.comma!==!0&&ye.dots!==!0){const Ye=q.output.slice(0,ye.outputIndex),Xe=q.tokens.slice(ye.tokensIndex);ye.value=ye.output="\\{",L=Re="\\}",q.output=Ye;for(const S of Xe)q.output+=S.output||S.value}ce({type:"brace",value:L,output:Re}),ue("braces"),R.pop();continue}if(L==="|"){se.length>0&&se[se.length-1].conditions++,ce({type:"text",value:L});continue}if(L===","){let ye=L;const Re=R[R.length-1];Re&&G[G.length-1]==="braces"&&(Re.comma=!0,ye="|"),ce({type:"comma",value:L,output:ye});continue}if(L==="/"){if(x.type==="dot"&&q.index===q.start+1){q.start=q.index+1,q.consumed="",q.output="",o.pop(),x=s;continue}ce({type:"slash",value:L,output:y});continue}if(L==="."){if(q.braces>0&&x.type==="dot"){x.value==="."&&(x.output=h);const ye=R[R.length-1];x.type="dots",x.output+=L,x.value+=L,ye.dots=!0;continue}if(q.braces+q.parens===0&&x.type!=="bos"&&x.type!=="slash"){ce({type:"text",value:L,output:h});continue}ce({type:"dot",value:L,output:h});continue}if(L==="?"){if(!(x&&x.value==="(")&&n.noextglob!==!0&&le()==="("&&le(2)!=="?"){et("qmark",L);continue}if(x&&x.type==="paren"){const Re=le();let Ye=L;if(Re==="<"&&!qn.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(x.value==="("&&!/[!=<:]/.test(Re)||Re==="<"&&!/<([!=]|\w+>)/.test(N()))&&(Ye=`\\${L}`),ce({type:"text",value:L,output:Ye});continue}if(n.dot!==!0&&(x.type==="slash"||x.type==="bos")){ce({type:"qmark",value:L,output:j});continue}ce({type:"qmark",value:L,output:A});continue}if(L==="!"){if(n.noextglob!==!0&&le()==="("&&(le(2)!=="?"||!/[!=<:]/.test(le(3)))){et("negate",L);continue}if(n.nonegate!==!0&&q.index===0){z();continue}}if(L==="+"){if(n.noextglob!==!0&&le()==="("&&le(2)!=="?"){et("plus",L);continue}if(x&&x.value==="("||n.regex===!1){ce({type:"plus",value:L,output:g});continue}if(x&&(x.type==="bracket"||x.type==="paren"||x.type==="brace")||q.parens>0){ce({type:"plus",value:L});continue}ce({type:"plus",value:g});continue}if(L==="@"){if(n.noextglob!==!0&&le()==="("&&le(2)!=="?"){ce({type:"at",extglob:!0,value:L,output:""});continue}ce({type:"text",value:L});continue}if(L!=="*"){(L==="$"||L==="^")&&(L=`\\${L}`);const ye=kU.exec(N());ye&&(L+=ye[0],q.index+=ye[0].length),ce({type:"text",value:L});continue}if(x&&(x.type==="globstar"||x.star===!0)){x.type="star",x.star=!0,x.value+=L,x.output=X,q.backtrack=!0,q.globstar=!0,Te(L);continue}let fe=N();if(n.noextglob!==!0&&/^\([^?]/.test(fe)){et("star",L);continue}if(x.type==="star"){if(n.noglobstar===!0){Te(L);continue}const ye=x.prev,Re=ye.prev,Ye=ye.type==="slash"||ye.type==="bos",Xe=Re&&(Re.type==="star"||Re.type==="globstar");if(n.bash===!0&&(!Ye||fe[0]&&fe[0]!=="/")){ce({type:"star",value:L,output:""});continue}const S=q.braces>0&&(ye.type==="comma"||ye.type==="brace"),pe=se.length&&(ye.type==="pipe"||ye.type==="paren");if(!Ye&&ye.type!=="paren"&&!S&&!pe){ce({type:"star",value:L,output:""});continue}for(;fe.slice(0,3)==="/**";){const V=e[q.index+4];if(V&&V!=="/")break;fe=fe.slice(3),Te("/**",3)}if(ye.type==="bos"&&Ce()){x.type="globstar",x.value+=L,x.output=B(n),q.output=x.output,q.globstar=!0,Te(L);continue}if(ye.type==="slash"&&ye.prev.type!=="bos"&&!Xe&&Ce()){q.output=q.output.slice(0,-(ye.output+x.output).length),ye.output=`(?:${ye.output}`,x.type="globstar",x.output=B(n)+(n.strictSlashes?")":"|$)"),x.value+=L,q.globstar=!0,q.output+=ye.output+x.output,Te(L);continue}if(ye.type==="slash"&&ye.prev.type!=="bos"&&fe[0]==="/"){const V=fe[1]!==void 0?"|$":"";q.output=q.output.slice(0,-(ye.output+x.output).length),ye.output=`(?:${ye.output}`,x.type="globstar",x.output=`${B(n)}${y}|${y}${V})`,x.value+=L,q.output+=ye.output+x.output,q.globstar=!0,Te(L+de()),ce({type:"slash",value:"/",output:""});continue}if(ye.type==="bos"&&fe[0]==="/"){x.type="globstar",x.value+=L,x.output=`(?:^|${y}|${B(n)}${y})`,q.output=x.output,q.globstar=!0,Te(L+de()),ce({type:"slash",value:"/",output:""});continue}q.output=q.output.slice(0,-x.output.length),x.type="globstar",x.output=B(n),x.value+=L,q.output+=x.output,q.globstar=!0,Te(L);continue}const ze={type:"star",value:L,output:X};if(n.bash===!0){ze.output=".*?",(x.type==="bos"||x.type==="slash")&&(ze.output=U+ze.output),ce(ze);continue}if(x&&(x.type==="bracket"||x.type==="paren")&&n.regex===!0){ze.output=L,ce(ze);continue}(q.index===q.start||x.type==="slash"||x.type==="dot")&&(x.type==="dot"?(q.output+=k,x.output+=k):n.dot===!0?(q.output+=T,x.output+=T):(q.output+=U,x.output+=U),le()!=="*"&&(q.output+=v,x.output+=v)),ce(ze)}for(;q.brackets>0;){if(n.strictBrackets===!0)throw new SyntaxError(ca("closing","]"));q.output=qn.escapeLast(q.output,"["),ue("brackets")}for(;q.parens>0;){if(n.strictBrackets===!0)throw new SyntaxError(ca("closing",")"));q.output=qn.escapeLast(q.output,"("),ue("parens")}for(;q.braces>0;){if(n.strictBrackets===!0)throw new SyntaxError(ca("closing","}"));q.output=qn.escapeLast(q.output,"{"),ue("braces")}if(n.strictSlashes!==!0&&(x.type==="star"||x.type==="bracket")&&ce({type:"maybe_slash",value:"",output:`${y}?`}),q.backtrack===!0){q.output="";for(const fe of q.tokens)q.output+=fe.output!=null?fe.output:fe.value,fe.suffix&&(q.output+=fe.suffix)}return q};up.fastpaths=(e,t)=>{const n={...t},r=typeof n.maxLength=="number"?Math.min(cl,n.maxLength):cl,i=e.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);e=r0[e]||e;const s=qn.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:c,ONE_CHAR:u,DOTS_SLASH:d,NO_DOT:p,NO_DOTS:h,NO_DOTS_SLASH:g,STAR:y,START_ANCHOR:v}=ll.globChars(s),w=n.dot?h:p,_=n.dot?g:p,k=n.capture?"":"?:",T={negated:!1,prefix:""};let A=n.bash===!0?".*?":y;n.capture&&(A=`(${A})`);const j=U=>U.noglobstar===!0?A:`(${k}(?:(?!${v}${U.dot?d:o}).)*?)`,P=U=>{switch(U){case"*":return`${w}${u}${A}`;case".*":return`${o}${u}${A}`;case"*.*":return`${w}${A}${o}${u}${A}`;case"*/*":return`${w}${A}${c}${u}${_}${A}`;case"**":return w+j(n);case"**/*":return`(?:${w}${j(n)}${c})?${_}${u}${A}`;case"**/*.*":return`(?:${w}${j(n)}${c})?${_}${A}${o}${u}${A}`;case"**/.*":return`(?:${w}${j(n)}${c})?${o}${u}${A}`;default:{const Y=/^(.*?)\.(\w+)$/.exec(U);if(!Y)return;const X=P(Y[1]);return X?X+o+Y[2]:void 0}}},O=qn.removePrefix(e,T);let B=P(O);return B&&n.strictSlashes!==!0&&(B+=`${c}?`),B};var EU=up;const TU=sp,AU=_U,cd=EU,dp=jo,IU=jl,jU=e=>e&&typeof e=="object"&&!Array.isArray(e),sn=(e,t,n=!1)=>{if(Array.isArray(e)){const p=e.map(g=>sn(g,t,n));return g=>{for(const y of p){const v=y(g);if(v)return v}return!1}}const r=jU(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");const i=t||{},s=dp.isWindows(t),o=r?sn.compileRe(e,t):sn.makeRe(e,t,!1,!0),c=o.state;delete o.state;let u=()=>!1;if(i.ignore){const p={...t,ignore:null,onMatch:null,onResult:null};u=sn(i.ignore,p,n)}const d=(p,h=!1)=>{const{isMatch:g,match:y,output:v}=sn.test(p,o,t,{glob:e,posix:s}),w={glob:e,state:c,regex:o,posix:s,input:p,output:v,match:y,isMatch:g};return typeof i.onResult=="function"&&i.onResult(w),g===!1?(w.isMatch=!1,h?w:!1):u(p)?(typeof i.onIgnore=="function"&&i.onIgnore(w),w.isMatch=!1,h?w:!1):(typeof i.onMatch=="function"&&i.onMatch(w),h?w:!0)};return n&&(d.state=c),d};sn.test=(e,t,n,{glob:r,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const s=n||{},o=s.format||(i?dp.toPosixSlashes:null);let c=e===r,u=c&&o?o(e):e;return c===!1&&(u=o?o(e):e,c=u===r),(c===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?c=sn.matchBase(e,t,n,i):c=t.exec(u)),{isMatch:!!c,match:c,output:u}};sn.matchBase=(e,t,n,r=dp.isWindows(n))=>(t instanceof RegExp?t:sn.makeRe(t,n)).test(TU.basename(e));sn.isMatch=(e,t,n)=>sn(t,n)(e);sn.parse=(e,t)=>Array.isArray(e)?e.map(n=>sn.parse(n,t)):cd(e,{...t,fastpaths:!1});sn.scan=(e,t)=>AU(e,t);sn.compileRe=(e,t,n=!1,r=!1)=>{if(n===!0)return e.output;const i=t||{},s=i.contains?"":"^",o=i.contains?"":"$";let c=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(c=`^(?!${c}).*$`);const u=sn.toRegex(c,t);return r===!0&&(u.state=e),u};sn.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=cd.fastpaths(e,t)),i.output||(i=cd(e,t)),sn.compileRe(i,t,n,r)};sn.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&t.debug===!0)throw n;return/$^/}};sn.constants=IU;var RU=sn,OU=RU;const i0=Wx,a0=Q6,zr=OU,ud=jo,Kg=e=>e===""||e==="./",o0=e=>{const t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},Lt=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,i=new Set,s=new Set,o=0,c=p=>{s.add(p.output),n&&n.onResult&&n.onResult(p)};for(let p=0;p<t.length;p++){let h=zr(String(t[p]),{...n,onResult:c},!0),g=h.state.negated||h.state.negatedExtglob;g&&o++;for(let y of e){let v=h(y,!0);(g?!v.isMatch:v.isMatch)&&(g?r.add(v.output):(r.delete(v.output),i.add(v.output)))}}let d=(o===t.length?[...s]:[...i]).filter(p=>!r.has(p));if(n&&d.length===0){if(n.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(n.nonull===!0||n.nullglob===!0)return n.unescape?t.map(p=>p.replace(/\\/g,"")):t}return d};Lt.match=Lt;Lt.matcher=(e,t)=>zr(e,t);Lt.isMatch=(e,t,n)=>zr(t,n)(e);Lt.any=Lt.isMatch;Lt.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,i=[],s=c=>{n.onResult&&n.onResult(c),i.push(c.output)},o=new Set(Lt(e,t,{...n,onResult:s}));for(let c of i)o.has(c)||r.add(c);return[...r]};Lt.contains=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${i0.inspect(e)}"`);if(Array.isArray(t))return t.some(r=>Lt.contains(e,r,n));if(typeof t=="string"){if(Kg(e)||Kg(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Lt.isMatch(e,t,{...n,contains:!0})};Lt.matchKeys=(e,t,n)=>{if(!ud.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=Lt(Object.keys(e),t,n),i={};for(let s of r)i[s]=e[s];return i};Lt.some=(e,t,n)=>{let r=[].concat(e);for(let i of[].concat(t)){let s=zr(String(i),n);if(r.some(o=>s(o)))return!0}return!1};Lt.every=(e,t,n)=>{let r=[].concat(e);for(let i of[].concat(t)){let s=zr(String(i),n);if(!r.every(o=>s(o)))return!1}return!0};Lt.all=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${i0.inspect(e)}"`);return[].concat(t).every(r=>zr(r,n)(e))};Lt.capture=(e,t,n)=>{let r=ud.isWindows(n),s=zr.makeRe(String(e),{...n,capture:!0}).exec(r?ud.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};Lt.makeRe=(...e)=>zr.makeRe(...e);Lt.scan=(...e)=>zr.scan(...e);Lt.parse=(e,t)=>{let n=[];for(let r of[].concat(e||[]))for(let i of a0(String(r),t))n.push(zr.parse(i,t));return n};Lt.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!o0(e)?[e]:a0(e,t)};Lt.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Lt.braces(e,{...t,expand:!0})};Lt.hasBraces=o0;var zU=Lt;const FU=gi(zU),MU=[".ts",".tsx",".js",".jsx",".md",".json"],Au=5e3,NU=["**/node_modules/**","**/.git/**","**/.next/**","**/dist/**","**/build/**","**/.cache/**","**/coverage/**","**/test/**","**/__tests__/**","**/*.test.*","**/*.spec.*"],s0=(e,t=[])=>FU.isMatch(e,[...NU,...t])?!1:MU.some(n=>e.toLowerCase().endsWith(n)),l0=e=>{const t=e.split(`
`);return t.length<=Au?e:`${t.slice(0,Au).join(`
`)}

// ... [${t.length-Au} lines truncated, file too long] ...

`};async function PU(e,t={}){const r=await new c6().loadAsync(e),i=[];return await Promise.all(Object.keys(r.files).map(async s=>{const o=r.files[s];if(!(o.dir||!s0(s,t.ignorePatterns)))try{const c=await o.async("string");i.push({path:s,content:l0(c)})}catch(c){console.warn(`Failed to read file ${s}:`,c)}})),i.sort((s,o)=>s.path.localeCompare(o.path))}async function $U(e,t={}){const n=[];let r="Project";if(e.length>0){const o=(e[0].webkitRelativePath||"").split("/");o.length>0&&o[0]&&(r=o[0])}return await Promise.all(Array.from(e).map(async i=>{const s=i.webkitRelativePath||i.name;if(s0(s,t.ignorePatterns))try{const o=await i.text();n.push({path:s.includes("/")?s.substring(s.indexOf("/")+1):s,content:l0(o)})}catch(o){console.warn(`Failed to read file ${s}:`,o)}})),{files:n.sort((i,s)=>i.path.localeCompare(s.path)),projectName:r}}async function DU(e,t={}){const n=e.name.replace(".zip","");return{files:await PU(e,t),projectName:n}}function LU({onSuccess:e,onError:t}={}){const[n,r]=W.useState(null),[i,s]=W.useState(!1),{fetch:o,isPending:c,error:u}=Q5(),{id:d}=hr(),p=async(y,v)=>{const w=await o({body:{chatId:d,name:y,type:"code",files:v}});if(!w?.data)throw new Error("Failed to upload project");return w.data};return{processZipFile:async y=>{try{r(null),s(!0);const{files:v,projectName:w}=await DU(y,{ignorePatterns:["**/node_modules/**"]}),_=await p(w,v);return e?.({..._,id:ol(),status:"ready"},w),_}catch(v){throw r("Failed to process zip file"),t?.("Failed to process zip file"),console.error("Error processing zip:",v),v}finally{s(!1)}},processFolder:async y=>{try{r(null),s(!0);const{files:v,projectName:w}=await $U(y,{ignorePatterns:["**/node_modules/**"]}),_=await p(w,v);return e?.({..._,id:ol(),status:"ready"},w),_}catch(v){throw r("Failed to process folder"),t?.("Failed to process folder"),console.error("Error processing folder:",v),v}finally{s(!1)}},isLoading:i||c,error:u||n}}const Bn=()=>{const{formatMessage:e}=mt();return{t:(n,r)=>e({id:n,defaultMessage:r})}},c0=W.createContext({isCodeUploadOpen:!1,submitOnFinish:!1,openCodeUpload:()=>{},closeCodeUpload:()=>{}}),pp=()=>W.useContext(c0),BU=({children:e})=>{const[t,n]=W.useState(!1),[r,i]=W.useState(!1),s=c=>{n(!0),i(c??!1)},o=()=>n(!1);return m.jsxs(c0.Provider,{value:{isCodeUploadOpen:t,submitOnFinish:r,openCodeUpload:s,closeCodeUpload:o},children:[t&&m.jsx(HU,{}),e]})},Yg=({importType:e,onAddFiles:t,error:n})=>{const[r,i]=W.useState(!1),s=W.useRef(null),{t:o}=Bn(),c=v=>{v.preventDefault()},u=v=>{v.preventDefault(),i(!0)},d=()=>i(!1),p=v=>{v.preventDefault(),s.current?.click()},h=()=>{const v=s.current?.files;v&&t(Array.from(v))},g=async v=>{const w=v.createReader(),_=()=>new Promise((A,j)=>{w.readEntries(A,j)}),k=[];let T=[];do{T=await _();for(const A of T)if(A.isFile){const j=A,P=await new Promise((O,B)=>{j.file(O,B)});Object.defineProperty(P,"webkitRelativePath",{writable:!0,value:A.fullPath.substring(1)}),k.push(P)}else if(A.isDirectory){const P=await g(A);k.push(...P)}}while(T.length>0);return k},y=async v=>{if(v.preventDefault(),i(!1),!!v.dataTransfer?.items)if(e==="folder"){const w=v.dataTransfer.items,_=[];for(let k=0;k<w.length;k++){const A=w[k].webkitGetAsEntry?.();if(A){if(A.isDirectory){const j=await g(A);_.push(...j)}else if(A.isFile){const j=await new Promise((P,O)=>{A.file(P,O)});_.push(j)}}}_.length>0&&t(_)}else v.dataTransfer.files&&t(Array.from(v.dataTransfer.files))};return m.jsxs(Ee,{position:"relative",cursor:"pointer",width:"100%",height:"100%",minHeight:"140px",borderStyle:"dashed",borderColor:r?"primary500":n?"danger600":"neutral200",background:r?"primary100":n?"danger100":"neutral100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,onDragEnter:u,onDragLeave:d,onDragOver:c,onDrop:y,children:[e==="zip"?m.jsx(Av,{width:"24px",height:"24px"}):m.jsx(_d,{width:"24px",height:"24px"}),m.jsxs(Ee,{direction:"column",alignItems:"center",gap:2,children:[m.jsxs(Fe,{variant:"omega",textColor:"neutral600",textAlign:"center",children:[e==="zip"?o("chat.code-upload.drop-zone","Drop here a .zip file here or"):o("chat.code-upload.drop-zone-folder","Drop here a folder here or")," ",m.jsx(Fe,{variant:"omega",textColor:"primary600",onClick:p,children:o("chat.code-upload.drop-zone-browse","browse files")})]}),n&&m.jsx(Fe,{variant:"pi",textColor:"danger600",children:n})]}),m.jsx(Me,{tag:"input",position:"absolute",left:0,right:0,bottom:0,top:0,width:"100%",name:"code","aria-label":"Upload project",tabIndex:-1,zIndex:1,ref:s,onChange:h,style:{opacity:0,cursor:"pointer"},type:"file",...e==="zip"?{accept:".zip",multiple:!1}:{multiple:!0,webkitdirectory:"",directory:""}})]})},UU=({setFileName:e,error:t,processZipFile:n,processFolder:r})=>{const{t:i}=Bn(),{nextStep:s}=Hx();return m.jsxs(Ee,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[m.jsxs(Ee,{direction:"column",gap:2,alignItems:"start",children:[m.jsx(Fe,{variant:"beta",children:i("chat.code-upload.title","Import code")}),m.jsx(Fe,{variant:"omega",textColor:"neutral600",children:i("chat.code-upload.description","Your app will be analyzed by AI. Make sure to remove all sensitive data before importation.")})]}),m.jsxs(Ee,{gap:3,width:"100%",wrap:"wrap",children:[m.jsx(Me,{flex:1,minWidth:"200px",children:m.jsx(Yg,{importType:"zip",onAddFiles:o=>{if(o.length>0){const c=o[0];e(c.name.replace(".zip","")),s(),n(c)}},error:t})}),m.jsx(Me,{flex:1,minWidth:"200px",children:m.jsx(Yg,{importType:"folder",onAddFiles:async o=>{if(o.length>0)try{const d=(o[0].webkitRelativePath||"").split("/")[0]||"Project";e(d),s(),await r(o)}catch(c){console.error("Error processing folder:",c)}},error:t})})]})]})},ZU=({projectName:e,isLoading:t,error:n})=>{const{t:r}=Bn();return m.jsxs(Ee,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[m.jsxs(Ee,{direction:"column",gap:2,alignItems:"start",children:[m.jsx(Fe,{variant:"beta",children:r("chat.code-upload.confirmation-title","Confirm Code Import")}),m.jsx(Fe,{variant:"omega",textColor:"neutral600",children:r("chat.code-upload.confirmation-description","Your code is ready to be imported. Click finish to add it to your chat.")})]}),m.jsx(Me,{width:"100%",children:m.jsx(Rd,{attachment:{id:ol(),status:t?"loading":"ready",filename:e||"",url:"",type:"file",mediaType:sy},error:n,minWidth:"256px"})})]})},HU=()=>{const[e,t]=W.useState(null),[n,r]=W.useState(null),{t:i}=Bn(),{addAttachments:s}=Io(),{processZipFile:o,processFolder:c,isLoading:u,error:d}=LU({onSuccess:j=>r(j)}),{isCodeUploadOpen:p,closeCodeUpload:h,submitOnFinish:g}=pp(),{sendMessage:y,openChat:v,input:w,setInput:_}=hr(),k=()=>{t(null),r(null),h()},T=async()=>{v(),n&&g?y({role:"user",parts:[{type:"text",text:"Create schemas from my uploaded project"},n]}):n&&(w||_("Create schemas from my uploaded project"),s([n])),h()},A=()=>!!n;return m.jsxs(Pi,{open:p,onOpenChange:j=>{j||k()},title:i("chat.code-upload.header","Import code"),onCancel:k,onComplete:T,children:[m.jsx(Pi.Step,{title:i("chat.code-upload.step1-title","Import code"),nextLabel:i("chat.code-upload.continue-button","Continue"),cancelLabel:i("common.cancel","Cancel"),disableNext:!n||u,onNext:A,children:m.jsx(UU,{setFileName:t,error:d,processZipFile:o,processFolder:c})}),m.jsx(Pi.Step,{title:i("chat.code-upload.step2-title","Confirm"),nextLabel:i("common.finish","Finish"),backLabel:i("form.button.back","Back"),disableNext:!n||u,children:m.jsx(ZU,{projectName:e,isLoading:u,error:d})})]})},qU=vt(Me)`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 160px;
  width: 100%;
  border-radius: 4px 4px 0 0;
  overflow: hidden;
  cursor: pointer;
`,WU=vt(jd)`
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  // make it appear gracefully when first rendering
  animation: ${pa.fadeIn} 0.3s ease;
`,VU=vt(sT)`
  height: 100%;
  width: 100%;
  ${({$selected:e,theme:t})=>e?`
      border: 2px solid ${t.colors.primary600};
      outline: 0px solid transparent;
    `:`
      border: 2px solid transparent;
      outline: 1px solid ${t.colors.neutral200};
    `}
  transition: all 0.2s ease-in-out;
`,GU=({imageUrl:e,imageName:t,selected:n=!1,onSelect:r})=>m.jsx(Us.Root,{src:e,alt:t,children:m.jsxs(VU,{role:"button",$selected:n,children:[m.jsxs(tT,{children:[m.jsx(nT,{checked:n,onCheckedChange:r}),m.jsx(rT,{position:"end",children:m.jsx(Us.Trigger,{children:m.jsx(pr,{label:"Preview",type:"button",children:m.jsx(Iv,{})})})}),m.jsx(qU,{onClick:r,children:m.jsx(WU,{src:e,alt:t})})]}),m.jsx(iT,{children:m.jsx(aT,{children:m.jsx(oT,{children:t})})})]})}),u0="strapi-ai-figma-token",fp=()=>{try{return localStorage.getItem(u0)||""}catch(e){return console.error("Error accessing localStorage:",e),""}},JU=e=>{try{localStorage.setItem(u0,e)}catch(t){console.error("Error saving to localStorage:",t)}},dd=()=>!!fp(),KU=e=>{const t=/figma\.com\/(?:file|design)\/([a-zA-Z0-9]+)\/.*[?&]node-id=([^&]+)/,n=e.match(t);if(!n)throw new Error("Invalid Figma URL");const r=n[1],i=decodeURIComponent(n[2]).replace(/-/g,":");return{fileKey:r,nodeId:i}},d0=()=>{const e=fp();if(!e)throw new Error("Figma API token is required");return e},YU=async(e,t)=>{const n=d0();try{const r=`https://api.figma.com/v1/files/${e}/nodes?ids=${t}`,i=await fetch(r,{headers:{"X-Figma-Token":n}});if(!i.ok)throw new Error(`Figma API error: ${i.status} ${i.statusText}`);return(await i.json()).nodes[t]}catch(r){const i=r instanceof Error?r.message:"Failed to fetch Figma data";throw new Error(i)}},p0=e=>{const t=[];if(e.type==="FRAME")return t.push({id:e.id,name:e.name}),t;if(e.children&&e.children.length>0)for(const n of e.children)t.push(...p0(n));return t},XU=async(e,t)=>{const n=d0();if(t.length===0)return{images:{}};try{const r=t.slice(0,50).join(","),i=`https://api.figma.com/v1/images/${e}?ids=${r}&format=png&scale=0.4`,s=await fetch(i,{headers:{"X-Figma-Token":n}});if(!s.ok){const c=await s.text();throw new Error(`Figma API image error: ${s.status} ${s.statusText} - ${c}`)}const o=await s.json();if(o.err)throw new Error(`Figma API image error: ${o.err}`);return o}catch(r){const i=r instanceof Error?r.message:"Failed to fetch Figma node images";throw new Error(i)}};function QU({onSuccess:e,onError:t}={}){const[n,r]=W.useState(!1),[i,s]=W.useState(null);return{processFigmaUrl:async c=>{try{if(!dd()){const k="Figma API token is required";throw s(k),t?.(k),new Error(k)}r(!0),s(null);const{fileKey:u,nodeId:d}=KU(c),p=await YU(u,d);if(!p.document)return;const h=p0(p.document),g=new Map(h.map(k=>[k.id,k.name])),y=h.map(k=>k.id),w=(await XU(u,y)).images,_=Object.entries(w).map(([k,T])=>({id:k,type:"file",filename:g.get(k),mediaType:"image/png",url:T,status:"ready"}));return e?.(_),_}catch(u){const d=u instanceof Error?u.message:"Unknown error processing Figma URL";throw s(d),t?.(d),console.error("Error processing Figma URL:",u),u}finally{r(!1)}},isLoading:n,error:i}}const f0=W.createContext({isFigmaUploadOpen:!1,submitOnFinish:!1,openFigmaUpload:()=>{},closeFigmaUpload:()=>{}}),hp=()=>{const e=W.useContext(f0);if(!e)throw new Error("useUploadFigmaToChat must be used within an UploadFigmaToChatProvider");return e},e3=({children:e})=>{const[t,n]=W.useState(!1),[r,i]=W.useState(!1),s=c=>{n(!0),i(c??!1)},o=()=>n(!1);return m.jsxs(f0.Provider,{value:{isFigmaUploadOpen:t,submitOnFinish:r,openFigmaUpload:s,closeFigmaUpload:o},children:[t&&m.jsx(r3,{}),e]})},t3=({figmaUrl:e,setFigmaUrl:t})=>{const{t:n}=Bn(),{isLoading:r}=Hx(),[i,s]=W.useState(!dd()),[o,c]=W.useState(fp),u=()=>{o.trim()&&(JU(o),s(!1))};return i?m.jsxs(Ee,{direction:"column",gap:6,alignItems:"start",children:[m.jsxs(Ee,{direction:"column",gap:2,alignItems:"start",children:[m.jsx(Fe,{variant:"beta",children:n("chat.figma-upload.token-title","Enter Figma API Token")}),m.jsx(Fe,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.token-description","To access your Figma designs, you need to provide a personal access token. This will be stored securely in your browser.")}),m.jsx(dl,{href:"https://help.figma.com/hc/en-us/articles/8085703771159-Manage-personal-access-tokens",isExternal:!0,children:n("chat.figma-upload.token-help","How to get a Figma API token")})]}),m.jsx(Me,{width:"100%",children:m.jsx(Gr,{name:"figma-token",placeholder:n("chat.figma-upload.token-placeholder","Enter Figma API token"),"aria-label":n("chat.figma-upload.token-placeholder","Enter Figma API token"),value:o,onChange:d=>c(d.target.value),width:"100%",disabled:r,type:"password"})}),m.jsxs(Ee,{gap:2,children:[m.jsx(gt,{onClick:u,disabled:!o.trim(),variant:"secondary",children:n("chat.figma-upload.save-token","Save token")}),m.jsx(gt,{onClick:()=>s(!1),variant:"tertiary",disabled:!dd(),children:n("chat.figma-upload.cancel","Cancel")})]})]}):m.jsxs(Ee,{direction:"column",gap:6,alignItems:"start",children:[m.jsxs(Ee,{direction:"column",gap:2,alignItems:"start",width:"100%",children:[m.jsxs(Ee,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[m.jsx(Fe,{variant:"beta",children:n("chat.figma-upload.title","Import Figma Design")}),m.jsx(gt,{onClick:()=>s(!0),variant:"tertiary",size:"S",children:n("chat.figma-upload.edit-token","Edit API token")})]}),m.jsx(Fe,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.description","Ask to turn your designs into schemas by attaching a link to one or multiple frames in your Figma files. (Max 15 frames)")})]}),m.jsx(Me,{width:"100%",children:m.jsx(Gr,{name:"figma-url",placeholder:n("chat.figma-upload.url-placeholder","Enter Figma URL"),"aria-label":n("chat.figma-upload.url-placeholder","Enter Figma URL"),value:e,onChange:d=>t(d.target.value),width:"100%",disabled:r,type:"url"})})]})},n3=({images:e,selectedImages:t,setSelectedImages:n})=>{const{t:r}=Bn(),i=()=>{if(t.length===e.length)n([]);else{const o=e.map(c=>c.id);n(o)}};if(e.length===0)return m.jsx(Ee,{direction:"column",gap:4,alignItems:"center",padding:4,children:m.jsx(Fe,{variant:"omega",children:r("chat.figma-upload.no-images","No frames found in the Figma file.")})});const s=o=>{const c=t.includes(o)?t.filter(u=>u!==o):[...t,o];n(c)};return m.jsxs(Ee,{direction:"column",gap:4,alignItems:"start",width:"100%",height:"min(45vh, 400px)",children:[m.jsxs(Ee,{justifyContent:"space-between",width:"100%",alignItems:"center",children:[m.jsx(Fe,{variant:"beta",children:r("chat.figma-upload.select-images","Select Frames to Import")}),m.jsxs(Ee,{gap:3,alignItems:"center",children:[m.jsxs(Fe,{children:[t.length," of ",e.length," selected"]}),m.jsx(gt,{onClick:i,type:"button",variant:"secondary",children:t.length===e.length?r("chat.figma-upload.deselect-all","Deselect All"):r("chat.figma-upload.select-all","Select All")})]})]}),m.jsx(Me,{paddingRight:4,width:"100%",style:{overflowY:"auto"},children:m.jsx(dr.Root,{gap:4,children:e.map((o,c)=>{const u=t.includes(o.id);return m.jsx(dr.Item,{col:6,xs:12,padding:"1px",children:m.jsx(GU,{imageUrl:o.url,imageName:o.filename||`Frame ${c+1}`,selected:u,onSelect:()=>s(o.id)})},o.id)})})})]})},r3=()=>{const[e,t]=W.useState(""),[n,r]=W.useState([]),[i,s]=W.useState([]),{t:o}=Bn(),{addAttachments:c}=Io(),{isFigmaUploadOpen:u,closeFigmaUpload:d,submitOnFinish:p}=hp(),{input:h,setInput:g,setMessages:y,sendMessage:v,openChat:w}=hr(),{processFigmaUrl:_,isLoading:k,error:T}=QU({onSuccess:B=>{r(B);const U=B.slice(0,15).map(Y=>Y.id);s(U)}}),A=async()=>(await _(e),!0),j=B=>{if(!B)return!1;try{const U=new URL(B);return U.hostname==="www.figma.com"||U.hostname==="figma.com"}catch{return!1}},P=()=>{t(""),r([]),s([]),d()},O=()=>{const B=n.filter(U=>i.includes(U.id));if(B.length===0){d();return}w(),p?(v({role:"user",parts:[{type:"text",text:"Create schemas from the attached images"},...B]}),d()):(h||g("Create schemas from the attached images"),c(B),d())};return m.jsxs(Pi,{open:u,onOpenChange:B=>{B||P()},title:o("chat.figma-upload.header","Import from Figma"),onCancel:P,onComplete:O,children:[m.jsx(Pi.Step,{title:o("chat.figma-upload.step1-title","Enter Figma URL"),nextLabel:o("chat.figma-upload.import-button","Import"),cancelLabel:o("form.button.cancel","Cancel"),disableNext:!e||k||!j(e),onNext:A,children:m.jsx(t3,{figmaUrl:e,setFigmaUrl:t,error:T})}),m.jsx(Pi.Step,{title:o("chat.figma-upload.step2-title","Preview Images"),nextLabel:o("form.button.finish","Finish"),backLabel:o("form.button.back","Back"),disableNext:i.length===0,children:m.jsx(n3,{images:n,selectedImages:i,setSelectedImages:s})})]})},i3={create:"NEW",remove:"REMOVED",update:"CHANGED"},Iu=(e,t,n)=>({...t,name:e,status:n}),a3=(e,t,n)=>{if(!t||n?.status==="NEW")return"NEW";const r=Ls(e,["status"]),i=Ls(t,["status"]);return fo(r,i)?t.status:"CHANGED"},Xg=(e,t)=>e.action?i3[e.action]:t?t.status:"NEW",Qg=({action:e,attributes:t},n)=>{if(e==="create"||!n)return Object.entries(t).map(([o,c])=>Iu(o,c,"NEW"));const r=n.attributes.reduce((o,c)=>({...o,[c.name]:c}),{}),i=Object.entries(t).map(([o,c])=>{const u=r[o],d=a3({...c,name:o},u,n);return Iu(o,c,d)});if(n?.status==="NEW")return i;const s=Object.entries(r).filter(([o])=>!t[o]).map(([o,c])=>Iu(o,c,"REMOVED"));return[...i,...s]},o3=(e,t)=>{const n=xa.singular(e.name).toLowerCase().replace(/ /g,"-"),r=xa.plural(e.name).toLowerCase().replace(/ /g,"-");return e.modelType==="component"?{category:e.category||"default",modelName:n,attributes:Qg(e,t),info:{displayName:e.name,description:e.description},modelType:e.modelType,uid:e.uid,collectionName:r,status:Xg(e,t),globalId:n}:{uid:e.uid,modelType:e.modelType,modelName:n,kind:e.kind,info:{displayName:e.name.charAt(0).toUpperCase()+e.name.slice(1),singularName:t?.info?.singularName||n,pluralName:t?.info?.pluralName||r},collectionName:r,attributes:Qg(e,t),options:{draftAndPublish:e.options?.draftAndPublish??!1},pluginOptions:{i18n:{localized:e.options?.localized??!1}},visible:!0,status:Xg(e,t),globalId:n,restrictRelationsTo:null}},s3=W.createContext(void 0),l3={create:"add",update:"update",remove:"delete"};function c3(e){if(e.role!=="assistant")return[];const t=[];return e.parts?.forEach((n,r)=>{if(n&&typeof n=="object"&&n.type==="tool-schemaGenerationTool"){const i=n.output;if(!i||i.error||!Array.isArray(i.schemas))return;const s=n.toolCallId??`${e.id}-${r}`;i.schemas.forEach((o,c)=>{const u=`${s}-${o.uid??o.name??c}`,d=o.action||"update";t.push({type:d,schema:o,revisionId:u})})}}),t}const u3=({children:e})=>{const[t,n]=W.useState(null),{messages:r,status:i}=hr(),{contentTypes:s,components:o,applyChange:c}=Yn(),u=Di("SchemaChatProvider",p=>p.dispatch),d=Di("SchemaChatProvider",p=>p.state);return W.useEffect(()=>{const p=r[r.length-1];if(!p||p.role!=="assistant"||i!=="ready")return;const h=c3(p),g=d.completedActions.includes(Bs.contentTypeBuilder.addField);h.forEach(y=>{const v=s[y.schema.uid]||o[y.schema.uid],w=o3(y.schema,v);!g&&y.schema.attributes&&y.type!=="remove"&&Object.keys(y.schema.attributes).length>0&&u({type:"set_completed_actions",payload:[Bs.contentTypeBuilder.addField]}),c({action:l3[y.type],schema:w})}),n(p.id)},[r]),m.jsx(s3.Provider,{value:{lastRevisedId:t,setLastRevisedId:n},children:e})},h0=W.createContext(void 0),ev=()=>Math.random().toString(36).substring(2,15),d3=({children:e,defaultOpen:t=!1})=>{const[n,r]=W.useState(ev()),[i,s]=W.useState(t),[o,c]=W.useState(0),[u,d]=W.useState(""),[p,h]=W.useState([]),{trackUsage:g}=Ea(),{components:y,contentTypes:v}=Yn(),{lastSeenSchemas:w}=o6(),_=W.useMemo(()=>[...Object.values(v).filter(R=>R.status!=="REMOVED").filter(R=>R.uid!=="plugin::users-permissions.user").filter(R=>R.visible).map(Ag),...Object.values(y).filter(R=>R.status!=="REMOVED").map(Ag)],[v,y]),{id:k,messages:T,sendMessage:A,status:j,stop:P,...O}=n6({id:n?.toString(),experimental_throttle:100}),B=async(R,G)=>{if(!(j==="streaming"||j==="submitted"))return A(R,{...G,body:{...G?.body,schemas:_,metadata:{lastSeenSchemas:w.map(x=>x.uid)}}})},U=R=>{if(R.preventDefault(),j==="streaming"||j==="submitted")return;const G=p.filter(L=>L.status!=="loading");if(u.trim().length===0&&p.length===0)return;const x=G.map(L=>({type:"file",filename:L.filename,mediaType:L.mediaType,url:L.url}));B({text:u,files:x}),d(""),h([])},{title:Y,generateTitle:X,resetTitle:q}=r6({chatId:k,messages:T});W.useEffect(()=>{T.length>=1&&!Y&&X()},[T.length,Y,X]),W.useEffect(()=>{j==="error"?g("didAnswerMessage",{successful:!1}):j==="ready"&&T.length>0&&T[T.length-1]?.role==="assistant"&&g("didAnswerMessage",{successful:!0})},[j,T,g]);const se=jv();return m.jsx(h0.Provider,{value:{isChatEnabled:se,id:k,status:j,stop:P,sendMessage:B,...O,messages:T,handleSubmit:U,input:u,setInput:d,handleInputChange:R=>d(R.target.value),reset:()=>{P(),r(ev()),g("didStartNewChat"),q()},schemas:_,title:Y,isChatOpen:i,openChat:()=>{s(!0),o===0&&g("didStartNewChat"),c(R=>R+1)},closeChat:()=>s(!1),attachments:p,setAttachments:h},children:e})},p3=({children:e,defaultOpen:t=!1})=>m.jsx(d3,{defaultOpen:t,children:m.jsx(u3,{children:m.jsx(BU,{children:m.jsx(e3,{children:m.jsx(f3,{children:e})})})})});function hr(){const e=W.useContext(h0);return e===void 0?(console.warn("useStrapiChat was called outside of ChatProvider. This is only allowed in development mode."),{}):e}const m0=()=>{const{fetch:e,isPending:t,error:n}=e6(),{id:r,messages:i,schemas:s}=hr(),{toggleNotification:o}=Sa(),{trackUsage:c}=Ea(),{t:u}=Bn(),[d,p]=W.useState({}),h=v=>!!d[v];return{upvoteMessage:v=>h(v)?Promise.resolve():(c("didVoteAnswer",{value:"positive"}),o({type:"success",message:u("chat.feedback.submitted","Thank you for your feedback! ")}),p(w=>({...w,[v]:"upvote"})),e({body:{type:"upvote",chatId:r,messageId:v,messages:i,schemas:s}})),downvoteMessage:(v,w,_)=>(c("didVoteAnswer",{value:"negative"}),o({type:"success",message:u("chat.feedback.submitted","Thank you for your feedback! ")}),e({body:{type:"downvote",chatId:r,messageId:v,messages:i,feedback:w,reasons:_,schemas:s}})),isPending:t,error:n}},g0=W.createContext({isFeedbackModalOpen:!1,currentMessageId:null,openFeedbackModal:()=>{},closeFeedbackModal:()=>{}}),v0=()=>W.useContext(g0),f3=({children:e})=>{const[t,n]=W.useState(!1),[r,i]=W.useState(null),s=c=>{i(c),n(!0)},o=()=>{n(!1),i(null)};return m.jsxs(g0.Provider,{value:{isFeedbackModalOpen:t,currentMessageId:r,openFeedbackModal:s,closeFeedbackModal:o},children:[t&&r&&m.jsx(g3,{}),e]})},h3=vt(Ee)`
  &:hover {
    background-color: ${({theme:e})=>e.colors.neutral100};
  }

  &.selected {
    background-color: ${({theme:e})=>e.colors.primary100};
    border-color: ${({theme:e})=>e.colors.primary200};
  }
`,m3=({id:e,label:t,selected:n,onClick:r})=>m.jsxs(h3,{className:n?"selected":"",justifyContent:"space-between",hasRadius:!0,width:"100%",cursor:"pointer",borderColor:"neutral200",padding:3,gap:3,onClick:()=>r(e),children:[m.jsx(Fe,{variant:"omega",fontWeight:"bold",children:t}),m.jsx(pl,{name:`feedback-${e}`,value:e,checked:n,onChange:()=>r(e)})]}),g3=()=>{const[e,t]=W.useState(""),[n,r]=W.useState([]),{t:i}=Bn(),{toggleNotification:s}=Sa(),{closeFeedbackModal:o,currentMessageId:c}=v0(),{downvoteMessage:u,isPending:d}=m0(),p=[{id:"invalid_schema",label:i("chat.feedback.reason.invalid_schema","Invalid schema")},{id:"bad_recommendation",label:i("chat.feedback.reason.bad_recommendation","Bad recommendation")},{id:"slow",label:i("chat.feedback.reason.slow","Slow")},{id:"instructions_ignored",label:i("chat.feedback.reason.instructions_ignored","Instructions ignored")},{id:"being_lazy",label:i("chat.feedback.reason.being_lazy","Being lazy")},{id:"other",label:i("chat.feedback.reason.other","Other")}],h=y=>{r(v=>v.includes(y)?v.filter(w=>w!==y):[...v,y])},g=async()=>{if(n.length!==0)try{await u(c,e,n),t(""),r([]),o()}catch{s({type:"danger",message:i("chat.feedback.error","An error occurred while submitting your feedback")})}};return m.jsx(fn.Root,{open:!0,onOpenChange:o,children:m.jsxs(fn.Content,{children:[m.jsx(fn.Header,{children:m.jsx(Fe,{variant:"omega",fontWeight:"bold",children:i("chat.feedback.title","Give feedback")})}),m.jsx(fn.Body,{children:m.jsxs(Ee,{direction:"column",alignItems:"start",gap:6,width:"100%",children:[m.jsxs(Ee,{direction:"column",alignItems:"start",gap:2,children:[m.jsx(Fe,{variant:"beta",fontWeight:"bold",children:i("chat.feedback.title","Give feedback")}),m.jsx(Fe,{variant:"omega",children:i("chat.feedback.subtitle","Provide additional feedback on this message. Select all that apply.")})]}),m.jsx(dr.Root,{width:"100%",gap:2,children:p.map(y=>m.jsx(dr.Item,{col:6,xs:12,children:m.jsx(m3,{id:y.id,label:y.label,selected:n.includes(y.id),onClick:h},y.id)},y.id))}),m.jsxs(Ee,{direction:"column",gap:2,width:"100%",alignItems:"start",children:[m.jsx(Fe,{variant:"omega",children:i("chat.feedback.comment.label","How can we improve? (optional)")}),m.jsx(Me,{width:"100%",children:m.jsx(kd,{name:"feedback",placeholder:i("chat.feedback.placeholder","Your feedback..."),onChange:y=>t(y.target.value),value:e})})]})]})}),m.jsxs(fn.Footer,{children:[m.jsx(fn.Close,{children:m.jsx(gt,{variant:"tertiary",onClick:o,children:i("form.button.cancel","Cancel")})}),m.jsx(gt,{onClick:g,loading:d,disabled:n.length===0,children:i("form.button.submit","Submit")})]})]})})},y0=W.createContext(void 0),b0=()=>{const e=W.useContext(y0);if(!e)throw new Error("Collapsible components must be wrapped in <Collapsible />");return e},v3=vt(Me)`
  overflow: hidden;
  transition: height ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,y3=({children:e,defaultOpen:t=!1})=>{const[n,r]=W.useState(t);return m.jsx(y0.Provider,{value:{open:n,toggle:()=>r(i=>!i)},children:e})},b3=({children:e})=>{const{toggle:t,open:n}=b0();return m.jsx(Me,{onClick:t,style:{cursor:"pointer"},children:typeof e=="function"?e({open:n}):e})},x3=({children:e})=>{const{open:t}=b0(),n=W.useRef(null),[r,i]=W.useState(0);return W.useLayoutEffect(()=>{if(n.current){const s=n.current.scrollHeight;i(s)}},[e]),m.jsx(v3,{ref:n,role:"region","aria-hidden":!t,style:{height:t?`${r}px`:0,visibility:r===0?"hidden":"visible"},children:e})},_3=Ri`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,w3=vt(cT)`
  animation: ${_3} 1s linear infinite;
`,k3=vt(Me)`
  transform: rotate(${({$open:e})=>e?"180deg":"0deg"});
  transition: transform ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,C3=({status:e})=>{switch(e){case"update":return m.jsx(Fe,{fontWeight:"semiBold",textColor:"warning500",children:"M"});case"remove":return m.jsx(Fe,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"create":return m.jsx(Fe,{fontWeight:"semiBold",textColor:"success500",children:"N"});default:return null}},S3=({title:e,steps:t,state:n})=>{const r=()=>{switch(n){case"success":return m.jsx(Ov,{fill:"success500"});case"loading":return m.jsx(w3,{});case"error":return m.jsx(wd,{fill:"danger500"});default:return null}};return m.jsx(Me,{borderWidth:"1px",borderColor:"neutral200",borderStyle:"solid",hasRadius:!0,marginBottom:3,width:"336px",children:m.jsxs(y3,{defaultOpen:!1,children:[m.jsx(b3,{children:({open:i})=>m.jsx(Me,{padding:3,borderColor:"neutral200",borderWidth:i?"0 0 1px 0":"0",borderStyle:"solid",children:m.jsxs(Ee,{gap:2,alignItems:"center",children:[r(),m.jsx(Fe,{children:e}),m.jsx(Ee,{marginLeft:"auto",children:m.jsx(k3,{as:lT,$open:i})})]})})}),m.jsx(x3,{children:m.jsx(Ee,{gap:3,padding:3,direction:"column",children:t.map(i=>m.jsxs(Ee,{gap:2,justifyContent:"space-between",width:"100%",padding:[0,1],children:[i.link?m.jsx(dl,{tag:Rv,to:i.link,children:m.jsx(Fe,{children:i.description})}):m.jsx(Fe,{children:i.description}),m.jsx(C3,{status:i.status})]},i.id))})})]})})},E3=vt(Fe)`
  max-width: 65ch;
  margin: 0 auto;
  overflow-wrap: anywhere;
  word-break: break-word;

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin-top: 1.25em;
    margin-bottom: 0.5em;
    font-weight: bold;
  }

  p {
    margin-bottom: 1em;
  }

  ul,
  ol {
    padding-left: 1.5em; /* indentation for bullet points */
    margin-bottom: 1em;
  }

  li {
    margin-bottom: 0.5em;
    list-style-type: disc; /* or whatever style you prefer */
  }

  strong {
    font-weight: bold;
  }

  /* code blocks, blockquotes, etc. */
  code {
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    font-family: 'SF Mono', SFMono-Regular, ui-monospace, 'DejaVu Sans Mono', Menlo, Consolas,
      monospace;
  }

  /* links */
  a {
    color: ${({theme:e})=>e.colors.primary500};
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
`,T3=vt(Fe)`
  overflow-wrap: anywhere;
  word-break: break-word;
`,A3=e=>e&&typeof e=="object"&&e.type==="tool-schemaGenerationTool",I3=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",j3=e=>{const t=(e.kind??e.modelType)==="component";if(e.uid)return t?`/plugins/content-type-builder/component-categories/${e.category??""}/${e.uid}`:`/plugins/content-type-builder/content-types/${e.uid}`},R3=e=>{const t=e.output?.schemas??[],n=e.input?.schemas??[],r=t.length?t:n,i=r.length,s=e.output?e.output.error?"error":"success":"loading",o=r.map((u,d)=>({id:`${e.toolCallId??"schemaGenerationTool"}-${u.uid??u.name??d}`,description:I3(u.name??u.uid??"Schema"),status:u.action==="create"||u.action==="update"||u.action==="remove"?u.action:"update",link:j3(u)}));return{type:"marker",title:s==="success"?`Updated ${i} schema${i===1?"":"s"}`:s==="error"?`Failed to update schema${i===1?"":"s"}`:"Updating schemas",state:s,steps:o}},O3=({part:e})=>{if(e.type==="text")return m.jsx(E3,{children:m.jsx(LN,{components:{a:({node:t,...n})=>m.jsx("a",{target:"_blank",rel:"noopener noreferrer",...n})},children:e.text})});if(A3(e)){const t=R3(e);return m.jsx(S3,{...t})}return null},z3=({message:e})=>{const t=e.parts.some(r=>r.type==="text"&&r.text.trim()!==""),n=e.parts.filter(r=>r.type==="file");return m.jsxs(oy,{as:Ee,direction:"column",alignItems:"flex-end",style:{alignSelf:"flex-end"},gap:2,maxWidth:"80%",children:[t?m.jsx(Me,{background:"neutral150",borderStyle:"none",padding:["10px","16px"],hasRadius:!0,children:e.parts.map((r,i)=>r.type!=="text"?null:m.jsx(T3,{children:r.text},i))}):null,n.map((r,i)=>m.jsx(Rd,{attachment:{...r,status:"ready"}},`${r.type==="file"?r.filename:r.type}-${i}`))]})},F3=({message:e,isLoading:t})=>{const{upvoteMessage:n}=m0(),{openFeedbackModal:r}=v0();return m.jsxs(Me,{style:{alignSelf:"flex-start"},maxWidth:"90%",children:[e.parts.map((i,s)=>m.jsx(O3,{part:i},s)),t?m.jsxs(Ee,{gap:1,children:[m.jsx(pr,{label:"Upvote",size:"XS",variant:"ghost",onClick:()=>n(e.id),children:m.jsx(zv,{})}),m.jsx(pr,{label:"Downvote",size:"XS",variant:"ghost",onClick:()=>r(e.id),children:m.jsx(Fv,{})})]}):null]})},M3=({message:e,isLoading:t})=>e.role==="user"?m.jsx(z3,{message:e}):m.jsx(F3,{message:e}),N3=vt(Me).attrs({as:"textarea"})`
  border: none;
  resize: none;
  background: transparent;
  outline: none !important;
  width: 100%;
  min-height: 44px;
  max-height: 160px;
  line-height: ${({theme:e})=>e.lineHeights[4]};
  font-size: ${({theme:e})=>e.fontSizes[2]};
  color: ${({theme:e})=>e.colors.neutral800};
  padding-bottom: ${({theme:e})=>e.spaces[1]};
  overflow-y: auto;

  /* Show partial lines when content exceeds visible area */
  height: ${({rows:e,theme:t})=>e===5?`calc(${e} * ${t.lineHeights[4]} * 1em + 0.7em)`:`calc(${e} * ${t.lineHeights[4]} * 1em)`};

  &:disabled,
  &::placeholder {
    color: ${({theme:e})=>e.colors.neutral600};
  }
`,P3=({value:e,onChange:t,onSubmit:n,placeholder:r})=>{const i=W.useRef(null),[s,o]=W.useState(1),c=d=>{if(!d)return 1;const p=(d.match(/\n/g)||[]).length+1;return Math.min(p,5)};W.useEffect(()=>{o(c(e))},[e]);const u=d=>{i.current?.value.trim()&&d.key==="Enter"&&!d.shiftKey&&n&&(d.preventDefault(),n(d),setTimeout(()=>{i.current?.focus()},10))};return W.useEffect(()=>{i.current?.focus()},[i]),m.jsx(N3,{ref:i,value:e,onChange:t,onKeyDown:u,placeholder:r,rows:s})},$3=W.forwardRef(({children:e,onOpen:t,onClose:n,popoverPlacement:r,...i},s)=>{const o=W.useRef(null),c=uT(s,o),u=d=>{d&&typeof t=="function"?t():!d&&typeof n=="function"&&n()};return m.jsxs(An.Root,{onOpenChange:u,children:[m.jsx(An.Trigger,{ref:c,...i,children:i.label}),m.jsx(An.Content,{zIndex:1e4,popoverPlacement:r,children:e})]})}),ju=An.Item,D3=vt(Ee)`
  @media (max-height: 500px) {
    display: none;
  }
`,L3=()=>{const{sendMessage:e}=hr(),{t}=Bn(),{trackUsage:n}=Ea(),r=[t("chat.input.defaults.generate","Generate a product schema"),t("chat.input.defaults.ctb","Tell me about the Content-Type Builder"),t("chat.input.defaults.strapi","Tell me about Strapi")],i={[t("chat.input.defaults.generate","Generate a product schema")]:"generate-product-schema",[t("chat.input.defaults.ctb","Tell me about the Content-Type Builder")]:"tell-me-about-the-content-type-builder",[t("chat.input.defaults.strapi","Tell me about Strapi")]:"tell-me-about-strapi"},s=t("chat.input.defaults.title","How can I help you?");return m.jsx(oy,{children:m.jsxs(D3,{direction:"column",alignItems:"flex-start",gap:3,children:[m.jsx(Fe,{variant:"omega",fontWeight:"bold",children:s}),m.jsx(Ee,{direction:"column",alignItems:"flex-start",gap:2,children:r.map(o=>m.jsx(gt,{startIcon:m.jsx(fl,{fill:"neutral500"}),size:"M",variant:"tertiary",onClick:()=>{n("didUsePresetPrompt",{promptType:i[o]}),e({text:o})},children:m.jsx(Fe,{fontWeight:"regular",children:o})},o))})]})})},B3=e=>{try{return JSON.parse(e.message).error}catch{return e}},U3=()=>{const{error:e}=hr(),{t}=Bn(),n=t("chat.messages.error","Something went wrong."),r=t("chat.messages.too-many-requests","Too many requests, please try again later."),i=t("chat.messages.license-limit-reached","License limit reached, please try again tomorrow."),s=t("chat.messages.license-limit-exceeded","AI credit limit exceeded."),o=t("chat.messages.too-long-error","This conversation reached its maximum length. Start a new conversation");if(!e)return null;const c=B3(e);return!c||typeof c!="string"?null:c===G5?m.jsx(Xa,{title:r,variant:"warning"}):c===J5?m.jsx(Xa,{title:i,variant:"warning"}):c.split(".")[0]===K5?m.jsx(Xa,{title:s,variant:"danger"}):c===Y5?m.jsx(Xa,{title:o,variant:"danger"}):m.jsx(Xa,{title:n,variant:"danger"})},Z3=({messages:e})=>{const t=W.useRef(null),{status:n}=hr();return W.useEffect(()=>{const r=setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},20);return()=>clearTimeout(r)},[e,n]),m.jsxs(m.Fragment,{children:[m.jsxs(Ee,{direction:"column",gap:5,children:[e.map((r,i)=>m.jsx(M3,{message:r,isLoading:(n==="streaming"||n==="submitted")&&i===e.length-1},r.id)),n==="error"&&m.jsx(U3,{})]}),m.jsx("div",{ref:t})]})},H3=()=>{const{attachments:e,removeAttachmentByIndex:t}=Io();return e.length?m.jsx(Oi.Attachments,{children:e.map((n,r)=>m.jsx(Me,{maxWidth:"250px",children:m.jsx(Rd,{attachment:n,onRemove:()=>t(r)})},n.filename))}):null},q3=()=>{const{attachFiles:e}=Io(),{openCodeUpload:t}=pp(),{openFigmaUpload:n}=hp(),{t:r}=Bn(),i=W.useRef(null),s=r("chat.tooltips.upload-attachments","Upload attachments"),o=r("chat.attachments.menu.import-code","Import code"),c=r("chat.attachments.menu.attach-image","Attach image"),u=r("chat.attachments.menu.import-figma","Import from Figma");return m.jsxs($3,{label:s,icon:m.jsx(Sd,{}),tag:pr,popoverPlacement:"top-end",children:[m.jsx(ju,{startIcon:m.jsx(Nv,{}),onSelect:()=>t(),children:o}),m.jsx(ju,{startIcon:m.jsx(Sy,{}),onSelect:()=>n(),children:u}),m.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,ref:i}),m.jsx(ju,{startIcon:m.jsx(dT,{}),onSelect:()=>{const d=i.current;d&&(d.onchange=p=>{const h=p.target;h.files&&h.files.length>0&&e(Array.from(h.files))},d.click())},children:c})]})},W3=({children:e})=>{const[t,n]=W.useState("");return W.useEffect(()=>{const r=["",".","..","..."];let i=0;const s=setInterval(()=>{i=(i+1)%r.length,n(r[i])},400);return()=>clearInterval(s)},[]),m.jsxs(Fe,{variant:"pi",textColor:"neutral600",children:[e,t]})},V3=e=>{const{input:t,handleSubmit:n,handleInputChange:r,messages:i,status:s,stop:o,attachments:c}=hr(),{t:u}=Bn(),d=s==="streaming"||s==="submitted";return m.jsx(m.Fragment,{children:m.jsx("form",{onSubmit:n,...e,children:m.jsxs(Oi.Root,{isLoading:d,gap:4,children:[m.jsxs(Oi.Header,{minHeight:0,children:[i.length===0&&m.jsx(Oi.HeaderItem,{children:m.jsx(L3,{})}),d&&m.jsx(Oi.HeaderItem,{children:m.jsx(W3,{children:u("chat.input.thinking","Strapi AI is thinking")})})]}),m.jsxs(Oi.Content,{children:[m.jsx(ky.Area,{}),m.jsx(H3,{}),m.jsx(Me,{paddingBottom:3,children:m.jsx(P3,{value:t,onChange:r,onSubmit:n,placeholder:u("chat.input.placeholder","Ask Strapi AI...")})}),m.jsxs(Oi.Actions,{children:[m.jsx(q3,{}),d?m.jsx(pr,{label:u("chat.tooltips.stop-generation","Stop"),type:"button",variant:"default",onClick:p=>{p.preventDefault(),o()},children:m.jsx(HR,{})}):m.jsx(pr,{label:u("chat.tooltips.send-message","Send"),variant:"default",type:"submit",disabled:t.trim().length===0&&c.length===0,children:m.jsx(Mv,{})})]})]})]})})})},G3=()=>{const{title:e,messages:t,isChatOpen:n,isChatEnabled:r,openChat:i,closeChat:s,reset:o}=hr(),{attachFiles:c}=Io(),{t:u}=Bn(),d=Di("Chat",k=>k.state),h=Kr("Chat",k=>k.currentEnvironment)==="production";W.useEffect(()=>{d.enabled&&d.tours.contentTypeBuilder?.currentStep===1&&!d.tours.contentTypeBuilder?.isCompleted&&!n&&i&&i()},[d.tours.contentTypeBuilder?.currentStep,d.tours.contentTypeBuilder?.isCompleted,d.enabled,n,i]);const g=u("chat.tooltips.open-chat","Open chat"),y=u("chat.tooltips.close-chat","Close chat"),v=u("chat.tooltips.create-chat","New conversation"),w=u("chat.header.default-title","New conversation"),_=u("chat.input.strapi-ai-can-make-errors","Strapi AI can make mistakes.");return!r||h?null:m.jsx(ky.Root,{onAddFiles:k=>{c(k)},children:m.jsxs(Qa.Root,{size:"md",position:"bottom-right",isOpen:n,onToggle:n?s:i,toggleIcon:m.jsx(pr,{onClick:n?s:i,label:n?y:g,variant:"default",size:"L",children:m.jsx(fl,{})}),children:[m.jsxs(Qa.Header,{children:[m.jsx(Fe,{tag:"h3",variant:"omega",fontWeight:"bold",children:e||w}),m.jsxs(Ee,{gap:0,children:[m.jsx(pr,{label:v,variant:"ghost",onClick:o,children:m.jsx(ui,{})}),m.jsx(Qa.Close,{label:y})]})]}),m.jsx(Qa.Body,{children:m.jsxs(Cd.contentTypeBuilder.AIChat,{children:[t.length?null:m.jsx(Fe,{variant:"pi",textColor:"neutral600",children:_}),m.jsx(Z3,{messages:t})]})}),m.jsx(Qa.Footer,{children:m.jsx(V3,{})})]})})},ne=e=>`${di}.${e}`,tv=({status:e})=>{switch(e){case"UNCHANGED":return null;case"CHANGED":return m.jsx(Fe,{fontWeight:"semiBold",textColor:"alternative500",children:"M"});case"REMOVED":return m.jsx(Fe,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"NEW":return m.jsx(Fe,{fontWeight:"semiBold",textColor:"success500",children:"N"})}},LH=({status:e})=>{switch(e){case"CHANGED":return m.jsx(ws,{fontWeight:"bold",textColor:"alternative600",backgroundColor:"alternative100",borderColor:"alternative200",children:"Modified"});case"REMOVED":return m.jsx(ws,{fontWeight:"bold",textColor:"danger600",backgroundColor:"danger100",borderColor:"danger200",children:"Deleted"});case"NEW":return m.jsx(ws,{fontWeight:"bold",textColor:"success600",backgroundColor:"success100",borderColor:"success200",children:"New"});case"UNCHANGED":default:return m.jsx(ws,{style:{visibility:"hidden"},fontWeight:"bold",textColor:"warning600",backgroundColor:"warning100",borderColor:"warning200",children:"Unchanged"})}},x0=W.createContext(),ja=()=>W.useContext(x0),J3=()=>{const{componentsGroupedByCategory:e,isInDevelopmentMode:t,sortedContentTypesList:n}=Yn(),{trackUsage:r}=Ea(),[i,s]=W.useState(""),{onOpenModalCreateSchema:o}=ja(),{locale:c}=mt(),{contains:u}=pT(c,{sensitivity:"base"}),d=fT(c,{sensitivity:"base"}),p=()=>{r("willCreateContentType"),o({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})},h=()=>{r("willCreateSingleType"),o({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})},g=()=>{r("willCreateComponent"),o({modalType:"component",kind:null,actionType:"create",forTarget:"component"})},y=Object.entries(e).map(([_,k])=>({name:_,title:Ni(_),links:k.map(T=>({name:T.uid,to:`/plugins/${di}/component-categories/${_}/${T.uid}`,title:T.info.displayName,status:T.status})).sort((T,A)=>d.compare(T.title,A.title))})).sort((_,k)=>d.compare(_.title,k.title)),v=n.filter(_=>_.visible).map(_=>({kind:_.kind,name:_.name,to:_.to,title:_.title,status:_.status}));return{menu:[{name:"models",title:{id:`${ne("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:t?{id:`${ne("button.model.create")}`,defaultMessage:"Create new collection type",onClick:p}:void 0,links:v.filter(_=>_.kind==="collectionType")},{name:"singleTypes",title:{id:`${ne("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:t?{id:`${ne("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:h}:void 0,links:v.filter(_=>_.kind==="singleType")},{name:"components",title:{id:`${ne("menu.section.components.name")}`,defaultMessage:"Components"},customLink:t?{id:`${ne("button.component.create")}`,defaultMessage:"Create a new component",onClick:g}:void 0,links:y}].map(_=>{if(_.links.some(A=>"links"in A&&Array.isArray(A.links))){let A=0;return{..._,links:_.links.reduce((j,P)=>{const O="links"in P?P.links.filter(B=>u(B.title,i)):[];return O.length===0||(A+=O.length,j.push({...P,links:O.sort((B,U)=>d.compare(B.title,U.title))})),j},[]),linksCount:A}}const T=_.links.filter(A=>u(A.title,i)).sort((A,j)=>d.compare(A.title,j.title));return{..._,links:T,linksCount:T.length}}),search:{value:i,onChange:s,clear:()=>s("")}}},K3=vt(Ed)`
  transform: scaleX(-1);
`,Y3=vt(An.Item)`
  color: ${({theme:e})=>e.colors.danger600};

  &:hover {
    background: ${({theme:e,disabled:t})=>!t&&e.colors.danger100};
  }
`,X3=()=>{const{menu:e,search:t}=J3(),{saveSchema:n,isModified:r,history:i,isInDevelopmentMode:s}=Yn(),{formatMessage:o}=mt(),[c,u]=W.useState(!1),[d,p]=W.useState(!1);W.useEffect(()=>{if(!s)return;const _=k=>{(k.ctrlKey||k.metaKey)&&(k.key==="Enter"?r&&(k.preventDefault(),n()):k.key==="z"&&!k.shiftKey?(k.preventDefault(),i.undo()):(k.key==="y"||k.shiftKey&&k.key==="z"||k.key==="Z")&&(k.preventDefault(),i.redo()))};return document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}});const h=()=>{p(!0)},g=()=>{u(!1),p(!1),i.discardAllChanges()},y=()=>{i.undo()},v=()=>{i.redo()},w=o({id:ne("plugin.name"),defaultMessage:"Content-Type Builder"});return m.jsxs(si.Main,{"aria-label":w,children:[m.jsx(si.Header,{label:w}),m.jsx(hl,{background:"neutral150"}),m.jsxs(si.Content,{children:[m.jsxs(Ee,{padding:5,gap:3,direction:"column",alignItems:"stretch",children:[m.jsx(Cd.contentTypeBuilder.Save,{children:m.jsxs(Ee,{gap:2,children:[m.jsx(gt,{flex:1,onClick:_=>{_.preventDefault(),n()},type:"submit",disabled:!r||!s,fullWidth:!0,size:"S",children:o({id:"global.save",defaultMessage:"Save"})}),m.jsxs(An.Root,{open:c,onOpenChange:u,children:[m.jsxs(An.Trigger,{size:"S",endIcon:null,paddingTop:"4px",paddingLeft:"7px",paddingRight:"7px",variant:"tertiary",children:[m.jsx(hT,{fill:"neutral500","aria-hidden":!0,focusable:!1}),m.jsx(Pv,{tag:"span",children:o({id:"global.more.actions",defaultMessage:"More actions"})})]}),m.jsxs(An.Content,{zIndex:1,children:[m.jsx(An.Item,{disabled:!i.canUndo||!s,onSelect:y,startIcon:m.jsx(K3,{}),children:o({id:"global.last-change.undo",defaultMessage:"Undo last change"})}),m.jsx(An.Item,{disabled:!i.canRedo||!s,onSelect:v,startIcon:m.jsx(Ed,{}),children:o({id:"global.last-change.redo",defaultMessage:"Redo last change"})}),m.jsx(An.Separator,{}),m.jsx(Y3,{disabled:!i.canDiscardAll||!s,onSelect:h,children:m.jsxs(Ee,{gap:2,children:[m.jsx(wd,{}),m.jsx(Fe,{children:o({id:"global.last-changes.discard",defaultMessage:"Discard last changes"})})]})})]})]})]})}),m.jsx($v,{value:t.value,onChange:_=>t.onChange(_.target.value),onClear:()=>t.onChange(""),placeholder:o({id:ne("search.placeholder"),defaultMessage:"Search"}),size:"S",children:void 0,name:"search_contentType",clearLabel:o({id:"clearLabel",defaultMessage:"Clear"}),"aria-label":o({id:ne("search.placeholder"),defaultMessage:"Search"})})]}),m.jsx(si.Sections,{children:e.map(_=>m.jsx(W.Fragment,{children:m.jsx(si.Section,{label:o({id:_.title.id,defaultMessage:_.title.defaultMessage}),link:_.customLink&&{label:o({id:_.customLink?.id,defaultMessage:_.customLink?.defaultMessage}),onClick:_.customLink?.onClick},sectionId:_.name,children:_.links.map(k=>{const T=o({id:k.name,defaultMessage:k.title});return"links"in k?m.jsx(si.SubSection,{label:k.title,children:k.links.map(A=>{const j=o({id:A.name,defaultMessage:A.title});return m.jsx(si.Link,{to:A.to,label:j,endAction:m.jsx(Me,{tag:"span",textAlign:"center",width:"24px",children:m.jsx(tv,{status:A.status})})},A.name)})},k.name):m.jsx(si.Link,{to:k.to,label:T,endAction:m.jsx(Me,{tag:"span",textAlign:"center",width:"24px",children:m.jsx(tv,{status:k.status})})},k.name)})})},_.name))})]}),m.jsx(Li.Root,{open:d,onOpenChange:p,children:m.jsx(So,{onConfirm:g,children:o({id:ne("popUpWarning.discardAll.message"),defaultMessage:"Are you sure you want to discard all changes?"})})})]})},nv=()=>{if(crypto.randomUUID)return`ctb-${crypto.randomUUID()}`},Q3=({children:e})=>{const[t,n]=W.useState(()=>nv()),r=W.useCallback(()=>{n(nv())},[]),i=W.useMemo(()=>({sessionId:t,regenerateSessionId:r}),[t,r]);return m.jsx(ay.Provider,{value:i,children:e})},eZ="timeout",tZ=30*1e3,nZ=()=>{const{get:e}=Dv(),t=async n=>{const r=n??Date.now();if(Date.now()-r>tZ)throw new Error(eZ);try{if((await e("/content-type-builder/update-schema-status"))?.data?.data?.isUpdating===!0)return new Promise(s=>{setTimeout(()=>t(r).then(s),200)})}catch{return new Promise(s=>{setTimeout(()=>t(r).then(s),200)})}};return t},rZ=e=>hj(Object.keys(e).map(t=>({visible:e[t].visible,name:t,title:e[t].info.displayName,plugin:e[t].plugin,uid:t,to:`/plugins/${di}/content-types/${t}`,kind:e[t].kind,restrictRelationsTo:e[t].restrictRelationsTo,status:e[t].status})).filter(t=>t!==null),t=>mT(t.title)),iZ=({components:e,contentTypes:t})=>{const n={newContentTypes:0,editedContentTypes:0,deletedContentTypes:0,newComponents:0,editedComponents:0,deletedComponents:0,newFields:0,editedFields:0,deletedFields:0},r=Object.values(e).filter(s=>["NEW","CHANGED","REMOVED"].includes(s.status)).map(s=>{const o=rv(s),c=o.action;return iv({...s,action:c},n,"component"),o}),i=Object.values(t).filter(s=>["NEW","CHANGED","REMOVED"].includes(s.status)).map(s=>{const o=rv(s),c=o.action;return iv({...s,action:c},n,"contentType"),o});return{requestData:{components:r,contentTypes:i},trackingEventProperties:n}},aZ=e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>Array.isArray(n)?n.length>0:typeof n=="object"&&n!==null?Object.keys(n).length>0:n!=null)),oZ=e=>"customField"in e?{...e,type:"customField"}:"targetAttribute"in e?{...e,targetAttribute:e.targetAttribute==="-"?null:e.targetAttribute,...e.conditions&&{conditions:e.conditions}}:e,rv=e=>{let t;switch(e.status){case"NEW":t="create";break;case"CHANGED":t="update";break;case"REMOVED":return{action:"delete",uid:e.uid};default:throw new Error("Invalid status")}return{action:t,uid:e.uid,category:"category"in e?e.category:void 0,...Ls(e,["info","options","visible","uid","restrictRelationsTo"]),...e.options,...e.info,attributes:e.attributes.map(n=>{let r;switch(n.status){case"NEW":r="create";break;case"REMOVED":return{action:"delete",name:n.name};case"UNCHANGED":case"CHANGED":default:r="update"}return{action:r,name:n.name,properties:aZ(Ls(oZ(n),["status","name"]))}})}},iv=(e,t,n)=>{if(!e||typeof e.action!="string")return;const r=n==="contentType";switch(e.action){case"create":r?t.newContentTypes++:t.newComponents++;break;case"update":r?t.editedContentTypes++:t.editedComponents++;break;case"delete":r?t.deletedContentTypes++:t.deletedComponents++;break}Array.isArray(e.attributes)&&(e.action==="delete"?t.deletedFields+=e.attributes.length:e.attributes.forEach(i=>{if(!(!i||typeof i.status!="string"))switch(i.status){case"NEW":t.newFields++;break;case"CHANGED":t.editedFields++;break;case"REMOVED":t.deletedFields++;break}}))},sZ=e=>Object.keys(e).reduce((n,r)=>{const i=Kt(e,[r]),s=lZ(i);return s.childComponents.length>0&&n.push(s),n},[]),lZ=e=>({component:e.uid,childComponents:e.attributes.filter(t=>{const{type:n}=t;return n==="component"}).map(t=>({component:t.component}))}),cZ=e=>{const t=Object.keys(e).reduce((n,r)=>{const i=e?.[r]?.attributes??[],s=uZ(i,r);return[...n,...s]},[]);return dZ(t)},uZ=(e,t)=>e.reduce((n,r)=>{const{type:i}=r;return i==="component"&&n.push({component:r.component,parentCompoUid:t}),n},[]),dZ=e=>{const t=new Map;return e.forEach(({component:r,parentCompoUid:i})=>{t.has(r)||t.set(r,new Set),t.get(r).add(i)}),Array.from(t.entries()).map(([r,i])=>({component:r,uidsOfAllParents:Array.from(i)}))},pZ=(e,t)=>{const n=Object.keys(e).map(r=>Kt(e,[r,...t],""));return gT(n)},fZ=e=>e["content-type-builder_dataManagerProvider"]||vT,hZ=({children:e})=>{const t=ml(),n=Lv(fZ),r=Di("DataManagerProvider",ue=>ue.dispatch),i=yT(),{sessionId:s,regenerateSessionId:o}=Id(),{components:c,contentTypes:u,reservedNames:d,initialComponents:p,initialContentTypes:h,isLoading:g}=n.current,{toggleNotification:y}=Sa(),{lockAppWithAutoreload:v,unlockAppWithAutoreload:w}=bT(),_=nZ(),T=ho("DataManagerProvider",ue=>ue.getPlugin)("content-type-builder"),A=Kr("DataManagerProvider",ue=>ue.autoReload),{formatMessage:j}=mt(),{trackUsage:P}=Ea(),O=xT("DataManagerProvider",ue=>ue.refetchPermissions),{onCloseModal:B}=ja(),[U,Y]=W.useState(!1),X=W.useRef(null),q=W.useMemo(()=>!(fo(c,p)&&fo(u,h)),[c,u,p,h]),se=Dv(),R=A,G=W.useRef();G.current=async()=>{try{const[ue,ce]=await Promise.all([se.get("/content-type-builder/schema"),se.get("/content-type-builder/reserved-names")]),{components:et,contentTypes:Ue}=ue.data.data;t(Jt.init({components:$h(et,fe=>({...fe,status:"UNCHANGED"})),contentTypes:$h(Ue,fe=>({...fe,status:"UNCHANGED"})),reservedNames:ce.data})),t(Jt.clearHistory())}catch(ue){console.error({err:ue}),y({type:"danger",message:j({id:"notification.error",defaultMessage:"An error occurred"})})}},W.useEffect(()=>(G.current(),X.current=i.pathname,()=>{t(Jt.reloadPlugin())}),[]),W.useEffect(()=>{const ue=i.pathname,ce=X.current,et="/plugins/content-type-builder";if(ce){const Ue=ue.includes(et);!ce.includes(et)&&Ue&&o()}X.current=ue},[i.pathname,o]),W.useEffect(()=>{A||y({type:"info",message:j({id:ne("notification.info.autoreaload-disable")})})},[A,y,j]);const x=ue=>sZ(ue),L=ue=>cZ(ue),Ce=async()=>{await O()},le=async()=>{Y(!0);const ue=T?.apis?.forms,ce=Object.entries(n.current.contentTypes).reduce((ze,[ye,Re])=>(ze[ye]=ue.mutateContentTypeSchema(Re,h[ye]),ze),{}),{requestData:et,trackingEventProperties:Ue}=iZ({components:n.current.components,contentTypes:ce});P("willUpdateCTBSchema",{...Ue,ctbSessionId:s});const fe=Object.keys(n.current.contentTypes).length>0;v();try{await se.post("/content-type-builder/update-schema",{data:et}),fe&&P("didCreateGuidedTourCollectionType"),await _(),o(),await G.current(),await Ce()}catch(ze){console.error({err:ze}),y({type:"danger",message:j({id:"notification.error",defaultMessage:"An error occurred"})}),P("didUpdateCTBSchema",{...Ue,success:!1,ctbSessionId:s})}finally{Y(!1),w(),t(_T.util.invalidateTags(["GuidedTourMeta","HomepageKeyStatistics"])),r({type:"set_completed_actions",payload:[Bs.contentTypeBuilder.createSchema]}),P("didUpdateCTBSchema",{...Ue,success:!0,ctbSessionId:s})}},de=W.useMemo(()=>x(c),[c]),N=W.useMemo(()=>L(c),[c]),Te=W.useMemo(()=>pZ(c,["category"]),[c]),oe=W.useMemo(()=>fj(c,"category"),[c]),z=W.useMemo(()=>rZ(u),[u]),Oe={componentsThatHaveOtherComponentInTheirAttributes:de,nestedComponents:N,saveSchema:le,reservedNames:d,components:c,contentTypes:u,initialComponents:p,initialContentTypes:h,isSaving:U,isModified:q,isInDevelopmentMode:R,allComponentsCategories:Te,componentsGroupedByCategory:oe,sortedContentTypesList:z,isLoading:g,addAttribute(ue){t(Jt.addAttribute(ue))},editAttribute(ue){t(Jt.editAttribute(ue))},addCustomFieldAttribute(ue){t(Jt.addCustomFieldAttribute(ue))},editCustomFieldAttribute(ue){t(Jt.editCustomFieldAttribute(ue))},addCreatedComponentToDynamicZone(ue){t(Jt.addCreatedComponentToDynamicZone(ue))},createSchema(ue){t(Jt.createSchema(ue))},createComponentSchema({data:ue,uid:ce,componentCategory:et}){t(Jt.createComponentSchema({data:ue,uid:ce,componentCategory:et}))},changeDynamicZoneComponents({forTarget:ue,targetUid:ce,dynamicZoneTarget:et,newComponents:Ue}){t(Jt.changeDynamicZoneComponents({forTarget:ue,targetUid:ce,dynamicZoneTarget:et,newComponents:Ue}))},removeAttribute(ue){ue.forTarget==="contentType"&&P("willDeleteFieldOfContentType"),t(Jt.removeField(ue))},removeComponentFromDynamicZone(ue){t(Jt.removeComponentFromDynamicZone(ue))},deleteComponent(ue){window.confirm(j({id:ne("popUpWarning.bodyMessage.component.delete")}))&&(B(),t(Jt.deleteComponent(ue)))},deleteContentType(ue){window.confirm(j({id:ne("popUpWarning.bodyMessage.contentType.delete")}))&&(B(),t(Jt.deleteContentType(ue)))},updateComponentSchema({data:ue,componentUID:ce}){t(Jt.updateComponentSchema({data:ue,uid:ce}))},updateComponentUid({componentUID:ue,newComponentUID:ce}){t(Jt.updateComponentUid({uid:ue,newComponentUID:ce}))},updateSchema(ue){t(Jt.updateSchema(ue))},moveAttribute(ue){t(Jt.moveAttribute(ue))},applyChange(ue){t(Jt.applyChange(ue))},history:{undo(){t(Jt.undo())},redo(){t(Jt.redo())},discardAllChanges(){t(Jt.discardAll())},canUndo:n.past.length>0,canRedo:n.future.length>0,canDiscardAll:q}};return m.jsx(ub.Provider,{value:Oe,children:e})},mZ=()=>{const{formatMessage:e}=mt(),{isModified:t,isSaving:n}=Yn(),r=e({id:ne("prompt.unsaved"),defaultMessage:"Are you sure you want to leave? All your modifications will be lost."}),i=wT(s=>s.currentLocation.pathname.startsWith("/plugins/content-type-builder/")&&!s.nextLocation.pathname.startsWith("/plugins/content-type-builder/")&&t);return W.useEffect(()=>{const s=o=>{t&&!n&&(o.preventDefault(),o.returnValue="")};return window.addEventListener("beforeunload",s),()=>window.removeEventListener("beforeunload",s)},[r,t,n]),i.state==="blocked"?m.jsx(Li.Root,{open:!0,onOpenChange:()=>i.reset(),children:m.jsx(So,{onConfirm:()=>i.proceed(),children:r})}):null},_0=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),pd=(e,t)=>e.find(({name:n})=>n===t),gZ=(e,t)=>!e||!t?{}:{[e]:t[e]},vZ=e=>(e?.inner||[]).reduce((t,n)=>(n.path&&(t[n.path.split("[").join(".").split("]").join("")]={id:n.message,defaultMessage:n.message,values:gZ(n?.type,n?.params)}),t),{}),yZ=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],bZ=({intlLabel:e,name:t,onChange:n,value:r=null})=>{const{formatMessage:i}=mt(),s=r===null||r?.length===0?i({id:"global.none",defaultMessage:"None"}):[...r].sort().map(c=>Ni(c)).join(", "),o=e.id?i({id:e.id,defaultMessage:e.defaultMessage}):t;return m.jsxs(nt.Root,{name:t,children:[m.jsx(nt.Label,{children:o}),m.jsx(Bv,{customizeContent:()=>s,onChange:c=>{c.length>0?n({target:{name:t,value:c,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:yZ,value:r||[]})]})},av={biginteger:Ya,blocks:OT,boolean:RT,collectionType:Uh,component:jT,contentType:Uh,date:ks,datetime:ks,decimal:Ya,dynamiczone:IT,email:AT,enum:Bh,enumeration:Bh,file:Jc,files:Jc,float:Ya,integer:Ya,json:Lh,JSON:Lh,media:Jc,number:Ya,password:TT,relation:ET,richtext:ST,singleType:CT,string:Dh,text:Dh,time:ks,timestamp:ks,uid:kT},xZ=vt(Me)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Co=({type:e,customField:t=null,...n})=>{const r=ho("AttributeIcon",s=>s.customFields.get);let i=av[e];if(t){const o=r(t)?.icon;o&&(i=o)}return av[e]?m.jsx(xZ,{width:"3.2rem",height:"3.2rem",shrink:0,...n,"aria-hidden":!0,children:m.jsx(Me,{tag:i})}):null},w0=vt(Me)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,_Z=[],wZ=()=>m.jsx(Ee,{grow:1,justifyContent:"flex-end",children:m.jsxs(Ee,{gap:1,hasRadius:!0,background:"alternative100",padding:"0.2rem 0.4rem",children:[m.jsx(fl,{width:"1rem",height:"1rem",fill:"alternative600"}),m.jsx(Fe,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),kZ=({type:e="text"})=>{const{formatMessage:t}=mt(),{onClickSelectField:n}=ja(),r=()=>{n({attributeType:e,step:e==="component"?"1":null})};return m.jsx(w0,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:r,children:m.jsxs(Ee,{children:[m.jsx(Co,{type:e}),m.jsxs(Me,{paddingLeft:4,width:"100%",children:[m.jsxs(Ee,{justifyContent:"space-between",children:[m.jsx(Fe,{fontWeight:"bold",textColor:"neutral800",children:t({id:ne(`attribute.${e}`),defaultMessage:e})}),_Z.includes(e)&&m.jsx(wZ,{})]}),m.jsx(Ee,{children:m.jsx(Fe,{variant:"pi",textColor:"neutral600",children:t({id:ne(`attribute.${e}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},CZ=({attributes:e})=>m.jsx(Td,{tagName:"button",children:m.jsx(Ee,{direction:"column",alignItems:"stretch",gap:8,children:e.map((t,n)=>m.jsx(dr.Root,{gap:3,children:t.map(r=>m.jsx(dr.Item,{col:6,xs:12,direction:"column",alignItems:"stretch",children:m.jsx(kZ,{type:r})},r))},n))})}),SZ=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:r,intlDescription:i}=t,{formatMessage:s}=mt(),{onClickSelectCustomField:o}=ja(),c=()=>{o({attributeType:n,customFieldUid:e})};return m.jsx(w0,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:c,children:m.jsxs(Ee,{children:[m.jsx(Co,{type:n,customField:e}),m.jsxs(Me,{paddingLeft:4,children:[m.jsx(Ee,{children:m.jsx(Fe,{fontWeight:"bold",textColor:"neutral800",children:s(r)})}),m.jsx(Ee,{children:m.jsx(Fe,{variant:"pi",textColor:"neutral600",children:s(i)})})]})]})})},EZ=vt(Me)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,TZ=()=>m.jsx(Ee,{wrap:"wrap",gap:4,children:[...Array(4)].map((e,t)=>m.jsx(EZ,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${t}`))}),AZ=()=>{const{formatMessage:e}=mt();return m.jsxs(Me,{position:"relative",children:[m.jsx(TZ,{}),m.jsx(Me,{position:"absolute",top:6,width:"100%",children:m.jsxs(Ee,{alignItems:"center",justifyContent:"center",direction:"column",children:[m.jsx(Uv,{width:"160px",height:"88px"}),m.jsx(Me,{paddingTop:6,paddingBottom:4,children:m.jsxs(Me,{textAlign:"center",children:[m.jsx(Fe,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:ne("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),m.jsx(Me,{paddingTop:4,children:m.jsx(Fe,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:ne("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),m.jsx(zT,{tag:Rv,to:`/marketplace?${FT.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:m.jsx(ui,{}),children:e({id:ne("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},IZ=()=>{const{formatMessage:e}=mt(),t=ho("CustomFieldsList",i=>i.customFields.getAll),n=Object.entries(t());if(!n.length)return m.jsx(AZ,{});const r=n.sort((i,s)=>i[1].name>s[1].name?1:-1);return m.jsx(Td,{tagName:"button",children:m.jsxs(Ee,{direction:"column",alignItems:"stretch",gap:3,children:[m.jsx(dr.Root,{gap:3,children:r.map(([i,s])=>m.jsx(dr.Item,{col:6,xs:12,direction:"column",alignItems:"stretch",children:m.jsx(SZ,{customFieldUid:i,customField:s},i)},i))}),m.jsx(dl,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:e({id:ne("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},jZ=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:r}=mt(),i=ne("modalForm.tabs.default"),s=ne("modalForm.tabs.custom"),o=t.includes("component")?"component":n,c=ne(`modalForm.sub-header.chooseAttribute.${o}`);return m.jsx(fn.Body,{children:m.jsxs(cr.Root,{variant:"simple",defaultValue:"default",children:[m.jsxs(Ee,{justifyContent:"space-between",children:[m.jsx(Fe,{variant:"beta",tag:"h2",children:r({id:c,defaultMessage:"Select a field"})}),m.jsxs(cr.List,{children:[m.jsx(cr.Trigger,{value:"default",children:r({id:i,defaultMessage:"Default"})}),m.jsx(cr.Trigger,{value:"custom",children:r({id:s,defaultMessage:"Custom"})})]})]}),m.jsx(hl,{marginBottom:6}),m.jsx(cr.Content,{value:"default",children:m.jsx(CZ,{attributes:e})}),m.jsx(cr.Content,{value:"custom",children:m.jsx(IZ,{})})]})})},RZ=({intlLabel:e,name:t,options:n,onChange:r,value:i=null})=>{const{formatMessage:s}=mt(),o=e.id?s({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):t,c=u=>{let d="";u==="true"&&(d=!0),u==="false"&&(d=!1),r({target:{name:t,value:d,type:"select-default-boolean"}})};return m.jsxs(nt.Root,{name:t,children:[m.jsx(nt.Label,{children:o}),m.jsx(Jr,{onChange:c,value:(i===null?"":i).toString(),children:n.map(({metadatas:{intlLabel:u,disabled:d,hidden:p},key:h,value:g})=>m.jsx(Wn,{value:g,disabled:d,hidden:p,children:u.defaultMessage},h))})]})},OZ=vt(Ee)`
  position: relative;
  align-items: stretch;

  label {
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;

    ${Zv()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    border-radius: ${({theme:e})=>e.borderRadius};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    color: ${({theme:e})=>e.colors.primary600};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,mp=({intlLabel:e,name:t,onChange:n,radios:r=[],value:i})=>{const{formatMessage:s}=mt();return m.jsxs(Ee,{direction:"column",alignItems:"stretch",gap:2,children:[m.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,tag:"label",children:s(e)}),m.jsx(OZ,{gap:4,alignItems:"stretch",children:r.map(o=>m.jsxs("label",{htmlFor:o.value.toString(),className:"container",children:[m.jsx("input",{id:o.value.toString(),name:t,className:"option-input",checked:o.value===i,value:o.value,onChange:n,type:"radio"},o.value),m.jsx(Me,{className:"option",padding:4,children:m.jsxs(Ee,{children:[m.jsx(Me,{paddingRight:4,children:m.jsx("span",{className:"checkmark"})}),m.jsxs(Ee,{direction:"column",alignItems:"stretch",gap:2,children:[m.jsx(Fe,{fontWeight:"bold",children:s(o.title)}),m.jsx(Fe,{variant:"pi",textColor:"neutral600",children:s(o.description)})]})]})})]},o.value))})]})},zZ=({onChange:e,name:t,intlLabel:n,...r})=>{const i=s=>{const o=s.target.value!=="false";e({target:{name:t,value:o,type:"boolean-radio-group"}})};return m.jsx(mp,{...r,name:t,onChange:i,intlLabel:n})},FZ=({error:e,intlLabel:t,modifiedData:n,name:r,onChange:i,value:s=null})=>{const{formatMessage:o}=mt(),c=t.id?o({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):r,u=n.type==="biginteger"?"text":"number",d=!n.type,p=e?o({id:e,defaultMessage:e}):"";return m.jsxs(Ee,{direction:"column",alignItems:"stretch",gap:2,children:[m.jsx(pl,{id:r,name:r,onCheckedChange:h=>{i({target:{name:r,value:h?u==="text"?"0":0:null}})},checked:s!==null,children:c}),s!==null&&m.jsx(Me,{paddingLeft:6,style:{maxWidth:"200px"},children:u==="text"?m.jsxs(nt.Root,{error:p,name:r,children:[m.jsx(Gr,{"aria-label":c,disabled:d,onChange:i,value:s===null?"":s,type:"text"}),m.jsx(nt.Error,{})]}):m.jsxs(nt.Root,{error:p,name:r,children:[m.jsx(Hv,{"aria-label":c,disabled:d,onValueChange:h=>{i({target:{name:r,value:h??0,type:u}})},value:s||0}),m.jsx(nt.Error,{})]})})]})},MZ=({onChange:e,...t})=>{const{formatMessage:n}=mt(),{toggleNotification:r}=Sa(),i=s=>{r({type:"info",message:n({id:ne("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."})}),e(s)};return m.jsx(mp,{...t,onChange:i})},NZ=({description:e,disabled:t=!1,intlLabel:n,isCreating:r,name:i,onChange:s,value:o=!1})=>{const{formatMessage:c}=mt(),[u,d]=W.useState(!1),p=n.id?c({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):i,h=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",g=()=>{s({target:{name:i,value:!1}}),d(!1)},y=v=>{if(!v&&!r){d(!0);return}s({target:{name:i,value:!!v}})};return m.jsxs(m.Fragment,{children:[m.jsxs(nt.Root,{hint:h,name:i,children:[m.jsx(pl,{checked:o,disabled:t,onCheckedChange:y,children:p}),m.jsx(nt.Hint,{})]}),m.jsx(Li.Root,{open:u,onOpenChange:v=>d(v),children:m.jsx(So,{endAction:m.jsx(gt,{onClick:g,variant:"danger",width:"100%",justifyContent:"center",children:c({id:ne("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"})}),children:c({id:ne("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."})})})]})},PZ=({deleteComponent:e,deleteContentType:t,isAttributeModal:n,isCustomFieldModal:r,isComponentAttribute:i,isComponentToDzModal:s,isContentTypeModal:o,isCreatingComponent:c,isCreatingComponentAttribute:u,isCreatingComponentInDz:d,isCreatingComponentWhileAddingAField:p,isCreatingContentType:h,isCreatingDz:g,isComponentModal:y,isDzAttribute:v,isEditingAttribute:w,isInFirstComponentStep:_,onSubmitAddComponentAttribute:k,onSubmitAddComponentToDz:T,onSubmitCreateContentType:A,onSubmitCreateComponent:j,onSubmitCreateDz:P,onSubmitEditAttribute:O,onSubmitEditComponent:B,onSubmitEditContentType:U,onSubmitEditCustomFieldAttribute:Y,onSubmitEditDz:X,onClickFinish:q})=>{const{formatMessage:se}=mt();return s?d?m.jsx(gt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),T(R,!0)},startIcon:m.jsx(ui,{}),children:se({id:ne("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):m.jsx(gt,{variant:"default",type:"submit",onClick:R=>{R.preventDefault(),T(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})}):n&&v&&!g?m.jsx(gt,{variant:"default",type:"submit",onClick:R=>{R.preventDefault(),q(),X(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})}):n&&v&&g?m.jsx(m.Fragment,{children:m.jsx(gt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),P(R,!0)},startIcon:m.jsx(ui,{}),children:se({id:ne("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):n&&i?_?m.jsx(gt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),k(R,!0)},children:se(u?{id:ne("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:ne("form.button.select-component"),defaultMessage:"Configure the component"})}):m.jsxs(Ee,{gap:2,children:[m.jsx(gt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),k(R,!0)},startIcon:m.jsx(ui,{}),children:se(p?{id:ne("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:ne("form.button.add-field"),defaultMessage:"Add another field"})}),m.jsx(gt,{variant:"default",type:"button",onClick:R=>{R.preventDefault(),q(),k(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})})]}):n&&!i&&!v?m.jsxs(Ee,{gap:2,children:[m.jsx(gt,{type:w?"button":"submit",variant:"secondary",onClick:R=>{R.preventDefault(),O(R,!0)},startIcon:m.jsx(ui,{}),children:se({id:ne("form.button.add-field"),defaultMessage:"Add another field"})}),m.jsx(gt,{type:w?"submit":"button",variant:"default",onClick:R=>{R.preventDefault(),q(),O(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})})]}):o?m.jsxs(Ee,{gap:2,children:[!h&&m.jsxs(m.Fragment,{children:[m.jsx(gt,{type:"button",variant:"danger",onClick:R=>{R.preventDefault(),t()},children:se({id:"global.delete",defaultMessage:"Delete"})}),m.jsx(gt,{type:"submit",variant:"default",onClick:R=>{R.preventDefault(),U(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})})]}),h&&m.jsx(gt,{type:"submit",variant:"secondary",onClick:R=>{R.preventDefault(),A(R,!0)},children:se({id:"global.continue",defaultMessage:"Continue"})})]}):y?m.jsxs(Ee,{gap:2,children:[!c&&m.jsxs(m.Fragment,{children:[m.jsx(gt,{type:"button",variant:"danger",onClick:R=>{R.preventDefault(),e()},children:se({id:"global.delete",defaultMessage:"Delete"})}),m.jsx(gt,{type:"submit",variant:"default",onClick:R=>{R.preventDefault(),B(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})})]}),c&&m.jsx(gt,{type:"submit",variant:"secondary",onClick:R=>{R.preventDefault(),j(R,!0)},children:se({id:"global.continue",defaultMessage:"Continue"})})]}):r?m.jsxs(Ee,{gap:2,children:[m.jsx(gt,{type:w?"button":"submit",variant:"secondary",onClick:R=>{R.preventDefault(),Y(R,!0)},startIcon:m.jsx(ui,{}),children:se({id:ne("form.button.add-field"),defaultMessage:"Add another field"})}),m.jsx(gt,{type:w?"submit":"button",variant:"default",onClick:R=>{R.preventDefault(),q(),Y(R,!1)},children:se({id:"global.finish",defaultMessage:"Finish"})})]}):null},$Z=({actionType:e=null,attributeName:t,attributeType:n,contentTypeKind:r,dynamicZoneTarget:i,forTarget:s,modalType:o=null,targetUid:c,customFieldUid:u=null,showBackLink:d=!1})=>{const{formatMessage:p}=mt(),{components:h,contentTypes:g}=Yn(),{onOpenModalAddField:y}=ja();let v="component",w=[];const _=s==="component"?h[c]:g[c],k=_?.info.displayName;if(o==="contentType"&&(v=r),["component"].includes(o||"")&&(v="component"),["component","contentType"].includes(o||"")){let A=ne(`modalForm.component.header-${e}`);return o==="contentType"&&(A=ne(`modalForm.${r}.header-create`)),e==="edit"&&(A=ne("modalForm.header-edit")),m.jsx(fn.Header,{children:m.jsxs(Ee,{children:[m.jsx(Me,{children:m.jsx(Co,{type:v})}),m.jsx(Me,{paddingLeft:3,children:m.jsx(fn.Title,{children:p({id:A},{name:k})})})]})})}return w=[{label:k,info:{category:"category"in _&&_?.category||"",name:_?.info?.displayName}}],o==="chooseAttribute"&&(v=s==="component"?"component":"kind"in _?_.kind:""),o==="addComponentToDynamicZone"&&(v="dynamiczone",w.push({label:i})),(o==="attribute"||o==="customField")&&(v=n,w.push({label:t})),m.jsx(fn.Header,{children:m.jsxs(Ee,{gap:3,children:[d&&m.jsx(dl,{"aria-label":p({id:ne("modalForm.header.back"),defaultMessage:"Back"}),startIcon:m.jsx(qv,{}),onClick:()=>y({forTarget:s,targetUid:c}),href:"#back",isExternal:!1}),m.jsx(Co,{type:v,customField:u}),m.jsx(MT,{label:w.map(({label:A})=>A).join(","),children:w.map(({label:A,info:j},P,O)=>{if(A=Ni(A),!A)return null;const B=`${A}.${P}`;return j?.category&&(A=`${A} (${Ni(j.category)} - ${Ni(j.name)})`),m.jsx(NT,{isCurrent:P===O.length-1,children:A},B)})})]})})},DZ=({modalType:e,forTarget:t,kind:n,actionType:r,step:i})=>{switch(e){case"chooseAttribute":return ne(`modalForm.sub-header.chooseAttribute.${t?.includes("component")?"component":n||"collectionType"}`);case"attribute":return ne(`modalForm.sub-header.attribute.${r}${i!=="null"&&i!==null&&r!=="edit"?".step":""}`);case"customField":return ne(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return ne("modalForm.sub-header.addComponentToDynamicZone");default:return ne("configurations")}},LZ=({actionType:e,modalType:t,forTarget:n,kind:r,step:i,attributeType:s,attributeName:o,customField:c})=>{const{formatMessage:u}=mt(),d=t==="customField"?c?.intlLabel:{id:ne(`attribute.${s}`)};return m.jsxs(Ee,{direction:"column",alignItems:"flex-start",paddingBottom:1,gap:1,children:[m.jsx(Fe,{tag:"h2",variant:"beta",children:u({id:DZ({actionType:e,forTarget:n,kind:r,step:i,modalType:t}),defaultMessage:"Add new field"},{type:d?Ni(u(d)):"",name:Ni(o),step:i})}),m.jsx(Fe,{variant:"pi",textColor:"neutral600",children:u({id:ne(`attribute.${s}.description`),defaultMessage:"A type for modeling data"})})]})},k0={alien:RI,apps:jI,archive:II,arrowDown:AI,arrowLeft:qv,arrowRight:TI,arrowUp:Mv,attachment:Sd,bell:EI,bold:SI,book:CI,briefcase:kI,brush:Kc,bulletList:wI,calendar:_I,car:xI,cast:bI,chartBubble:yI,chartCircle:vI,chartPie:gI,check:Ov,clock:mI,cloud:hI,code:Nv,cog:fI,collapse:pI,command:dI,connector:uI,crop:cI,crown:lI,cup:sI,cursor:oI,dashboard:aI,database:iI,discuss:rI,doctor:nI,earth:tI,emotionHappy:eI,emotionUnhappy:QA,envelop:XA,exit:YA,expand:Iv,eye:Qv,feather:Zh,file:KA,fileError:JA,filePdf:GA,fileXls:VA,fileZip:Av,fileCsv:WA,filter:qA,folder:_d,gate:HA,gift:ZA,globe:UA,grid:BA,handHeart:LA,hashtag:DA,headphone:$A,heart:PA,house:NA,information:MA,italic:FA,key:zA,landscape:OA,layer:RA,layout:jA,lightbulb:IA,link:AA,lock:TA,magic:EA,manyToMany:Xv,manyToOne:Yv,manyWays:Kv,medium:SA,message:CA,microphone:kA,monitor:wA,moon:_A,music:xA,oneToMany:Jv,oneToOne:Gv,oneWay:Vv,paint:Kc,paintBrush:Kc,paperPlane:bA,pencil:yA,phone:vA,picture:gA,pin:mA,pinMap:hA,plane:fA,play:pA,plus:ui,priceTag:dA,puzzle:uA,question:cA,quote:lA,refresh:Ed,restaurant:sA,rocket:oA,rotate:aA,scissors:iA,search:Wv,seed:rA,server:nA,shield:tA,shirt:eA,shoppingCart:QT,slideshow:XT,stack:YT,star:KT,store:JT,strikeThrough:GT,sun:VT,television:WT,thumbDown:Fv,thumbUp:zv,train:qT,twitter:HT,typhoon:ZT,underline:UT,user:BT,volumeMute:LT,volumeUp:DT,walk:$T,wheelchair:PT,write:Zh},BZ=vt(Ee)`
  label {
    ${Zv()}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,UZ=({iconKey:e,name:t,onChange:n,isSelected:r,ariaLabel:i})=>{const s=k0[e];return m.jsx(nt.Root,{name:t,required:!1,children:m.jsxs(nt.Label,{children:[m.jsxs(Pv,{children:[i,m.jsx(nt.Input,{type:"radio",checked:r,onChange:n,value:e,"aria-checked":r})]}),m.jsx(gl,{label:e,children:m.jsx(Ee,{padding:2,cursor:"pointer",hasRadius:!0,background:r?"primary200":void 0,children:m.jsx(s,{width:"2rem",height:"2rem",fill:r?"primary600":"neutral300"})})})]})})},ZZ=({intlLabel:e,name:t,onChange:n,value:r=""})=>{const{formatMessage:i}=mt(),[s,o]=W.useState(!1),[c,u]=W.useState(""),d=Object.keys(k0),[p,h]=W.useState(d),g=W.useRef(null),y=W.useRef(null),v=()=>{o(!s)},w=({target:{value:T}})=>{u(T),h(()=>d.filter(A=>A.toLowerCase().includes(T.toLowerCase())))},_=()=>{v(),u(""),h(d)},k=()=>{n({target:{name:t,value:""}})};return W.useEffect(()=>{s&&y.current?.focus()},[s]),m.jsxs(m.Fragment,{children:[m.jsxs(Ee,{justifyContent:"space-between",paddingBottom:2,children:[m.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",tag:"label",children:i(e)}),m.jsxs(Ee,{gap:1,children:[s?m.jsx($v,{ref:y,name:"searchbar",placeholder:i({id:ne("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{c||v()},onChange:w,value:c,onClear:_,clearLabel:i({id:ne("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:i({id:ne("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):m.jsx(pr,{ref:g,onClick:v,withTooltip:!1,label:i({id:ne("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),variant:"ghost",children:m.jsx(Wv,{})}),r&&m.jsx(gl,{label:i({id:ne("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:m.jsx(pr,{onClick:k,withTooltip:!1,label:i({id:ne("IconPicker.remove.button"),defaultMessage:"Remove the selected icon"}),variant:"ghost",children:m.jsx(xd,{})})})]})]}),m.jsx(BZ,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:p.length>0?p.map(T=>m.jsx(UZ,{iconKey:T,name:t,onChange:n,isSelected:T===r,ariaLabel:i({id:ne("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:T})},T)):m.jsx(Me,{padding:4,grow:2,children:m.jsx(Fe,{variant:"delta",textColor:"neutral600",textAlign:"center",children:i({id:ne("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},HZ=({description:e,error:t,intlLabel:n,modifiedData:r,name:i,onChange:s,value:o})=>{const{formatMessage:c}=mt(),u=W.useRef(s),d=r?.displayName||"",p=W.useRef(d),h=W.useRef(o);W.useEffect(()=>{if(d&&d!==p.current){const w=ey(d);let _=w;try{_=xa(w,2)}catch{}u.current({target:{name:i,value:_}}),h.current=_,p.current=d}else d||(u.current({target:{name:i,value:""}}),h.current="",p.current="")},[d,i,o]);const g=t?c({id:t,defaultMessage:t}):"",y=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",v=c(n);return m.jsxs(nt.Root,{error:g,hint:y,name:i,children:[m.jsx(nt.Label,{children:v}),m.jsx(Gr,{onChange:s,value:o||"",type:"text"}),m.jsx(nt.Error,{})]})},ov=e=>{if(e instanceof Date&&sv(e))return e;if(typeof e=="string"||typeof e=="number"){const t=new Date(e);if(sv(t))return t}},sv=e=>!isNaN(e.getTime()),qZ=e=>{const[t,n]=e.split(":");return`${t}:${n}`},WZ=e=>e.split(":").length===2?`${e}:00.000`:e,VZ=e=>{if(e)return e.split(":").length>2?qZ(e):e},GZ=e=>{if(e)return WZ(e)},JZ=({value:e})=>VZ(e),lv=(e,t,n,r)=>{const i=GZ(r);e({target:{name:t,value:i,type:n}})},KZ=({autoComplete:e,customInputs:t,description:n,disabled:r,intlLabel:i,labelAction:s,error:o,name:c,onChange:u,onDelete:d,options:p=[],placeholder:h,required:g,step:y,type:v,value:w,isNullable:_,autoFocus:k,attribute:T,attributeName:A,conditionFields:j,...P})=>{const{formatMessage:O}=mt(),B=(de,N)=>{if(de&&(N==="minLength"&&N in de||N==="maxLength"&&N in de||N==="max"&&N in de||N==="min"&&N in de))return de[N]},{hint:U}=YZ({description:n,fieldSchema:{minLength:B(T,"minLength"),maxLength:B(T,"maxLength"),max:B(T,"max"),min:B(T,"min")},type:T?.type||v}),[Y,X]=W.useState(!1),q=t?t[v]:null,se=w??void 0,R=se??"";function G(de){if(!de)return null;if(typeof de=="string")return O({id:de,defaultMessage:de});const N={...de.values};return O({id:de.id,defaultMessage:de?.defaultMessage??de.id},N)}const x=G(o)??void 0;if(q)return m.jsx(q,{...P,attribute:T,description:n,hint:U,disabled:r,intlLabel:i,labelAction:s,error:x||"",name:c,onChange:u,onDelete:d,options:p,required:g,placeholder:h,type:v,value:se,autoFocus:k,attributeName:A,conditionFields:j});const L=i.id?O({id:i.id,defaultMessage:i.defaultMessage},{...i.values}):c,Ce=h?O({id:h.id,defaultMessage:h.defaultMessage},{...h.values}):"",le=()=>{switch(v){case"json":return m.jsx(PI,{value:se,disabled:r,onChange:de=>{const N=T&&"required"in T&&!T?.required&&!de.length?null:de;u({target:{name:c,value:N}},!1)},minHeight:"25.2rem",maxHeight:"50.4rem"});case"bool":return m.jsx(NI,{checked:w===null?null:w||!1,disabled:r,offLabel:O({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:O({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:de=>{u({target:{name:c,value:de.target.checked}})}});case"checkbox":return m.jsx(pl,{disabled:r,onCheckedChange:de=>{u({target:{name:c,value:de}})},checked:!!se,children:L});case"datetime":{const de=ov(se);return m.jsx(MI,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:N=>{const Te=N?N.toISOString():null;u({target:{name:c,value:Te,type:v}})},onClear:()=>u({target:{name:c,value:null,type:v}}),placeholder:Ce,value:de})}case"date":{const de=ov(se);return m.jsx(FI,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:N=>{u({target:{name:c,value:N?mj(N,{representation:"date"}):null,type:v}})},onClear:()=>u({target:{name:c,value:null,type:v}}),placeholder:Ce,value:de})}case"number":return m.jsx(Hv,{disabled:r,onValueChange:de=>{u({target:{name:c,value:de,type:v}})},placeholder:Ce,step:y,value:se,autoFocus:k});case"email":return m.jsx(Gr,{autoComplete:e,disabled:r,onChange:de=>{u({target:{name:c,value:de.target.value,type:v}})},placeholder:Ce,type:"email",value:R,autoFocus:k});case"timestamp":case"text":case"string":return m.jsx(Gr,{autoComplete:e,disabled:r,onChange:de=>{u({target:{name:c,value:de.target.value,type:v}})},placeholder:Ce,type:"text",value:R,autoFocus:k});case"password":return m.jsx(Gr,{autoComplete:e,disabled:r,endAction:m.jsx("button",{"aria-label":O({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{X(de=>!de)},style:{border:"none",padding:0,background:"transparent"},type:"button",children:Y?m.jsx(Qv,{fill:"neutral500"}):m.jsx(zI,{fill:"neutral500"})}),onChange:de=>{u({target:{name:c,value:de.target.value,type:v}})},placeholder:Ce,type:Y?"text":"password",value:R});case"select":return m.jsx(Jr,{disabled:r,onChange:de=>{u({target:{name:c,value:de,type:"select"}})},placeholder:Ce,value:se,children:p.map(({metadatas:{intlLabel:de,disabled:N,hidden:Te},key:oe,value:z})=>m.jsx(Wn,{value:z,disabled:N,hidden:Te,children:O(de)},oe))});case"textarea":return m.jsx(kd,{disabled:r,onChange:de=>u({target:{name:c,value:de.target.value,type:v}}),placeholder:Ce,value:R});case"time":{const de=JZ({value:se});return m.jsx(OI,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:N=>lv(u,c,v,N),onClear:()=>lv(u,c,v,void 0),value:de})}default:return m.jsx(Gr,{disabled:!0,placeholder:"Not supported",type:"text",value:""})}};return m.jsxs(nt.Root,{error:x,name:c,hint:U,required:g,children:[v!=="checkbox"?m.jsx(nt.Label,{action:s,children:L}):null,le(),m.jsx(nt.Error,{}),m.jsx(nt.Hint,{})]})},YZ=({description:e,fieldSchema:t,type:n})=>{const{formatMessage:r}=mt(),i=()=>e?.id?r({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:o,minimum:c}=QZ(t),u=XZ({type:n,minimum:c,maximum:o}),d=typeof c=="number",p=typeof o=="number",h=p&&d,g=p||d;return!e?.id&&!g?"":r({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:c,max:o,description:i(),unit:u?.message&&g?r(u.message,u.values):null,divider:h?r({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:g?m.jsx("br",{}):null})})()}},XZ=({type:e,minimum:t,maximum:n})=>{if(e&&!["string","uid","richtext","email","password","text"].includes(e))return{};const r=Math.max(t||0,n||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:r}}},QZ=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:t,maxLength:n,max:r,min:i}=e;let s,o;const c=Number(i),u=Number(t);Number.isNaN(c)?Number.isNaN(u)||(s=u):s=c;const d=Number(r),p=Number(n);return Number.isNaN(d)?Number.isNaN(p)||(o=p):o=d,{maximum:o,minimum:s}},fd=W.memo(KZ,fo),e8=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:r}=Yn(),i=ml(),s=r.filter(_0),o=n[t];if(!o)return null;const c=({uid:u,plugin:d,title:p,restrictRelationsTo:h})=>()=>{const g=d?`${d}_${p}`:p;i(an.onChangeRelationTarget({target:{value:u,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:g,targetContentTypeAllowedRelations:h}}))};return m.jsxs(An.Root,{children:[m.jsx(t8,{children:`${o.info.displayName} ${o.plugin?`(from: ${o.plugin})`:""}`}),m.jsx(An.Content,{zIndex:"popover",children:s.map(({uid:u,title:d,restrictRelationsTo:p,plugin:h})=>m.jsxs(An.Item,{onSelect:c({uid:u,plugin:h,title:d,restrictRelationsTo:p}),children:[d,"",h&&m.jsxs(m.Fragment,{children:["(from: ",h,")"]})]},u))})]})},t8=vt(An.Trigger)`
  max-width: 16.8rem;
  span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,cv=({disabled:e=!1,error:t,header:n,isMain:r=!1,name:i,onChange:s,oneThatIsCreatingARelationWithAnother:o="",target:c,value:u=""})=>m.jsxs(Me,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[m.jsx(Ee,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center",children:r?m.jsx(Fe,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:n}):m.jsx(e8,{target:c,oneThatIsCreatingARelationWithAnother:o})}),m.jsx(hl,{background:"neutral200"}),m.jsx(Me,{padding:4,children:m.jsx(fd,{disabled:e,error:t?.id||null,intlLabel:{id:ne("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:i,onChange:s,type:"text",value:u})})]});var n8=DI,r8=$I,i8="[object RegExp]";function a8(e){return r8(e)&&n8(e)==i8}var o8=a8,s8=o8,l8=LI,uv=BI,dv=uv&&uv.isRegExp,c8=dv?l8(dv):s8,u8=c8,d8=UI,p8=d8("length"),f8=p8,C0="\\ud800-\\udfff",h8="\\u0300-\\u036f",m8="\\ufe20-\\ufe2f",g8="\\u20d0-\\u20ff",v8=h8+m8+g8,y8="\\ufe0e\\ufe0f",b8="["+C0+"]",hd="["+v8+"]",md="\\ud83c[\\udffb-\\udfff]",x8="(?:"+hd+"|"+md+")",S0="[^"+C0+"]",E0="(?:\\ud83c[\\udde6-\\uddff]){2}",T0="[\\ud800-\\udbff][\\udc00-\\udfff]",_8="\\u200d",A0=x8+"?",I0="["+y8+"]?",w8="(?:"+_8+"(?:"+[S0,E0,T0].join("|")+")"+I0+A0+")*",k8=I0+A0+w8,C8="(?:"+[S0+hd+"?",hd,E0,T0,b8].join("|")+")",pv=RegExp(md+"(?="+md+")|"+C8+k8,"g");function S8(e){for(var t=pv.lastIndex=0;pv.test(e);)++t;return t}var E8=S8,T8=f8,A8=ty,I8=E8;function j8(e){return A8(e)?I8(e):T8(e)}var R8=j8,fv=qI,O8=GI,z8=ty,F8=ZI,M8=u8,N8=R8,P8=VI,$8=HI,hv=WI,D8=30,L8="...",B8=/\w*$/;function U8(e,t){var n=D8,r=L8;if(F8(t)){var i="separator"in t?t.separator:i;n="length"in t?$8(t.length):n,r="omission"in t?fv(t.omission):r}e=hv(e);var s=e.length;if(z8(e)){var o=P8(e);s=o.length}if(n>=s)return e;var c=n-N8(r);if(c<1)return r;var u=o?O8(o,0,c).join(""):e.slice(0,c);if(i===void 0)return u+r;if(o&&(c+=u.length-c),M8(i)){if(e.slice(c).search(i)){var d,p=u;for(i.global||(i=RegExp(i.source,hv(B8.exec(i))+"g")),i.lastIndex=0;d=i.exec(p);)var h=d.index;u=u.slice(0,h===void 0?c:h)}}else if(e.indexOf(fv(i),c)!=c){var g=u.lastIndexOf(i);g>-1&&(u=u.slice(0,g))}return u+r}var Z8=U8;const mv=gi(Z8),H8=vt(Me)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,q8=vt(Me)`
  background: ${({theme:e,$isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  flex: 0 0 2.4rem;
  svg {
    width: 2.4rem;
    height: 2.4rem;
    max-width: unset;
    path {
      fill: ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  cursor: pointer;
  &:disabled {
    cursor: not-allowed;
    background: ${({theme:e})=>e.colors.neutral150};

    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral300};
      }
    }
  }
  display: flex;
  justify-content: center;
  align-items: center;
`,W8=vt(Ee)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,V8={oneWay:Vv,oneToOne:Gv,oneToMany:Jv,manyToOne:Yv,manyToMany:Xv,manyWay:Kv},G8=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],J8=["oneWay","manyWay"],K8=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:r,targetUid:i})=>{const s=ml(),{formatMessage:o}=mt(),{contentTypes:c}=Yn(),d=(e==="component"?"component":Kt(c,[i,"kind"],""))==="collectionType"?G8:J8,p=n==="manyToOne",h=Kt(c,[r,"info","displayName"],"unknown"),g=p?h:t,y=p?t:h,v=xa(g,n==="manyToMany"?2:1),w=Kt(c,[r,"restrictRelationsTo"],null),_=xa(y,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?m.jsxs(Ee,{style:{flex:1},children:[m.jsx(H8,{children:m.jsx(Ee,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:m.jsx(Td,{tagName:"button",children:m.jsx(Ee,{gap:3,children:d.map(k=>{const T=V8[k],A=w===null||w.includes(k);return m.jsx(q8,{tag:"button",$isSelected:n===k,disabled:!A,onClick:()=>{A&&s(an.onChangeRelationType({target:{oneThatIsCreatingARelationWithAnother:t,value:k}}))},padding:2,type:"button","aria-label":o({id:ne(`relation.${k}`)}),"aria-pressed":n===k,"data-relation-type":k,children:m.jsx(T,{"aria-hidden":"true"},k)},k)})})})})}),m.jsxs(W8,{justifyContent:"center",children:[m.jsxs(Fe,{children:[mv(v,{length:24}),""]}),m.jsxs(Fe,{textColor:"primary600",children:[o({id:ne(`relation.${n}`)}),""]}),m.jsx(Fe,{children:mv(_,{length:24})})]})]}):null},Y8=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:r,onChange:i,targetUid:s})=>{const o=Ad(n.relation,n.targetAttribute);return m.jsxs(Ee,{style:{position:"relative"},children:[m.jsx(cv,{isMain:!0,header:t,error:e?.name||null,name:"name",onChange:i,value:n?.name||""}),m.jsx(K8,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:t,relationType:o,target:n.target,targetUid:s}),m.jsx(cv,{disabled:["oneWay","manyWay"].includes(o),error:e?.targetAttribute||null,name:"targetAttribute",onChange:i,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:n?.targetAttribute||""})]})},X8=({error:e=null,intlLabel:t,name:n,onChange:r,value:i=void 0,isCreating:s,dynamicZoneTarget:o})=>{const{formatMessage:c}=mt(),{allComponentsCategories:u}=Yn(),[d,p]=W.useState(u),h=e?c({id:e,defaultMessage:e}):"",g=c(t),y=w=>{r({target:{name:n,value:w,type:"select-category"}})},v=w=>{p(_=>[..._,w]),y(w)};return m.jsxs(nt.Root,{error:h,name:n,children:[m.jsx(nt.Label,{children:g}),m.jsx(JI,{disabled:!s&&!o,onChange:y,onCreateOption:v,value:i,creatable:!0,children:d.map(w=>m.jsx(KI,{value:w,children:w},w))}),m.jsx(nt.Error,{})]})},gd=(e,t)=>t.find(n=>n.component===e),j0=(e,t,n=0)=>{const r=gd(e,t);if(!r||!r.childComponents||r.childComponents.length===0)return n;let i=n;return r.childComponents.forEach(s=>{const o=j0(s.component,t,n+1);o>i&&(i=o)}),i},R0=(e,t)=>{const n=(s,o)=>{const c=[];if(c.push(o),!s.uidsOfAllParents)return c;for(const u of s.uidsOfAllParents){const d=gd(u,t);d&&c.push(...n(d,o+1))}return c},r=gd(e,t);return r?Math.max(...n(r,1)):0},Q8=({error:e=null,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:r,isCreatingComponentWhileAddingAField:i,componentToCreate:s,name:o,onChange:c,targetUid:u,forTarget:d,value:p})=>{const{formatMessage:h}=mt(),g=e?h({id:e,defaultMessage:e}):"",y=h(t),{componentsGroupedByCategory:v,componentsThatHaveOtherComponentInTheirAttributes:w,nestedComponents:_}=Yn(),k=d==="component";let T=Object.entries(v).reduce((A,j)=>{const[P,O]=j,B=O.map(U=>({uid:U.uid,label:U.info.displayName,categoryName:P}));return[...A,...B]},[]);return n&&(T=T.filter(({uid:A})=>{const j=j0(A,w),P=R0(u,_);return j+P<=ny})),k&&(T=T.filter(A=>A.uid!==u)),i&&(T=[{uid:p,label:s?.displayName,categoryName:s?.category}]),m.jsxs(nt.Root,{error:g,name:o,children:[m.jsx(nt.Label,{children:y}),m.jsx(Jr,{disabled:i||!r,onChange:A=>{c({target:{name:o,value:A,type:"select-category"}})},value:p||"",children:T.map(A=>m.jsx(Wn,{value:A.uid,children:`${A.categoryName} - ${A.label}`},A.uid))}),m.jsx(nt.Error,{})]})},eH=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:r,value:i,targetUid:s})=>{const{formatMessage:o}=mt(),{componentsGroupedByCategory:c,contentTypes:u}=Yn(),d=pd(u[s].attributes,e);if(!d)return null;const p="components"in d?d?.components:[],h=Object.keys(c).reduce((v,w)=>{const _=c[w].filter(({uid:k})=>!p.includes(k));return _.length>0&&(v[w]=_),v},{}),g=Object.entries(h).reduce((v,w)=>{const[_,k]=w,T={label:_,children:k.map(({uid:A,info:{displayName:j}})=>({label:j,value:A}))};return v.push(T),v},[]),y=o({id:ne("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:i?.length??0});return m.jsxs(nt.Root,{name:n,children:[m.jsx(nt.Label,{children:o(t)}),m.jsx(Bv,{id:"select1",customizeContent:()=>y,onChange:v=>{r({target:{name:n,value:v,type:"select-components"}})},options:g,value:i||[]})]})},tH=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:i,options:s,value:o=""})=>{const{formatMessage:c}=mt(),u=c(e),d=t?c({id:t,defaultMessage:t}):"",p=h=>{i({target:{name:r,value:h,type:"select"}}),o&&n.default!==void 0&&n.default!==null&&i({target:{name:"default",value:null}})};return m.jsxs(nt.Root,{error:d,name:r,children:[m.jsx(nt.Label,{children:u}),m.jsx(Jr,{onChange:p,value:o||"",children:s.map(({metadatas:{intlLabel:h,disabled:g,hidden:y},key:v,value:w})=>m.jsx(Wn,{value:w,disabled:g,hidden:y,children:c({id:h.id,defaultMessage:h.defaultMessage},h.values)},v))}),m.jsx(nt.Error,{})]})},nH=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:i,options:s,value:o=""})=>{const{formatMessage:c}=mt(),u=c(e),d=t?c({id:t,defaultMessage:t}):"",p=h=>{i({target:{name:r,value:h,type:"select"}}),o&&(h==="biginteger"&&o!=="biginteger"&&(n.default!==void 0&&n.default!==null&&i({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&i({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&i({target:{name:"min",value:null}})),typeof h=="string"&&["decimal","float","integer"].includes(h)&&o==="biginteger"&&(n.default!==void 0&&n.default!==null&&i({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&i({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&i({target:{name:"min",value:null}})))};return m.jsxs(nt.Root,{error:d,name:r,children:[m.jsx(nt.Label,{children:u}),m.jsx(Jr,{onChange:p,value:o||"",children:s.map(({metadatas:{intlLabel:h,disabled:g,hidden:y},key:v,value:w})=>m.jsx(Wn,{value:w,disabled:g,hidden:y,children:c(h)},v))}),m.jsx(nt.Error,{})]})},rH=({description:e=null,error:t=null,intlLabel:n,modifiedData:r,name:i,onChange:s,value:o=null})=>{const{formatMessage:c}=mt(),u=W.useRef(s),d=W.useRef(o),p=W.useRef(r?.displayName||""),h=r?.displayName||"";W.useEffect(()=>{if(h&&h!==p.current){const w=ey(h);u.current({target:{name:i,value:w}}),d.current=w,p.current=h}else h||(u.current({target:{name:i,value:""}}),d.current="",p.current="")},[h,i,o]);const g=t?c({id:t,defaultMessage:t}):"",y=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",v=c(n);return m.jsxs(nt.Root,{error:g,hint:y,name:i,children:[m.jsx(nt.Label,{children:v}),m.jsx(Gr,{onChange:s,value:o||"",type:"text"}),m.jsx(nt.Error,{}),m.jsx(nt.Hint,{})]})},BH=(e,t)=>{const n=[];return Object.entries(e).forEach(([r,i])=>{if(i.attributes){const s=Array.isArray(i.attributes)?i.attributes.reduce((o,c,u)=>(o[u.toString()]=c,o),{}):i.attributes;Object.entries(s).forEach(([o,c])=>{c.conditions?.visible&&Object.entries(c.conditions.visible).forEach(([,u])=>{const[d]=u;d&&d.var===t&&n.push({contentTypeUid:r,contentType:i.info.displayName,attribute:c.name||o})})})}}),n},iH=(e,t,n)=>{if(!e?.visible)return"";const[[r,i]]=Object.entries(e.visible),[s,o]=i,c=t.find(g=>g.name===s.var),u=c?c.name:s.var,d=r==="=="?"is":"is not",p=String(o);return`If ${u} ${d} ${p}, then ${r==="=="?"Show":"Hide"} ${n}`},aH=(e,t)=>e.filter(n=>{const r=n.type==="boolean"||n.type==="enumeration",i=n.name!==t;return r&&i}).map(n=>({name:n.name,type:n.type,enum:n.type==="enumeration"?n.enum:void 0})),gv=({form:e,formErrors:t,genericInputProps:n,modifiedData:r,onChange:i})=>{const{formatMessage:s}=mt();return m.jsx(m.Fragment,{children:e.map((o,c)=>o.items.length===0?null:m.jsxs(Me,{children:[o.sectionTitle&&m.jsx(Me,{paddingBottom:4,children:m.jsx(Fe,{variant:"delta",tag:"h3",children:s(o.sectionTitle)})}),o.intlLabel&&m.jsx(Fe,{variant:"pi",textColor:"neutral600",children:s(o.intlLabel)}),m.jsx(dr.Root,{gap:4,children:o.items.map((u,d)=>{const p=`${c}.${d}`,h=Kt(r,u.name,void 0),g=Object.keys(t).find(v=>v===u.name),y=g?t[g].id:Kt(t,[...u.name.split(".").filter(v=>v!=="componentToCreate"),"id"],null);if(u.type==="pushRight")return m.jsx(dr.Item,{col:u.size||6,xs:12,direction:"column",alignItems:"stretch",children:m.jsx("div",{})},u.name||p);if(u.type==="condition-form"){const v=Kt(r,u.name),w=n.contentTypeSchema?.attributes||[];if(!n.contentTypeSchema)return console.warn("contentTypeSchema is undefined, skipping condition form"),null;const _=aH(w,r.name),k=s({id:"form.attribute.condition.no-fields",defaultMessage:"No boolean or enumeration fields available to set conditions on."});return m.jsx(dr.Item,{col:u.size||12,xs:12,direction:"column",alignItems:"stretch",children:!v||Object.keys(v).length===0?m.jsxs(Me,{children:[v&&Object.keys(v).length>0&&m.jsx(Fe,{variant:"sigma",textColor:"neutral800",marginBottom:2,children:iH(v,_,n.attributeName||r.name)}),m.jsx(gl,{label:k,children:m.jsx(gt,{marginTop:v&&Object.keys(v).length>0?0:4,fullWidth:!0,variant:"secondary",onClick:()=>{i({target:{name:u.name,value:{visible:{"==":[{var:""},""]}}}})},startIcon:m.jsx("span",{"aria-hidden":!0,children:""}),disabled:_.length===0,children:s({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})})})]}):m.jsx(fd,{...u,...n,error:y,onChange:i,value:h,autoFocus:d===0,attributeName:r.name,conditionFields:_,onDelete:()=>{i({target:{name:u.name}})}})},u.name||p)}return m.jsx(dr.Item,{col:u.size||6,xs:12,direction:"column",alignItems:"stretch",children:m.jsx(fd,{...u,...n,error:y,onChange:i,value:h,autoFocus:d===0})},u.name||p)})})]},c))})},oH=({description:e=null,disabled:t=!1,error:n="",intlLabel:r,labelAction:i,name:s,onChange:o,placeholder:c=null,value:u=""})=>{const{formatMessage:d}=mt(),p=n?d({id:n,defaultMessage:n}):"",h=e?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",g=d(r),y=c?d({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):"",v=Array.isArray(u)?u.join(`
`):"",w=_=>{const k=_.target.value.split(`
`);o({target:{name:s,value:k}})};return m.jsxs(nt.Root,{error:p,hint:h,name:s,children:[m.jsx(nt.Label,{action:i,children:g}),m.jsx(kd,{disabled:t,onChange:w,placeholder:y,value:v}),m.jsx(nt.Error,{}),m.jsx(nt.Hint,{})]})},sH=({disabled:e,tooltipMessage:t,onClick:n,marginTop:r=4})=>{const{formatMessage:i}=mt(),s=m.jsx(gt,{marginTop:r,fullWidth:!0,variant:"secondary",disabled:e,onClick:n,startIcon:m.jsx("span",{"aria-hidden":!0,children:""}),children:i({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})});return t?m.jsx(gl,{description:t,children:s}):s},lH=vt(Co)`
  width: 16px !important;
  height: 16px !important;
  svg {
    width: 16px !important;
    height: 16px !important;
  }
`,cH=e=>{if(!e?.visible)return{dependsOn:"",operator:"is",value:"",action:"show"};const[[t,n]]=Object.entries(e.visible),[r,i]=n;return{dependsOn:r.var,operator:t==="=="?"is":"isNot",value:i,action:"show"}},uH=e=>{if(!e.dependsOn)return null;const t=ry(),n={dependsOn:e.dependsOn,operator:e.operator,value:e.value};try{return t.validate(n),{visible:{[e.operator==="is"&&e.action==="show"||e.operator==="isNot"&&e.action==="hide"?"==":"!="]:[{var:e.dependsOn},e.value]}}}catch{return null}},dH=({name:e,value:t,onChange:n,onDelete:r,attributeName:i,conditionFields:s=[]})=>{const{formatMessage:o}=mt(),[c,u]=W.useState(cH(t)),[d,p]=W.useState(!1),h=!!t?.visible;Array.isArray(s)||(s=[]);const g=s.find(P=>P.name===c.dependsOn),y=g?.type==="enumeration",v=P=>{u(P);const O=ry(),B={dependsOn:P.dependsOn,operator:P.operator,value:P.value};try{O.validate(B);const U=P.operator==="is"&&P.action==="show"||P.operator==="isNot"&&P.action==="hide"?"==":"!=",Y=P.dependsOn?{visible:{[U]:[{var:P.dependsOn},P.value]}}:null;Y&&n({target:{name:e,value:Y}})}catch{}},w=()=>{const P={dependsOn:"",operator:"is",value:"",action:"show"};u(P),n({target:{name:e,value:uH(P)}})},_=()=>{u({dependsOn:"",operator:"is",value:"",action:"show"}),n({target:{name:e,value:null}}),r(),p(!1)},k=P=>{const O=P?.toString()||"",U=s.find(X=>X.name===O)?.type==="enumeration",Y={...c,dependsOn:O,value:O?U?"":!1:c.value};v(Y)},T=P=>{const O=P?.toString()||"is",B={...c,operator:O};v(B)},A=P=>{const O=y?P?.toString():P?.toString()==="true",B={...c,value:O};v(B)},j=P=>{const O=P?.toString()||"show",B={...c,action:O};v(B)};return h?m.jsx(Me,{marginTop:2,children:m.jsxs(Me,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderWidth:.5,borderStyle:"solid",children:[m.jsxs(Ee,{justifyContent:"space-between",alignItems:"center",padding:4,children:[m.jsx(Fe,{variant:"sigma",textColor:"neutral800",children:o({id:ne("form.attribute.condition.title"),defaultMessage:"Condition for {name}"},{name:m.jsx("strong",{children:i})})}),m.jsxs(Li.Root,{open:d,onOpenChange:p,children:[m.jsx(Li.Trigger,{children:m.jsx(pr,{label:"Delete",children:m.jsx(xd,{})})}),m.jsx(So,{onConfirm:_,children:o({id:ne("popUpWarning.bodyMessage.delete-condition"),defaultMessage:"Are you sure you want to delete this condition?"})})]})]}),m.jsxs(Me,{background:"neutral100",padding:4,children:[m.jsx(Me,{paddingBottom:2,children:m.jsx(Fe,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:o({id:ne("form.attribute.condition.if"),defaultMessage:"IF"})})}),m.jsxs(Ee,{gap:4,children:[m.jsx(Me,{minWidth:0,flex:1,children:m.jsx(nt.Root,{name:`${e}.field`,children:m.jsx(Jr,{value:c.dependsOn,onChange:k,placeholder:o({id:ne("form.attribute.condition.field"),defaultMessage:"field"}),children:s.map(P=>m.jsx(Wn,{value:P.name,children:m.jsxs(Ee,{gap:2,alignItems:"center",children:[m.jsx(lH,{type:P.type}),m.jsx("span",{children:P.name})]})},P.name))})})}),m.jsx(Me,{minWidth:0,flex:1,children:m.jsx(nt.Root,{name:`${e}.operator`,children:m.jsxs(Jr,{value:c.operator,onChange:T,disabled:!c.dependsOn,placeholder:o({id:ne("form.attribute.condition.operator"),defaultMessage:"condition"}),children:[m.jsx(Wn,{value:"is",children:o({id:ne("form.attribute.condition.operator.is"),defaultMessage:"is"})}),m.jsx(Wn,{value:"isNot",children:o({id:ne("form.attribute.condition.operator.isNot"),defaultMessage:"is not"})})]})})}),m.jsx(Me,{minWidth:0,flex:1,children:m.jsx(nt.Root,{name:`${e}.value`,children:m.jsx(Jr,{value:c.value?.toString()||"",onChange:A,disabled:!c.dependsOn,placeholder:o({id:ne("form.attribute.condition.value"),defaultMessage:"value"}),children:y&&g?.enum?g.enum.map(P=>m.jsx(Wn,{value:P,children:P},P)):m.jsxs(m.Fragment,{children:[m.jsx(Wn,{value:"true",children:o({id:ne("form.attribute.condition.value.true"),defaultMessage:"true"})}),m.jsx(Wn,{value:"false",children:o({id:ne("form.attribute.condition.value.false"),defaultMessage:"false"})})]})})})})]})]}),m.jsxs(Me,{background:"neutral100",padding:4,children:[m.jsx(Me,{paddingBottom:4,children:m.jsx(Fe,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:o({id:ne("form.attribute.condition.then"),defaultMessage:"THEN"})})}),m.jsx(Me,{paddingBottom:4,children:m.jsx(nt.Root,{name:`${e}.action`,children:m.jsxs(Jr,{value:c.action,onChange:j,placeholder:o({id:ne("form.attribute.condition.action"),defaultMessage:"action"}),children:[m.jsxs(Wn,{value:"show",children:["Show ",m.jsx("span",{style:{fontWeight:"bold"},children:i||e})]}),m.jsxs(Wn,{value:"hide",children:["Hide ",m.jsx("span",{style:{fontWeight:"bold"},children:i||e})]})]})})})]})]})}):m.jsx(Me,{padding:4,margin:4,hasRadius:!0,background:"neutral0",borderColor:"neutral200",children:m.jsx(sH,{onClick:w})})},Ir={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:ne("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},pH={sections:[{sectionTitle:null,items:[Ir]}]},Ca={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:ne("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:ne("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:ne("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},We={default:{name:"default",type:"text",intlLabel:{id:ne("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:ne("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:ne("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:ne("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:ne("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:ne("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:ne("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:ne("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:ne("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:ne("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:ne("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:ne("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:ne("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},wn={sectionTitle:{id:ne("form.attribute.condition.title"),defaultMessage:"Condition"},intlLabel:{id:ne("form.attribute.condition.description"),defaultMessage:"Toggle field settings depending on the value of another boolean or enumeration field."},items:[{name:"conditions",type:"condition-form",intlLabel:{id:ne("form.attribute.condition.label"),defaultMessage:"Conditions"},validations:{required:!0}}]},fH={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.private]},wn]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:ne("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.private]},wn]}},component({repeatable:e},t){if(t==="1")return{sections:Ca.advanced()};if(e){const n={...We.min,intlLabel:{id:ne("form.attribute.item.minimumComponents"),defaultMessage:"Minimum components"}},r={...We.max,intlLabel:{id:ne("form.attribute.item.maximumComponents"),defaultMessage:"Maximum components"}};return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.private,n,r]},wn]}}return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.private]},wn]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...We.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.unique,We.private]},wn]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.max,We.min]},wn]}},email(){return{sections:[{sectionTitle:null,items:[{...We.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.unique,We.maxLength,We.minLength,We.private]},wn]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:ne("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:ne("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:ne("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.private]},wn]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.private]},wn]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:ne("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.private]},wn]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:ne("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.unique,We.max,We.min,We.private]},wn]}},password(){return{sections:[{sectionTitle:null,items:[We.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.maxLength,We.minLength,We.private]},wn]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.private]},wn]}},richtext(){return{sections:[{sectionTitle:null,items:[We.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.maxLength,We.minLength,We.private]},wn]}},text(){return{sections:[{sectionTitle:null,items:[We.default,We.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.unique,We.maxLength,We.minLength,We.private]},wn]}},uid(e){return{sections:[{sectionTitle:null,items:[{...We.default,disabled:!!e.targetField,type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[We.required,We.maxLength,We.minLength,We.private,We.regex]},wn]}}},vd={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:ne("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:ne("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:ne("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:ne("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},hH={component(e,t){if(t==="1"){const n=e.createComponent===!0?Ca.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[vd]},...n]}}return{sections:[{sectionTitle:null,items:[Ir,{name:"component",type:"select-component",intlLabel:{id:ne("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:ne("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:ne("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:ne("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:ne("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ir,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:ne("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:ne("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:ne("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ir]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:ne("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:ne("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ir]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:ne("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:ne("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:ne("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:ne("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ir,{intlLabel:{id:ne("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:ne("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:ne("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:ne("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:ne("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ir]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:ne("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:ne("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:ne("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:ne("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ir]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:ne("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:ne("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:ne("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:ne("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const r=n.filter(({type:i})=>["string","text"].includes(i)).map(({name:i})=>({key:i,value:i,metadatas:{intlLabel:{id:`${i}.no-override`,defaultMessage:i}}}));return{sections:[{sectionTitle:null,items:[{...Ir,placeholder:{id:ne("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:ne("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}},vv={advanced:fH,base:hH};var mH=YI;function gH(e){return e&&e.length?mH(e):[]}var vH=gH;const yH=gi(vH),Ru=e=>e?XI(e,{decamelize:!1,lowercase:!1,separator:"_"}):"";var ul={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ul.exports;(function(e,t){(function(){function n(te,he,E){switch(E.length){case 0:return te.call(he);case 1:return te.call(he,E[0]);case 2:return te.call(he,E[0],E[1]);case 3:return te.call(he,E[0],E[1],E[2])}return te.apply(he,E)}function r(te,he,E,$e){for(var Ke=-1,Le=te==null?0:te.length;++Ke<Le;){var jn=te[Ke];he($e,jn,E(jn),te)}return $e}function i(te,he){for(var E=-1,$e=te==null?0:te.length;++E<$e&&he(te[E],E,te)!==!1;);return te}function s(te,he){for(var E=te==null?0:te.length;E--&&he(te[E],E,te)!==!1;);return te}function o(te,he){for(var E=-1,$e=te==null?0:te.length;++E<$e;)if(!he(te[E],E,te))return!1;return!0}function c(te,he){for(var E=-1,$e=te==null?0:te.length,Ke=0,Le=[];++E<$e;){var jn=te[E];he(jn,E,te)&&(Le[Ke++]=jn)}return Le}function u(te,he){return!!(te!=null&&te.length)&&A(te,he,0)>-1}function d(te,he,E){for(var $e=-1,Ke=te==null?0:te.length;++$e<Ke;)if(E(he,te[$e]))return!0;return!1}function p(te,he){for(var E=-1,$e=te==null?0:te.length,Ke=Array($e);++E<$e;)Ke[E]=he(te[E],E,te);return Ke}function h(te,he){for(var E=-1,$e=he.length,Ke=te.length;++E<$e;)te[Ke+E]=he[E];return te}function g(te,he,E,$e){var Ke=-1,Le=te==null?0:te.length;for($e&&Le&&(E=te[++Ke]);++Ke<Le;)E=he(E,te[Ke],Ke,te);return E}function y(te,he,E,$e){var Ke=te==null?0:te.length;for($e&&Ke&&(E=te[--Ke]);Ke--;)E=he(E,te[Ke],Ke,te);return E}function v(te,he){for(var E=-1,$e=te==null?0:te.length;++E<$e;)if(he(te[E],E,te))return!0;return!1}function w(te){return te.split("")}function _(te){return te.match(Q0)||[]}function k(te,he,E){var $e;return E(te,function(Ke,Le,jn){if(he(Ke,Le,jn))return $e=Le,!1}),$e}function T(te,he,E,$e){for(var Ke=te.length,Le=E+($e?1:-1);$e?Le--:++Le<Ke;)if(he(te[Le],Le,te))return Le;return-1}function A(te,he,E){return he===he?ye(te,he,E):T(te,P,E)}function j(te,he,E,$e){for(var Ke=E-1,Le=te.length;++Ke<Le;)if($e(te[Ke],he))return Ke;return-1}function P(te){return te!==te}function O(te,he){var E=te==null?0:te.length;return E?q(te,he)/E:qi}function B(te){return function(he){return he==null?C:he[te]}}function U(te){return function(he){return te==null?C:te[he]}}function Y(te,he,E,$e,Ke){return Ke(te,function(Le,jn,Ql){E=$e?($e=!1,Le):he(E,Le,jn,Ql)}),E}function X(te,he){var E=te.length;for(te.sort(he);E--;)te[E]=te[E].value;return te}function q(te,he){for(var E,$e=-1,Ke=te.length;++$e<Ke;){var Le=he(te[$e]);Le!==C&&(E=E===C?Le:E+Le)}return E}function se(te,he){for(var E=-1,$e=Array(te);++E<te;)$e[E]=he(E);return $e}function R(te,he){return p(he,function(E){return[E,te[E]]})}function G(te){return te&&te.slice(0,S(te)+1).replace(ql,"")}function x(te){return function(he){return te(he)}}function L(te,he){return p(he,function(E){return te[E]})}function Ce(te,he){return te.has(he)}function le(te,he){for(var E=-1,$e=te.length;++E<$e&&A(he,te[E],0)>-1;);return E}function de(te,he){for(var E=te.length;E--&&A(he,te[E],0)>-1;);return E}function N(te,he){for(var E=te.length,$e=0;E--;)te[E]===he&&++$e;return $e}function Te(te){return"\\"+N_[te]}function oe(te,he){return te==null?C:te[he]}function z(te){return I_.test(te)}function Oe(te){return j_.test(te)}function ue(te){for(var he,E=[];!(he=te.next()).done;)E.push(he.value);return E}function ce(te){var he=-1,E=Array(te.size);return te.forEach(function($e,Ke){E[++he]=[Ke,$e]}),E}function et(te,he){return function(E){return te(he(E))}}function Ue(te,he){for(var E=-1,$e=te.length,Ke=0,Le=[];++E<$e;){var jn=te[E];jn!==he&&jn!==J||(te[E]=J,Le[Ke++]=E)}return Le}function fe(te){var he=-1,E=Array(te.size);return te.forEach(function($e){E[++he]=$e}),E}function ze(te){var he=-1,E=Array(te.size);return te.forEach(function($e){E[++he]=[$e,$e]}),E}function ye(te,he,E){for(var $e=E-1,Ke=te.length;++$e<Ke;)if(te[$e]===he)return $e;return-1}function Re(te,he,E){for(var $e=E+1;$e--;)if(te[$e]===he)return $e;return $e}function Ye(te){return z(te)?pe(te):L_(te)}function Xe(te){return z(te)?V(te):w(te)}function S(te){for(var he=te.length;he--&&J0.test(te.charAt(he)););return he}function pe(te){for(var he=Kl.lastIndex=0;Kl.test(te);)++he;return he}function V(te){return te.match(Kl)||[]}function D(te){return te.match(A_)||[]}var C,ee="4.17.21",xe=200,we="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",re="Expected a function",ae="Invalid `variable` option passed into `_.template`",me="__lodash_hash_undefined__",Z=500,J="__lodash_placeholder__",be=1,je=2,Be=4,ut=1,St=2,yt=1,rt=2,un=4,bt=8,Tt=16,dt=32,mr=64,In=128,Fr=256,Xr=512,Mr=30,Qr="...",Ro=800,Rl=16,Ra=1,Oo=2,zo=3,Nr=1/0,_r=9007199254740991,Ol=17976931348623157e292,qi=NaN,Xn=4294967295,zl=Xn-1,Fl=Xn>>>1,Je=[["ary",In],["bind",yt],["bindKey",rt],["curry",bt],["curryRight",Tt],["flip",Xr],["partial",dt],["partialRight",mr],["rearg",Fr]],_t="[object Arguments]",en="[object Array]",pt="[object AsyncFunction]",Zt="[object Boolean]",Ht="[object Date]",gn="[object DOMException]",Wi="[object Error]",Vi="[object Function]",Fo="[object GeneratorFunction]",Qn="[object Map]",bi="[object Number]",F0="[object Null]",Pr="[object Object]",gp="[object Promise]",M0="[object Proxy]",Oa="[object RegExp]",gr="[object Set]",za="[object String]",Mo="[object Symbol]",N0="[object Undefined]",Fa="[object WeakMap]",P0="[object WeakSet]",Ma="[object ArrayBuffer]",Gi="[object DataView]",Ml="[object Float32Array]",Nl="[object Float64Array]",Pl="[object Int8Array]",$l="[object Int16Array]",Dl="[object Int32Array]",Ll="[object Uint8Array]",Bl="[object Uint8ClampedArray]",Ul="[object Uint16Array]",Zl="[object Uint32Array]",$0=/\b__p \+= '';/g,D0=/\b(__p \+=) '' \+/g,L0=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vp=/&(?:amp|lt|gt|quot|#39);/g,yp=/[&<>"']/g,B0=RegExp(vp.source),U0=RegExp(yp.source),Z0=/<%-([\s\S]+?)%>/g,H0=/<%([\s\S]+?)%>/g,bp=/<%=([\s\S]+?)%>/g,q0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W0=/^\w*$/,V0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hl=/[\\^$.*+?()[\]{}|]/g,G0=RegExp(Hl.source),ql=/^\s+/,J0=/\s/,K0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y0=/\{\n\/\* \[wrapped with (.+)\] \*/,X0=/,? & /,Q0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,e_=/[()=,{}\[\]\/\s]/,t_=/\\(\\)?/g,n_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xp=/\w*$/,r_=/^[-+]0x[0-9a-f]+$/i,i_=/^0b[01]+$/i,a_=/^\[object .+?Constructor\]$/,o_=/^0o[0-7]+$/i,s_=/^(?:0|[1-9]\d*)$/,l_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,No=/($^)/,c_=/['\n\r\u2028\u2029\\]/g,Po="\\ud800-\\udfff",u_="\\u0300-\\u036f",d_="\\ufe20-\\ufe2f",p_="\\u20d0-\\u20ff",_p=u_+d_+p_,wp="\\u2700-\\u27bf",kp="a-z\\xdf-\\xf6\\xf8-\\xff",f_="\\xac\\xb1\\xd7\\xf7",h_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",m_="\\u2000-\\u206f",g_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cp="A-Z\\xc0-\\xd6\\xd8-\\xde",Sp="\\ufe0e\\ufe0f",Ep=f_+h_+m_+g_,Wl="[']",v_="["+Po+"]",Tp="["+Ep+"]",$o="["+_p+"]",Ap="\\d+",y_="["+wp+"]",Ip="["+kp+"]",jp="[^"+Po+Ep+Ap+wp+kp+Cp+"]",Vl="\\ud83c[\\udffb-\\udfff]",b_="(?:"+$o+"|"+Vl+")",Rp="[^"+Po+"]",Gl="(?:\\ud83c[\\udde6-\\uddff]){2}",Jl="[\\ud800-\\udbff][\\udc00-\\udfff]",Ji="["+Cp+"]",Op="\\u200d",zp="(?:"+Ip+"|"+jp+")",x_="(?:"+Ji+"|"+jp+")",Fp="(?:"+Wl+"(?:d|ll|m|re|s|t|ve))?",Mp="(?:"+Wl+"(?:D|LL|M|RE|S|T|VE))?",Np=b_+"?",Pp="["+Sp+"]?",__="(?:"+Op+"(?:"+[Rp,Gl,Jl].join("|")+")"+Pp+Np+")*",w_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",k_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$p=Pp+Np+__,C_="(?:"+[y_,Gl,Jl].join("|")+")"+$p,S_="(?:"+[Rp+$o+"?",$o,Gl,Jl,v_].join("|")+")",E_=RegExp(Wl,"g"),T_=RegExp($o,"g"),Kl=RegExp(Vl+"(?="+Vl+")|"+S_+$p,"g"),A_=RegExp([Ji+"?"+Ip+"+"+Fp+"(?="+[Tp,Ji,"$"].join("|")+")",x_+"+"+Mp+"(?="+[Tp,Ji+zp,"$"].join("|")+")",Ji+"?"+zp+"+"+Fp,Ji+"+"+Mp,k_,w_,Ap,C_].join("|"),"g"),I_=RegExp("["+Op+Po+_p+Sp+"]"),j_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,R_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],O_=-1,Mt={};Mt[Ml]=Mt[Nl]=Mt[Pl]=Mt[$l]=Mt[Dl]=Mt[Ll]=Mt[Bl]=Mt[Ul]=Mt[Zl]=!0,Mt[_t]=Mt[en]=Mt[Ma]=Mt[Zt]=Mt[Gi]=Mt[Ht]=Mt[Wi]=Mt[Vi]=Mt[Qn]=Mt[bi]=Mt[Pr]=Mt[Oa]=Mt[gr]=Mt[za]=Mt[Fa]=!1;var Rt={};Rt[_t]=Rt[en]=Rt[Ma]=Rt[Gi]=Rt[Zt]=Rt[Ht]=Rt[Ml]=Rt[Nl]=Rt[Pl]=Rt[$l]=Rt[Dl]=Rt[Qn]=Rt[bi]=Rt[Pr]=Rt[Oa]=Rt[gr]=Rt[za]=Rt[Mo]=Rt[Ll]=Rt[Bl]=Rt[Ul]=Rt[Zl]=!0,Rt[Wi]=Rt[Vi]=Rt[Fa]=!1;var z_={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},F_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},N_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},P_=parseFloat,$_=parseInt,Dp=typeof Vn=="object"&&Vn&&Vn.Object===Object&&Vn,D_=typeof self=="object"&&self&&self.Object===Object&&self,vn=Dp||D_||Function("return this")(),Yl=t&&!t.nodeType&&t,xi=Yl&&!0&&e&&!e.nodeType&&e,Lp=xi&&xi.exports===Yl,Xl=Lp&&Dp.process,er=function(){try{var te=xi&&xi.require&&xi.require("util").types;return te||Xl&&Xl.binding&&Xl.binding("util")}catch{}}(),Bp=er&&er.isArrayBuffer,Up=er&&er.isDate,Zp=er&&er.isMap,Hp=er&&er.isRegExp,qp=er&&er.isSet,Wp=er&&er.isTypedArray,L_=B("length"),B_=U(z_),U_=U(F_),Z_=U(M_),H_=function te(he){function E(a){if(tn(a)&&!it(a)&&!(a instanceof Le)){if(a instanceof Ke)return a;if(At.call(a,"__wrapped__"))return Bf(a)}return new Ke(a)}function $e(){}function Ke(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=C}function Le(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xn,this.__views__=[]}function jn(){var a=new Le(this.__wrapped__);return a.__actions__=Rn(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Rn(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Rn(this.__views__),a}function Ql(){if(this.__filtered__){var a=new Le(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function q_(){var a=this.__wrapped__.value(),l=this.__dir__,f=it(a),b=l<0,I=f?a.length:0,$=ek(0,I,this.__views__),H=$.start,K=$.end,ie=K-H,_e=b?K:H-1,ve=this.__iteratees__,Se=ve.length,Ne=0,Ze=bn(ie,this.__takeCount__);if(!f||!b&&I==ie&&Ze==ie)return hf(a,this.__actions__);var Ve=[];e:for(;ie--&&Ne<Ze;){_e+=l;for(var ot=-1,Ge=a[_e];++ot<Se;){var ft=ve[ot],ht=ft.iteratee,_n=ft.type,Mn=ht(Ge);if(_n==Oo)Ge=Mn;else if(!Mn){if(_n==Ra)continue e;break e}}Ve[Ne++]=Ge}return Ve}function _i(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var b=a[l];this.set(b[0],b[1])}}function W_(){this.__data__=Va?Va(null):{},this.size=0}function V_(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function G_(a){var l=this.__data__;if(Va){var f=l[a];return f===me?C:f}return At.call(l,a)?l[a]:C}function J_(a){var l=this.__data__;return Va?l[a]!==C:At.call(l,a)}function K_(a,l){var f=this.__data__;return this.size+=this.has(a)?0:1,f[a]=Va&&l===C?me:l,this}function $r(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var b=a[l];this.set(b[0],b[1])}}function Y_(){this.__data__=[],this.size=0}function X_(a){var l=this.__data__,f=Do(l,a);return!(f<0)&&(f==l.length-1?l.pop():fs.call(l,f,1),--this.size,!0)}function Q_(a){var l=this.__data__,f=Do(l,a);return f<0?C:l[f][1]}function ew(a){return Do(this.__data__,a)>-1}function tw(a,l){var f=this.__data__,b=Do(f,a);return b<0?(++this.size,f.push([a,l])):f[b][1]=l,this}function Dr(a){var l=-1,f=a==null?0:a.length;for(this.clear();++l<f;){var b=a[l];this.set(b[0],b[1])}}function nw(){this.size=0,this.__data__={hash:new _i,map:new(qa||$r),string:new _i}}function rw(a){var l=Yo(this,a).delete(a);return this.size-=l?1:0,l}function iw(a){return Yo(this,a).get(a)}function aw(a){return Yo(this,a).has(a)}function ow(a,l){var f=Yo(this,a),b=f.size;return f.set(a,l),this.size+=f.size==b?0:1,this}function wi(a){var l=-1,f=a==null?0:a.length;for(this.__data__=new Dr;++l<f;)this.add(a[l])}function sw(a){return this.__data__.set(a,me),this}function lw(a){return this.__data__.has(a)}function vr(a){this.size=(this.__data__=new $r(a)).size}function cw(){this.__data__=new $r,this.size=0}function uw(a){var l=this.__data__,f=l.delete(a);return this.size=l.size,f}function dw(a){return this.__data__.get(a)}function pw(a){return this.__data__.has(a)}function fw(a,l){var f=this.__data__;if(f instanceof $r){var b=f.__data__;if(!qa||b.length<xe-1)return b.push([a,l]),this.size=++f.size,this;f=this.__data__=new Dr(b)}return f.set(a,l),this.size=f.size,this}function Vp(a,l){var f=it(a),b=!f&&Ai(a),I=!f&&!b&&ai(a),$=!f&&!b&&!I&&oa(a),H=f||b||I||$,K=H?se(a.length,cS):[],ie=K.length;for(var _e in a)!l&&!At.call(a,_e)||H&&(_e=="length"||I&&(_e=="offset"||_e=="parent")||$&&(_e=="buffer"||_e=="byteLength"||_e=="byteOffset")||Zr(_e,ie))||K.push(_e);return K}function Gp(a){var l=a.length;return l?a[cc(0,l-1)]:C}function hw(a,l){return Xo(Rn(a),ki(l,0,a.length))}function mw(a){return Xo(Rn(a))}function ec(a,l,f){(f===C||yr(a[l],f))&&(f!==C||l in a)||Lr(a,l,f)}function Na(a,l,f){var b=a[l];At.call(a,l)&&yr(b,f)&&(f!==C||l in a)||Lr(a,l,f)}function Do(a,l){for(var f=a.length;f--;)if(yr(a[f][0],l))return f;return-1}function gw(a,l,f,b){return ii(a,function(I,$,H){l(b,I,f(I),H)}),b}function Jp(a,l){return a&&kr(l,mn(l),a)}function vw(a,l){return a&&kr(l,zn(l),a)}function Lr(a,l,f){l=="__proto__"&&hs?hs(a,l,{configurable:!0,enumerable:!0,value:f,writable:!0}):a[l]=f}function tc(a,l){for(var f=-1,b=l.length,I=dn(b),$=a==null;++f<b;)I[f]=$?C:Ac(a,l[f]);return I}function ki(a,l,f){return a===a&&(f!==C&&(a=a<=f?a:f),l!==C&&(a=a>=l?a:l)),a}function tr(a,l,f,b,I,$){var H,K=l&be,ie=l&je,_e=l&Be;if(f&&(H=I?f(a,b,I,$):f(a)),H!==C)return H;if(!Gt(a))return a;var ve=it(a);if(ve){if(H=nk(a),!K)return Rn(a,H)}else{var Se=xn(a),Ne=Se==Vi||Se==Fo;if(ai(a))return gf(a,K);if(Se==Pr||Se==_t||Ne&&!I){if(H=ie||Ne?{}:Ff(a),!K)return ie?Ww(a,vw(H,a)):qw(a,Jp(H,a))}else{if(!Rt[Se])return I?a:{};H=rk(a,Se,K)}}$||($=new vr);var Ze=$.get(a);if(Ze)return Ze;$.set(a,H),Rh(a)?a.forEach(function(Ge){H.add(tr(Ge,l,f,Ge,a,$))}):jh(a)&&a.forEach(function(Ge,ft){H.set(ft,tr(Ge,l,f,ft,a,$))});var Ve=_e?ie?xc:bc:ie?zn:mn,ot=ve?C:Ve(a);return i(ot||a,function(Ge,ft){ot&&(ft=Ge,Ge=a[ft]),Na(H,ft,tr(Ge,l,f,ft,a,$))}),H}function yw(a){var l=mn(a);return function(f){return Kp(f,a,l)}}function Kp(a,l,f){var b=f.length;if(a==null)return!b;for(a=Nt(a);b--;){var I=f[b],$=l[I],H=a[I];if(H===C&&!(I in a)||!$(H))return!1}return!0}function Yp(a,l,f){if(typeof a!="function")throw new ar(re);return Ja(function(){a.apply(C,f)},l)}function Pa(a,l,f,b){var I=-1,$=u,H=!0,K=a.length,ie=[],_e=l.length;if(!K)return ie;f&&(l=p(l,x(f))),b?($=d,H=!1):l.length>=xe&&($=Ce,H=!1,l=new wi(l));e:for(;++I<K;){var ve=a[I],Se=f==null?ve:f(ve);if(ve=b||ve!==0?ve:0,H&&Se===Se){for(var Ne=_e;Ne--;)if(l[Ne]===Se)continue e;ie.push(ve)}else $(l,Se,b)||ie.push(ve)}return ie}function bw(a,l){var f=!0;return ii(a,function(b,I,$){return f=!!l(b,I,$)}),f}function Lo(a,l,f){for(var b=-1,I=a.length;++b<I;){var $=a[b],H=l($);if(H!=null&&(K===C?H===H&&!Zn(H):f(H,K)))var K=H,ie=$}return ie}function xw(a,l,f,b){var I=a.length;for(f=st(f),f<0&&(f=-f>I?0:I+f),b=b===C||b>I?I:st(b),b<0&&(b+=I),b=f>b?0:ah(b);f<b;)a[f++]=l;return a}function Xp(a,l){var f=[];return ii(a,function(b,I,$){l(b,I,$)&&f.push(b)}),f}function yn(a,l,f,b,I){var $=-1,H=a.length;for(f||(f=ak),I||(I=[]);++$<H;){var K=a[$];l>0&&f(K)?l>1?yn(K,l-1,f,b,I):h(I,K):b||(I[I.length]=K)}return I}function wr(a,l){return a&&Bc(a,l,mn)}function nc(a,l){return a&&wh(a,l,mn)}function Bo(a,l){return c(l,function(f){return Hr(a[f])})}function Ci(a,l){l=ti(l,a);for(var f=0,b=l.length;a!=null&&f<b;)a=a[Cr(l[f++])];return f&&f==b?a:C}function Qp(a,l,f){var b=l(a);return it(a)?b:h(b,f(a))}function Cn(a){return a==null?a===C?N0:F0:Ti&&Ti in Nt(a)?Qw(a):dk(a)}function rc(a,l){return a>l}function _w(a,l){return a!=null&&At.call(a,l)}function ww(a,l){return a!=null&&l in Nt(a)}function kw(a,l,f){return a>=bn(l,f)&&a<pn(l,f)}function ic(a,l,f){for(var b=f?d:u,I=a[0].length,$=a.length,H=$,K=dn($),ie=1/0,_e=[];H--;){var ve=a[H];H&&l&&(ve=p(ve,x(l))),ie=bn(ve.length,ie),K[H]=!f&&(l||I>=120&&ve.length>=120)?new wi(H&&ve):C}ve=a[0];var Se=-1,Ne=K[0];e:for(;++Se<I&&_e.length<ie;){var Ze=ve[Se],Ve=l?l(Ze):Ze;if(Ze=f||Ze!==0?Ze:0,!(Ne?Ce(Ne,Ve):b(_e,Ve,f))){for(H=$;--H;){var ot=K[H];if(!(ot?Ce(ot,Ve):b(a[H],Ve,f)))continue e}Ne&&Ne.push(Ve),_e.push(Ze)}}return _e}function Cw(a,l,f,b){return wr(a,function(I,$,H){l(b,f(I),$,H)}),b}function $a(a,l,f){l=ti(l,a),a=$f(a,l);var b=a==null?a:a[Cr(rr(l))];return b==null?C:n(b,a,f)}function ef(a){return tn(a)&&Cn(a)==_t}function Sw(a){return tn(a)&&Cn(a)==Ma}function Ew(a){return tn(a)&&Cn(a)==Ht}function Da(a,l,f,b,I){return a===l||(a==null||l==null||!tn(a)&&!tn(l)?a!==a&&l!==l:Tw(a,l,f,b,Da,I))}function Tw(a,l,f,b,I,$){var H=it(a),K=it(l),ie=H?en:xn(a),_e=K?en:xn(l);ie=ie==_t?Pr:ie,_e=_e==_t?Pr:_e;var ve=ie==Pr,Se=_e==Pr,Ne=ie==_e;if(Ne&&ai(a)){if(!ai(l))return!1;H=!0,ve=!1}if(Ne&&!ve)return $||($=new vr),H||oa(a)?Of(a,l,f,b,I,$):Yw(a,l,ie,f,b,I,$);if(!(f&ut)){var Ze=ve&&At.call(a,"__wrapped__"),Ve=Se&&At.call(l,"__wrapped__");if(Ze||Ve){var ot=Ze?a.value():a,Ge=Ve?l.value():l;return $||($=new vr),I(ot,Ge,f,b,$)}}return!!Ne&&($||($=new vr),Xw(a,l,f,b,I,$))}function Aw(a){return tn(a)&&xn(a)==Qn}function ac(a,l,f,b){var I=f.length,$=I,H=!b;if(a==null)return!$;for(a=Nt(a);I--;){var K=f[I];if(H&&K[2]?K[1]!==a[K[0]]:!(K[0]in a))return!1}for(;++I<$;){K=f[I];var ie=K[0],_e=a[ie],ve=K[1];if(H&&K[2]){if(_e===C&&!(ie in a))return!1}else{var Se=new vr;if(b)var Ne=b(_e,ve,ie,a,l,Se);if(!(Ne===C?Da(ve,_e,ut|St,b,Se):Ne))return!1}}return!0}function tf(a){return!(!Gt(a)||sk(a))&&(Hr(a)?hS:a_).test(Ei(a))}function Iw(a){return tn(a)&&Cn(a)==Oa}function jw(a){return tn(a)&&xn(a)==gr}function Rw(a){return tn(a)&&rs(a.length)&&!!Mt[Cn(a)]}function nf(a){return typeof a=="function"?a:a==null?Fn:typeof a=="object"?it(a)?of(a[0],a[1]):af(a):dh(a)}function oc(a){if(!Ua(a))return xS(a);var l=[];for(var f in Nt(a))At.call(a,f)&&f!="constructor"&&l.push(f);return l}function Ow(a){if(!Gt(a))return uk(a);var l=Ua(a),f=[];for(var b in a)(b!="constructor"||!l&&At.call(a,b))&&f.push(b);return f}function sc(a,l){return a<l}function rf(a,l){var f=-1,b=On(a)?dn(a.length):[];return ii(a,function(I,$,H){b[++f]=l(I,$,H)}),b}function af(a){var l=_c(a);return l.length==1&&l[0][2]?Nf(l[0][0],l[0][1]):function(f){return f===a||ac(f,a,l)}}function of(a,l){return wc(a)&&Mf(l)?Nf(Cr(a),l):function(f){var b=Ac(f,a);return b===C&&b===l?Ic(f,a):Da(l,b,ut|St)}}function Uo(a,l,f,b,I){a!==l&&Bc(l,function($,H){if(I||(I=new vr),Gt($))zw(a,l,H,f,Uo,b,I);else{var K=b?b(Cc(a,H),$,H+"",a,l,I):C;K===C&&(K=$),ec(a,H,K)}},zn)}function zw(a,l,f,b,I,$,H){var K=Cc(a,f),ie=Cc(l,f),_e=H.get(ie);if(_e)return ec(a,f,_e),C;var ve=$?$(K,ie,f+"",a,l,H):C,Se=ve===C;if(Se){var Ne=it(ie),Ze=!Ne&&ai(ie),Ve=!Ne&&!Ze&&oa(ie);ve=ie,Ne||Ze||Ve?it(K)?ve=K:rn(K)?ve=Rn(K):Ze?(Se=!1,ve=gf(ie,!0)):Ve?(Se=!1,ve=vf(ie,!0)):ve=[]:Za(ie)||Ai(ie)?(ve=K,Ai(K)?ve=oh(K):Gt(K)&&!Hr(K)||(ve=Ff(ie))):Se=!1}Se&&(H.set(ie,ve),I(ve,ie,b,$,H),H.delete(ie)),ec(a,f,ve)}function sf(a,l){var f=a.length;if(f)return l+=l<0?f:0,Zr(l,f)?a[l]:C}function lf(a,l,f){l=l.length?p(l,function(I){return it(I)?function($){return Ci($,I.length===1?I[0]:I)}:I}):[Fn];var b=-1;return l=p(l,x(Qe())),X(rf(a,function(I,$,H){return{criteria:p(l,function(K){return K(I)}),index:++b,value:I}}),function(I,$){return Hw(I,$,f)})}function Fw(a,l){return cf(a,l,function(f,b){return Ic(a,b)})}function cf(a,l,f){for(var b=-1,I=l.length,$={};++b<I;){var H=l[b],K=Ci(a,H);f(K,H)&&La($,ti(H,a),K)}return $}function Mw(a){return function(l){return Ci(l,a)}}function lc(a,l,f,b){var I=b?j:A,$=-1,H=l.length,K=a;for(a===l&&(l=Rn(l)),f&&(K=p(a,x(f)));++$<H;)for(var ie=0,_e=l[$],ve=f?f(_e):_e;(ie=I(K,ve,ie,b))>-1;)K!==a&&fs.call(K,ie,1),fs.call(a,ie,1);return a}function uf(a,l){for(var f=a?l.length:0,b=f-1;f--;){var I=l[f];if(f==b||I!==$){var $=I;Zr(I)?fs.call(a,I,1):pc(a,I)}}return a}function cc(a,l){return a+gs(bh()*(l-a+1))}function Nw(a,l,f,b){for(var I=-1,$=pn(ms((l-a)/(f||1)),0),H=dn($);$--;)H[b?$:++I]=a,a+=f;return H}function uc(a,l){var f="";if(!a||l<1||l>_r)return f;do l%2&&(f+=a),l=gs(l/2),l&&(a+=a);while(l);return f}function ct(a,l){return Hc(Pf(a,l,Fn),a+"")}function Pw(a){return Gp(ea(a))}function $w(a,l){var f=ea(a);return Xo(f,ki(l,0,f.length))}function La(a,l,f,b){if(!Gt(a))return a;l=ti(l,a);for(var I=-1,$=l.length,H=$-1,K=a;K!=null&&++I<$;){var ie=Cr(l[I]),_e=f;if(ie==="__proto__"||ie==="constructor"||ie==="prototype")return a;if(I!=H){var ve=K[ie];_e=b?b(ve,ie,K):C,_e===C&&(_e=Gt(ve)?ve:Zr(l[I+1])?[]:{})}Na(K,ie,_e),K=K[ie]}return a}function Dw(a){return Xo(ea(a))}function nr(a,l,f){var b=-1,I=a.length;l<0&&(l=-l>I?0:I+l),f=f>I?I:f,f<0&&(f+=I),I=l>f?0:f-l>>>0,l>>>=0;for(var $=dn(I);++b<I;)$[b]=a[b+l];return $}function Lw(a,l){var f;return ii(a,function(b,I,$){return f=l(b,I,$),!f}),!!f}function Zo(a,l,f){var b=0,I=a==null?b:a.length;if(typeof l=="number"&&l===l&&I<=Fl){for(;b<I;){var $=b+I>>>1,H=a[$];H!==null&&!Zn(H)&&(f?H<=l:H<l)?b=$+1:I=$}return I}return dc(a,l,Fn,f)}function dc(a,l,f,b){var I=0,$=a==null?0:a.length;if($===0)return 0;l=f(l);for(var H=l!==l,K=l===null,ie=Zn(l),_e=l===C;I<$;){var ve=gs((I+$)/2),Se=f(a[ve]),Ne=Se!==C,Ze=Se===null,Ve=Se===Se,ot=Zn(Se);if(H)var Ge=b||Ve;else Ge=_e?Ve&&(b||Ne):K?Ve&&Ne&&(b||!Ze):ie?Ve&&Ne&&!Ze&&(b||!ot):!Ze&&!ot&&(b?Se<=l:Se<l);Ge?I=ve+1:$=ve}return bn($,zl)}function df(a,l){for(var f=-1,b=a.length,I=0,$=[];++f<b;){var H=a[f],K=l?l(H):H;if(!f||!yr(K,ie)){var ie=K;$[I++]=H===0?0:H}}return $}function pf(a){return typeof a=="number"?a:Zn(a)?qi:+a}function Un(a){if(typeof a=="string")return a;if(it(a))return p(a,Un)+"";if(Zn(a))return xh?xh.call(a):"";var l=a+"";return l=="0"&&1/a==-Nr?"-0":l}function ei(a,l,f){var b=-1,I=u,$=a.length,H=!0,K=[],ie=K;if(f)H=!1,I=d;else if($>=xe){var _e=l?null:RS(a);if(_e)return fe(_e);H=!1,I=Ce,ie=new wi}else ie=l?[]:K;e:for(;++b<$;){var ve=a[b],Se=l?l(ve):ve;if(ve=f||ve!==0?ve:0,H&&Se===Se){for(var Ne=ie.length;Ne--;)if(ie[Ne]===Se)continue e;l&&ie.push(Se),K.push(ve)}else I(ie,Se,f)||(ie!==K&&ie.push(Se),K.push(ve))}return K}function pc(a,l){return l=ti(l,a),a=$f(a,l),a==null||delete a[Cr(rr(l))]}function ff(a,l,f,b){return La(a,l,f(Ci(a,l)),b)}function Ho(a,l,f,b){for(var I=a.length,$=b?I:-1;(b?$--:++$<I)&&l(a[$],$,a););return f?nr(a,b?0:$,b?$+1:I):nr(a,b?$+1:0,b?I:$)}function hf(a,l){var f=a;return f instanceof Le&&(f=f.value()),g(l,function(b,I){return I.func.apply(I.thisArg,h([b],I.args))},f)}function fc(a,l,f){var b=a.length;if(b<2)return b?ei(a[0]):[];for(var I=-1,$=dn(b);++I<b;)for(var H=a[I],K=-1;++K<b;)K!=I&&($[I]=Pa($[I]||H,a[K],l,f));return ei(yn($,1),l,f)}function mf(a,l,f){for(var b=-1,I=a.length,$=l.length,H={};++b<I;)f(H,a[b],b<$?l[b]:C);return H}function hc(a){return rn(a)?a:[]}function mc(a){return typeof a=="function"?a:Fn}function ti(a,l){return it(a)?a:wc(a,l)?[a]:Th(Et(a))}function ni(a,l,f){var b=a.length;return f=f===C?b:f,!l&&f>=b?a:nr(a,l,f)}function gf(a,l){if(l)return a.slice();var f=a.length,b=hh?hh(f):new a.constructor(f);return a.copy(b),b}function gc(a){var l=new a.constructor(a.byteLength);return new ds(l).set(new ds(a)),l}function Bw(a,l){return new a.constructor(l?gc(a.buffer):a.buffer,a.byteOffset,a.byteLength)}function Uw(a){var l=new a.constructor(a.source,xp.exec(a));return l.lastIndex=a.lastIndex,l}function Zw(a){return Ga?Nt(Ga.call(a)):{}}function vf(a,l){return new a.constructor(l?gc(a.buffer):a.buffer,a.byteOffset,a.length)}function yf(a,l){if(a!==l){var f=a!==C,b=a===null,I=a===a,$=Zn(a),H=l!==C,K=l===null,ie=l===l,_e=Zn(l);if(!K&&!_e&&!$&&a>l||$&&H&&ie&&!K&&!_e||b&&H&&ie||!f&&ie||!I)return 1;if(!b&&!$&&!_e&&a<l||_e&&f&&I&&!b&&!$||K&&f&&I||!H&&I||!ie)return-1}return 0}function Hw(a,l,f){for(var b=-1,I=a.criteria,$=l.criteria,H=I.length,K=f.length;++b<H;){var ie=yf(I[b],$[b]);if(ie)return b>=K?ie:ie*(f[b]=="desc"?-1:1)}return a.index-l.index}function bf(a,l,f,b){for(var I=-1,$=a.length,H=f.length,K=-1,ie=l.length,_e=pn($-H,0),ve=dn(ie+_e),Se=!b;++K<ie;)ve[K]=l[K];for(;++I<H;)(Se||I<$)&&(ve[f[I]]=a[I]);for(;_e--;)ve[K++]=a[I++];return ve}function xf(a,l,f,b){for(var I=-1,$=a.length,H=-1,K=f.length,ie=-1,_e=l.length,ve=pn($-K,0),Se=dn(ve+_e),Ne=!b;++I<ve;)Se[I]=a[I];for(var Ze=I;++ie<_e;)Se[Ze+ie]=l[ie];for(;++H<K;)(Ne||I<$)&&(Se[Ze+f[H]]=a[I++]);return Se}function Rn(a,l){var f=-1,b=a.length;for(l||(l=dn(b));++f<b;)l[f]=a[f];return l}function kr(a,l,f,b){var I=!f;f||(f={});for(var $=-1,H=l.length;++$<H;){var K=l[$],ie=b?b(f[K],a[K],K,f,a):C;ie===C&&(ie=a[K]),I?Lr(f,K,ie):Na(f,K,ie)}return f}function qw(a,l){return kr(a,Zc(a),l)}function Ww(a,l){return kr(a,Sh(a),l)}function qo(a,l){return function(f,b){var I=it(f)?r:gw,$=l?l():{};return I(f,a,Qe(b,2),$)}}function Yi(a){return ct(function(l,f){var b=-1,I=f.length,$=I>1?f[I-1]:C,H=I>2?f[2]:C;for($=a.length>3&&typeof $=="function"?(I--,$):C,H&&Sn(f[0],f[1],H)&&($=I<3?C:$,I=1),l=Nt(l);++b<I;){var K=f[b];K&&a(l,K,b,$)}return l})}function _f(a,l){return function(f,b){if(f==null)return f;if(!On(f))return a(f,b);for(var I=f.length,$=l?I:-1,H=Nt(f);(l?$--:++$<I)&&b(H[$],$,H)!==!1;);return f}}function wf(a){return function(l,f,b){for(var I=-1,$=Nt(l),H=b(l),K=H.length;K--;){var ie=H[a?K:++I];if(f($[ie],ie,$)===!1)break}return l}}function Vw(a,l,f){function b(){return(this&&this!==vn&&this instanceof b?$:a).apply(I?f:this,arguments)}var I=l&yt,$=Ba(a);return b}function kf(a){return function(l){l=Et(l);var f=z(l)?Xe(l):C,b=f?f[0]:l.charAt(0),I=f?ni(f,1).join(""):l.slice(1);return b[a]()+I}}function Xi(a){return function(l){return g(uh(ch(l).replace(E_,"")),a,"")}}function Ba(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var f=aa(a.prototype),b=a.apply(f,l);return Gt(b)?b:f}}function Gw(a,l,f){function b(){for(var $=arguments.length,H=dn($),K=$,ie=Qi(b);K--;)H[K]=arguments[K];var _e=$<3&&H[0]!==ie&&H[$-1]!==ie?[]:Ue(H,ie);return $-=_e.length,$<f?Af(a,l,Wo,b.placeholder,C,H,_e,C,C,f-$):n(this&&this!==vn&&this instanceof b?I:a,this,H)}var I=Ba(a);return b}function Cf(a){return function(l,f,b){var I=Nt(l);if(!On(l)){var $=Qe(f,3);l=mn(l),f=function(K){return $(I[K],K,I)}}var H=a(l,f,b);return H>-1?I[$?l[H]:H]:C}}function Sf(a){return Ur(function(l){var f=l.length,b=f,I=Ke.prototype.thru;for(a&&l.reverse();b--;){var $=l[b];if(typeof $!="function")throw new ar(re);if(I&&!H&&Ko($)=="wrapper")var H=new Ke([],!0)}for(b=H?b:f;++b<f;){$=l[b];var K=Ko($),ie=K=="wrapper"?Uc($):C;H=ie&&kc(ie[0])&&ie[1]==(In|bt|dt|Fr)&&!ie[4].length&&ie[9]==1?H[Ko(ie[0])].apply(H,ie[3]):$.length==1&&kc($)?H[K]():H.thru($)}return function(){var _e=arguments,ve=_e[0];if(H&&_e.length==1&&it(ve))return H.plant(ve).value();for(var Se=0,Ne=f?l[Se].apply(this,_e):ve;++Se<f;)Ne=l[Se].call(this,Ne);return Ne}})}function Wo(a,l,f,b,I,$,H,K,ie,_e){function ve(){for(var ft=arguments.length,ht=dn(ft),_n=ft;_n--;)ht[_n]=arguments[_n];if(Ve)var Mn=Qi(ve),oi=N(ht,Mn);if(b&&(ht=bf(ht,b,I,Ve)),$&&(ht=xf(ht,$,H,Ve)),ft-=oi,Ve&&ft<_e)return Af(a,l,Wo,ve.placeholder,f,ht,Ue(ht,Mn),K,ie,_e-ft);var nn=Ne?f:this,or=Ze?nn[a]:a;return ft=ht.length,K?ht=pk(ht,K):ot&&ft>1&&ht.reverse(),Se&&ie<ft&&(ht.length=ie),this&&this!==vn&&this instanceof ve&&(or=Ge||Ba(or)),or.apply(nn,ht)}var Se=l&In,Ne=l&yt,Ze=l&rt,Ve=l&(bt|Tt),ot=l&Xr,Ge=Ze?C:Ba(a);return ve}function Ef(a,l){return function(f,b){return Cw(f,a,l(b),{})}}function Vo(a,l){return function(f,b){var I;if(f===C&&b===C)return l;if(f!==C&&(I=f),b!==C){if(I===C)return b;typeof f=="string"||typeof b=="string"?(f=Un(f),b=Un(b)):(f=pf(f),b=pf(b)),I=a(f,b)}return I}}function vc(a){return Ur(function(l){return l=p(l,x(Qe())),ct(function(f){var b=this;return a(l,function(I){return n(I,b,f)})})})}function Go(a,l){l=l===C?" ":Un(l);var f=l.length;if(f<2)return f?uc(l,a):l;var b=uc(l,ms(a/Ye(l)));return z(l)?ni(Xe(b),0,a).join(""):b.slice(0,a)}function Jw(a,l,f,b){function I(){for(var K=-1,ie=arguments.length,_e=-1,ve=b.length,Se=dn(ve+ie),Ne=this&&this!==vn&&this instanceof I?H:a;++_e<ve;)Se[_e]=b[_e];for(;ie--;)Se[_e++]=arguments[++K];return n(Ne,$?f:this,Se)}var $=l&yt,H=Ba(a);return I}function Tf(a){return function(l,f,b){return b&&typeof b!="number"&&Sn(l,f,b)&&(f=b=C),l=qr(l),f===C?(f=l,l=0):f=qr(f),b=b===C?l<f?1:-1:qr(b),Nw(l,f,b,a)}}function Jo(a){return function(l,f){return typeof l=="string"&&typeof f=="string"||(l=ir(l),f=ir(f)),a(l,f)}}function Af(a,l,f,b,I,$,H,K,ie,_e){var ve=l&bt,Se=ve?H:C,Ne=ve?C:H,Ze=ve?$:C,Ve=ve?C:$;l|=ve?dt:mr,l&=~(ve?mr:dt),l&un||(l&=-4);var ot=[a,l,I,Ze,Se,Ve,Ne,K,ie,_e],Ge=f.apply(C,ot);return kc(a)&&Eh(Ge,ot),Ge.placeholder=b,Df(Ge,a,l)}function yc(a){var l=ta[a];return function(f,b){if(f=ir(f),b=b==null?0:bn(st(b),292),b&&yh(f)){var I=(Et(f)+"e").split("e");return I=(Et(l(I[0]+"e"+(+I[1]+b)))+"e").split("e"),+(I[0]+"e"+(+I[1]-b))}return l(f)}}function If(a){return function(l){var f=xn(l);return f==Qn?ce(l):f==gr?ze(l):R(l,a(l))}}function Br(a,l,f,b,I,$,H,K){var ie=l&rt;if(!ie&&typeof a!="function")throw new ar(re);var _e=b?b.length:0;if(_e||(l&=-97,b=I=C),H=H===C?H:pn(st(H),0),K=K===C?K:st(K),_e-=I?I.length:0,l&mr){var ve=b,Se=I;b=I=C}var Ne=ie?C:Uc(a),Ze=[a,l,f,b,I,ve,Se,$,H,K];if(Ne&&ck(Ze,Ne),a=Ze[0],l=Ze[1],f=Ze[2],b=Ze[3],I=Ze[4],K=Ze[9]=Ze[9]===C?ie?0:a.length:pn(Ze[9]-_e,0),!K&&l&(bt|Tt)&&(l&=-25),l&&l!=yt)Ve=l==bt||l==Tt?Gw(a,l,K):l!=dt&&l!=(yt|dt)||I.length?Wo.apply(C,Ze):Jw(a,l,f,b);else var Ve=Vw(a,l,f);return Df((Ne?kh:Eh)(Ve,Ze),a,l)}function jf(a,l,f,b){return a===C||yr(a,na[f])&&!At.call(b,f)?l:a}function Rf(a,l,f,b,I,$){return Gt(a)&&Gt(l)&&($.set(l,a),Uo(a,l,C,Rf,$),$.delete(l)),a}function Kw(a){return Za(a)?C:a}function Of(a,l,f,b,I,$){var H=f&ut,K=a.length,ie=l.length;if(K!=ie&&!(H&&ie>K))return!1;var _e=$.get(a),ve=$.get(l);if(_e&&ve)return _e==l&&ve==a;var Se=-1,Ne=!0,Ze=f&St?new wi:C;for($.set(a,l),$.set(l,a);++Se<K;){var Ve=a[Se],ot=l[Se];if(b)var Ge=H?b(ot,Ve,Se,l,a,$):b(Ve,ot,Se,a,l,$);if(Ge!==C){if(Ge)continue;Ne=!1;break}if(Ze){if(!v(l,function(ft,ht){if(!Ce(Ze,ht)&&(Ve===ft||I(Ve,ft,f,b,$)))return Ze.push(ht)})){Ne=!1;break}}else if(Ve!==ot&&!I(Ve,ot,f,b,$)){Ne=!1;break}}return $.delete(a),$.delete(l),Ne}function Yw(a,l,f,b,I,$,H){switch(f){case Gi:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case Ma:return!(a.byteLength!=l.byteLength||!$(new ds(a),new ds(l)));case Zt:case Ht:case bi:return yr(+a,+l);case Wi:return a.name==l.name&&a.message==l.message;case Oa:case za:return a==l+"";case Qn:var K=ce;case gr:var ie=b&ut;if(K||(K=fe),a.size!=l.size&&!ie)return!1;var _e=H.get(a);if(_e)return _e==l;b|=St,H.set(a,l);var ve=Of(K(a),K(l),b,I,$,H);return H.delete(a),ve;case Mo:if(Ga)return Ga.call(a)==Ga.call(l)}return!1}function Xw(a,l,f,b,I,$){var H=f&ut,K=bc(a),ie=K.length;if(ie!=bc(l).length&&!H)return!1;for(var _e=ie;_e--;){var ve=K[_e];if(!(H?ve in l:At.call(l,ve)))return!1}var Se=$.get(a),Ne=$.get(l);if(Se&&Ne)return Se==l&&Ne==a;var Ze=!0;$.set(a,l),$.set(l,a);for(var Ve=H;++_e<ie;){ve=K[_e];var ot=a[ve],Ge=l[ve];if(b)var ft=H?b(Ge,ot,ve,l,a,$):b(ot,Ge,ve,a,l,$);if(!(ft===C?ot===Ge||I(ot,Ge,f,b,$):ft)){Ze=!1;break}Ve||(Ve=ve=="constructor")}if(Ze&&!Ve){var ht=a.constructor,_n=l.constructor;ht!=_n&&"constructor"in a&&"constructor"in l&&!(typeof ht=="function"&&ht instanceof ht&&typeof _n=="function"&&_n instanceof _n)&&(Ze=!1)}return $.delete(a),$.delete(l),Ze}function Ur(a){return Hc(Pf(a,C,Hf),a+"")}function bc(a){return Qp(a,mn,Zc)}function xc(a){return Qp(a,zn,Sh)}function Ko(a){for(var l=a.name+"",f=ia[l],b=At.call(ia,l)?f.length:0;b--;){var I=f[b],$=I.func;if($==null||$==a)return I.name}return l}function Qi(a){return(At.call(E,"placeholder")?E:a).placeholder}function Qe(){var a=E.iteratee||Rc;return a=a===Rc?nf:a,arguments.length?a(arguments[0],arguments[1]):a}function Yo(a,l){var f=a.__data__;return ok(l)?f[typeof l=="string"?"string":"hash"]:f.map}function _c(a){for(var l=mn(a),f=l.length;f--;){var b=l[f],I=a[b];l[f]=[b,I,Mf(I)]}return l}function Si(a,l){var f=oe(a,l);return tf(f)?f:C}function Qw(a){var l=At.call(a,Ti),f=a[Ti];try{a[Ti]=C;var b=!0}catch{}var I=cs.call(a);return b&&(l?a[Ti]=f:delete a[Ti]),I}function ek(a,l,f){for(var b=-1,I=f.length;++b<I;){var $=f[b],H=$.size;switch($.type){case"drop":a+=H;break;case"dropRight":l-=H;break;case"take":l=bn(l,a+H);break;case"takeRight":a=pn(a,l-H)}}return{start:a,end:l}}function tk(a){var l=a.match(Y0);return l?l[1].split(X0):[]}function zf(a,l,f){l=ti(l,a);for(var b=-1,I=l.length,$=!1;++b<I;){var H=Cr(l[b]);if(!($=a!=null&&f(a,H)))break;a=a[H]}return $||++b!=I?$:(I=a==null?0:a.length,!!I&&rs(I)&&Zr(H,I)&&(it(a)||Ai(a)))}function nk(a){var l=a.length,f=new a.constructor(l);return l&&typeof a[0]=="string"&&At.call(a,"index")&&(f.index=a.index,f.input=a.input),f}function Ff(a){return typeof a.constructor!="function"||Ua(a)?{}:aa(ps(a))}function rk(a,l,f){var b=a.constructor;switch(l){case Ma:return gc(a);case Zt:case Ht:return new b(+a);case Gi:return Bw(a,f);case Ml:case Nl:case Pl:case $l:case Dl:case Ll:case Bl:case Ul:case Zl:return vf(a,f);case Qn:return new b;case bi:case za:return new b(a);case Oa:return Uw(a);case gr:return new b;case Mo:return Zw(a)}}function ik(a,l){var f=l.length;if(!f)return a;var b=f-1;return l[b]=(f>1?"& ":"")+l[b],l=l.join(f>2?", ":" "),a.replace(K0,`{
/* [wrapped with `+l+`] */
`)}function ak(a){return it(a)||Ai(a)||!!(vh&&a&&a[vh])}function Zr(a,l){var f=typeof a;return l=l??_r,!!l&&(f=="number"||f!="symbol"&&s_.test(a))&&a>-1&&a%1==0&&a<l}function Sn(a,l,f){if(!Gt(f))return!1;var b=typeof l;return!!(b=="number"?On(f)&&Zr(l,f.length):b=="string"&&l in f)&&yr(f[l],a)}function wc(a,l){if(it(a))return!1;var f=typeof a;return!(f!="number"&&f!="symbol"&&f!="boolean"&&a!=null&&!Zn(a))||W0.test(a)||!q0.test(a)||l!=null&&a in Nt(l)}function ok(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function kc(a){var l=Ko(a),f=E[l];if(typeof f!="function"||!(l in Le.prototype))return!1;if(a===f)return!0;var b=Uc(f);return!!b&&a===b[0]}function sk(a){return!!fh&&fh in a}function Ua(a){var l=a&&a.constructor;return a===(typeof l=="function"&&l.prototype||na)}function Mf(a){return a===a&&!Gt(a)}function Nf(a,l){return function(f){return f!=null&&f[a]===l&&(l!==C||a in Nt(f))}}function lk(a){var l=ts(a,function(b){return f.size===Z&&f.clear(),b}),f=l.cache;return l}function ck(a,l){var f=a[1],b=l[1],I=f|b,$=I<(yt|rt|In),H=b==In&&f==bt||b==In&&f==Fr&&a[7].length<=l[8]||b==(In|Fr)&&l[7].length<=l[8]&&f==bt;if(!$&&!H)return a;b&yt&&(a[2]=l[2],I|=f&yt?0:un);var K=l[3];if(K){var ie=a[3];a[3]=ie?bf(ie,K,l[4]):K,a[4]=ie?Ue(a[3],J):l[4]}return K=l[5],K&&(ie=a[5],a[5]=ie?xf(ie,K,l[6]):K,a[6]=ie?Ue(a[5],J):l[6]),K=l[7],K&&(a[7]=K),b&In&&(a[8]=a[8]==null?l[8]:bn(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=I,a}function uk(a){var l=[];if(a!=null)for(var f in Nt(a))l.push(f);return l}function dk(a){return cs.call(a)}function Pf(a,l,f){return l=pn(l===C?a.length-1:l,0),function(){for(var b=arguments,I=-1,$=pn(b.length-l,0),H=dn($);++I<$;)H[I]=b[l+I];I=-1;for(var K=dn(l+1);++I<l;)K[I]=b[I];return K[l]=f(H),n(a,this,K)}}function $f(a,l){return l.length<2?a:Ci(a,nr(l,0,-1))}function pk(a,l){for(var f=a.length,b=bn(l.length,f),I=Rn(a);b--;){var $=l[b];a[b]=Zr($,f)?I[$]:C}return a}function Cc(a,l){if((l!=="constructor"||typeof a[l]!="function")&&l!="__proto__")return a[l]}function Df(a,l,f){var b=l+"";return Hc(a,ik(b,fk(tk(b),f)))}function Lf(a){var l=0,f=0;return function(){var b=_S(),I=Rl-(b-f);if(f=b,I>0){if(++l>=Ro)return arguments[0]}else l=0;return a.apply(C,arguments)}}function Xo(a,l){var f=-1,b=a.length,I=b-1;for(l=l===C?b:l;++f<l;){var $=cc(f,I),H=a[$];a[$]=a[f],a[f]=H}return a.length=l,a}function Cr(a){if(typeof a=="string"||Zn(a))return a;var l=a+"";return l=="0"&&1/a==-Nr?"-0":l}function Ei(a){if(a!=null){try{return ls.call(a)}catch{}try{return a+""}catch{}}return""}function fk(a,l){return i(Je,function(f){var b="_."+f[0];l&f[1]&&!u(a,b)&&a.push(b)}),a.sort()}function Bf(a){if(a instanceof Le)return a.clone();var l=new Ke(a.__wrapped__,a.__chain__);return l.__actions__=Rn(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function hk(a,l,f){l=(f?Sn(a,l,f):l===C)?1:pn(st(l),0);var b=a==null?0:a.length;if(!b||l<1)return[];for(var I=0,$=0,H=dn(ms(b/l));I<b;)H[$++]=nr(a,I,I+=l);return H}function mk(a){for(var l=-1,f=a==null?0:a.length,b=0,I=[];++l<f;){var $=a[l];$&&(I[b++]=$)}return I}function gk(){var a=arguments.length;if(!a)return[];for(var l=dn(a-1),f=arguments[0],b=a;b--;)l[b-1]=arguments[b];return h(it(f)?Rn(f):[f],yn(l,1))}function vk(a,l,f){var b=a==null?0:a.length;return b?(l=f||l===C?1:st(l),nr(a,l<0?0:l,b)):[]}function yk(a,l,f){var b=a==null?0:a.length;return b?(l=f||l===C?1:st(l),l=b-l,nr(a,0,l<0?0:l)):[]}function bk(a,l){return a&&a.length?Ho(a,Qe(l,3),!0,!0):[]}function xk(a,l){return a&&a.length?Ho(a,Qe(l,3),!0):[]}function _k(a,l,f,b){var I=a==null?0:a.length;return I?(f&&typeof f!="number"&&Sn(a,l,f)&&(f=0,b=I),xw(a,l,f,b)):[]}function Uf(a,l,f){var b=a==null?0:a.length;if(!b)return-1;var I=f==null?0:st(f);return I<0&&(I=pn(b+I,0)),T(a,Qe(l,3),I)}function Zf(a,l,f){var b=a==null?0:a.length;if(!b)return-1;var I=b-1;return f!==C&&(I=st(f),I=f<0?pn(b+I,0):bn(I,b-1)),T(a,Qe(l,3),I,!0)}function Hf(a){return a!=null&&a.length?yn(a,1):[]}function wk(a){return a!=null&&a.length?yn(a,Nr):[]}function kk(a,l){return a!=null&&a.length?(l=l===C?1:st(l),yn(a,l)):[]}function Ck(a){for(var l=-1,f=a==null?0:a.length,b={};++l<f;){var I=a[l];b[I[0]]=I[1]}return b}function qf(a){return a&&a.length?a[0]:C}function Sk(a,l,f){var b=a==null?0:a.length;if(!b)return-1;var I=f==null?0:st(f);return I<0&&(I=pn(b+I,0)),A(a,l,I)}function Ek(a){return a!=null&&a.length?nr(a,0,-1):[]}function Tk(a,l){return a==null?"":bS.call(a,l)}function rr(a){var l=a==null?0:a.length;return l?a[l-1]:C}function Ak(a,l,f){var b=a==null?0:a.length;if(!b)return-1;var I=b;return f!==C&&(I=st(f),I=I<0?pn(b+I,0):bn(I,b-1)),l===l?Re(a,l,I):T(a,P,I,!0)}function Ik(a,l){return a&&a.length?sf(a,st(l)):C}function Wf(a,l){return a&&a.length&&l&&l.length?lc(a,l):a}function jk(a,l,f){return a&&a.length&&l&&l.length?lc(a,l,Qe(f,2)):a}function Rk(a,l,f){return a&&a.length&&l&&l.length?lc(a,l,C,f):a}function Ok(a,l){var f=[];if(!a||!a.length)return f;var b=-1,I=[],$=a.length;for(l=Qe(l,3);++b<$;){var H=a[b];l(H,b,a)&&(f.push(H),I.push(b))}return uf(a,I),f}function Sc(a){return a==null?a:kS.call(a)}function zk(a,l,f){var b=a==null?0:a.length;return b?(f&&typeof f!="number"&&Sn(a,l,f)?(l=0,f=b):(l=l==null?0:st(l),f=f===C?b:st(f)),nr(a,l,f)):[]}function Fk(a,l){return Zo(a,l)}function Mk(a,l,f){return dc(a,l,Qe(f,2))}function Nk(a,l){var f=a==null?0:a.length;if(f){var b=Zo(a,l);if(b<f&&yr(a[b],l))return b}return-1}function Pk(a,l){return Zo(a,l,!0)}function $k(a,l,f){return dc(a,l,Qe(f,2),!0)}function Dk(a,l){if(a!=null&&a.length){var f=Zo(a,l,!0)-1;if(yr(a[f],l))return f}return-1}function Lk(a){return a&&a.length?df(a):[]}function Bk(a,l){return a&&a.length?df(a,Qe(l,2)):[]}function Uk(a){var l=a==null?0:a.length;return l?nr(a,1,l):[]}function Zk(a,l,f){return a&&a.length?(l=f||l===C?1:st(l),nr(a,0,l<0?0:l)):[]}function Hk(a,l,f){var b=a==null?0:a.length;return b?(l=f||l===C?1:st(l),l=b-l,nr(a,l<0?0:l,b)):[]}function qk(a,l){return a&&a.length?Ho(a,Qe(l,3),!1,!0):[]}function Wk(a,l){return a&&a.length?Ho(a,Qe(l,3)):[]}function Vk(a){return a&&a.length?ei(a):[]}function Gk(a,l){return a&&a.length?ei(a,Qe(l,2)):[]}function Jk(a,l){return l=typeof l=="function"?l:C,a&&a.length?ei(a,C,l):[]}function Ec(a){if(!a||!a.length)return[];var l=0;return a=c(a,function(f){if(rn(f))return l=pn(f.length,l),!0}),se(l,function(f){return p(a,B(f))})}function Vf(a,l){if(!a||!a.length)return[];var f=Ec(a);return l==null?f:p(f,function(b){return n(l,C,b)})}function Kk(a,l){return mf(a||[],l||[],Na)}function Yk(a,l){return mf(a||[],l||[],La)}function Gf(a){var l=E(a);return l.__chain__=!0,l}function Xk(a,l){return l(a),a}function Qo(a,l){return l(a)}function Qk(){return Gf(this)}function e1(){return new Ke(this.value(),this.__chain__)}function t1(){this.__values__===C&&(this.__values__=ih(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?C:this.__values__[this.__index__++]}}function n1(){return this}function r1(a){for(var l,f=this;f instanceof $e;){var b=Bf(f);b.__index__=0,b.__values__=C,l?I.__wrapped__=b:l=b;var I=b;f=f.__wrapped__}return I.__wrapped__=a,l}function i1(){var a=this.__wrapped__;if(a instanceof Le){var l=a;return this.__actions__.length&&(l=new Le(this)),l=l.reverse(),l.__actions__.push({func:Qo,args:[Sc],thisArg:C}),new Ke(l,this.__chain__)}return this.thru(Sc)}function a1(){return hf(this.__wrapped__,this.__actions__)}function o1(a,l,f){var b=it(a)?o:bw;return f&&Sn(a,l,f)&&(l=C),b(a,Qe(l,3))}function s1(a,l){return(it(a)?c:Xp)(a,Qe(l,3))}function l1(a,l){return yn(es(a,l),1)}function c1(a,l){return yn(es(a,l),Nr)}function u1(a,l,f){return f=f===C?1:st(f),yn(es(a,l),f)}function Jf(a,l){return(it(a)?i:ii)(a,Qe(l,3))}function Kf(a,l){return(it(a)?s:_h)(a,Qe(l,3))}function d1(a,l,f,b){a=On(a)?a:ea(a),f=f&&!b?st(f):0;var I=a.length;return f<0&&(f=pn(I+f,0)),is(a)?f<=I&&a.indexOf(l,f)>-1:!!I&&A(a,l,f)>-1}function es(a,l){return(it(a)?p:rf)(a,Qe(l,3))}function p1(a,l,f,b){return a==null?[]:(it(l)||(l=l==null?[]:[l]),f=b?C:f,it(f)||(f=f==null?[]:[f]),lf(a,l,f))}function f1(a,l,f){var b=it(a)?g:Y,I=arguments.length<3;return b(a,Qe(l,4),f,I,ii)}function h1(a,l,f){var b=it(a)?y:Y,I=arguments.length<3;return b(a,Qe(l,4),f,I,_h)}function m1(a,l){return(it(a)?c:Xp)(a,ns(Qe(l,3)))}function g1(a){return(it(a)?Gp:Pw)(a)}function v1(a,l,f){return l=(f?Sn(a,l,f):l===C)?1:st(l),(it(a)?hw:$w)(a,l)}function y1(a){return(it(a)?mw:Dw)(a)}function b1(a){if(a==null)return 0;if(On(a))return is(a)?Ye(a):a.length;var l=xn(a);return l==Qn||l==gr?a.size:oc(a).length}function x1(a,l,f){var b=it(a)?v:Lw;return f&&Sn(a,l,f)&&(l=C),b(a,Qe(l,3))}function _1(a,l){if(typeof l!="function")throw new ar(re);return a=st(a),function(){if(--a<1)return l.apply(this,arguments)}}function Yf(a,l,f){return l=f?C:l,l=a&&l==null?a.length:l,Br(a,In,C,C,C,C,l)}function Xf(a,l){var f;if(typeof l!="function")throw new ar(re);return a=st(a),function(){return--a>0&&(f=l.apply(this,arguments)),a<=1&&(l=C),f}}function Qf(a,l,f){l=f?C:l;var b=Br(a,bt,C,C,C,C,C,l);return b.placeholder=Qf.placeholder,b}function eh(a,l,f){l=f?C:l;var b=Br(a,Tt,C,C,C,C,C,l);return b.placeholder=eh.placeholder,b}function th(a,l,f){function b(nn){var or=Ne,Ka=Ze;return Ne=Ze=C,ht=nn,ot=a.apply(Ka,or)}function I(nn){return ht=nn,Ge=Ja(K,l),_n?b(nn):ot}function $(nn){var or=nn-ft,Ka=nn-ht,Ph=l-or;return Mn?bn(Ph,Ve-Ka):Ph}function H(nn){var or=nn-ft,Ka=nn-ht;return ft===C||or>=l||or<0||Mn&&Ka>=Ve}function K(){var nn=bs();return H(nn)?ie(nn):(Ge=Ja(K,$(nn)),C)}function ie(nn){return Ge=C,oi&&Ne?b(nn):(Ne=Ze=C,ot)}function _e(){Ge!==C&&Ch(Ge),ht=0,Ne=ft=Ze=Ge=C}function ve(){return Ge===C?ot:ie(bs())}function Se(){var nn=bs(),or=H(nn);if(Ne=arguments,Ze=this,ft=nn,or){if(Ge===C)return I(ft);if(Mn)return Ch(Ge),Ge=Ja(K,l),b(ft)}return Ge===C&&(Ge=Ja(K,l)),ot}var Ne,Ze,Ve,ot,Ge,ft,ht=0,_n=!1,Mn=!1,oi=!0;if(typeof a!="function")throw new ar(re);return l=ir(l)||0,Gt(f)&&(_n=!!f.leading,Mn="maxWait"in f,Ve=Mn?pn(ir(f.maxWait)||0,l):Ve,oi="trailing"in f?!!f.trailing:oi),Se.cancel=_e,Se.flush=ve,Se}function w1(a){return Br(a,Xr)}function ts(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new ar(re);var f=function(){var b=arguments,I=l?l.apply(this,b):b[0],$=f.cache;if($.has(I))return $.get(I);var H=a.apply(this,b);return f.cache=$.set(I,H)||$,H};return f.cache=new(ts.Cache||Dr),f}function ns(a){if(typeof a!="function")throw new ar(re);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function k1(a){return Xf(2,a)}function C1(a,l){if(typeof a!="function")throw new ar(re);return l=l===C?l:st(l),ct(a,l)}function S1(a,l){if(typeof a!="function")throw new ar(re);return l=l==null?0:pn(st(l),0),ct(function(f){var b=f[l],I=ni(f,0,l);return b&&h(I,b),n(a,this,I)})}function E1(a,l,f){var b=!0,I=!0;if(typeof a!="function")throw new ar(re);return Gt(f)&&(b="leading"in f?!!f.leading:b,I="trailing"in f?!!f.trailing:I),th(a,l,{leading:b,maxWait:l,trailing:I})}function T1(a){return Yf(a,1)}function A1(a,l){return Wc(mc(l),a)}function I1(){if(!arguments.length)return[];var a=arguments[0];return it(a)?a:[a]}function j1(a){return tr(a,Be)}function R1(a,l){return l=typeof l=="function"?l:C,tr(a,Be,l)}function O1(a){return tr(a,be|Be)}function z1(a,l){return l=typeof l=="function"?l:C,tr(a,be|Be,l)}function F1(a,l){return l==null||Kp(a,l,mn(l))}function yr(a,l){return a===l||a!==a&&l!==l}function On(a){return a!=null&&rs(a.length)&&!Hr(a)}function rn(a){return tn(a)&&On(a)}function M1(a){return a===!0||a===!1||tn(a)&&Cn(a)==Zt}function N1(a){return tn(a)&&a.nodeType===1&&!Za(a)}function P1(a){if(a==null)return!0;if(On(a)&&(it(a)||typeof a=="string"||typeof a.splice=="function"||ai(a)||oa(a)||Ai(a)))return!a.length;var l=xn(a);if(l==Qn||l==gr)return!a.size;if(Ua(a))return!oc(a).length;for(var f in a)if(At.call(a,f))return!1;return!0}function $1(a,l){return Da(a,l)}function D1(a,l,f){f=typeof f=="function"?f:C;var b=f?f(a,l):C;return b===C?Da(a,l,C,f):!!b}function Tc(a){if(!tn(a))return!1;var l=Cn(a);return l==Wi||l==gn||typeof a.message=="string"&&typeof a.name=="string"&&!Za(a)}function L1(a){return typeof a=="number"&&yh(a)}function Hr(a){if(!Gt(a))return!1;var l=Cn(a);return l==Vi||l==Fo||l==pt||l==M0}function nh(a){return typeof a=="number"&&a==st(a)}function rs(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=_r}function Gt(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function tn(a){return a!=null&&typeof a=="object"}function B1(a,l){return a===l||ac(a,l,_c(l))}function U1(a,l,f){return f=typeof f=="function"?f:C,ac(a,l,_c(l),f)}function Z1(a){return rh(a)&&a!=+a}function H1(a){if(OS(a))throw new Nc(we);return tf(a)}function q1(a){return a===null}function W1(a){return a==null}function rh(a){return typeof a=="number"||tn(a)&&Cn(a)==bi}function Za(a){if(!tn(a)||Cn(a)!=Pr)return!1;var l=ps(a);if(l===null)return!0;var f=At.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&ls.call(f)==pS}function V1(a){return nh(a)&&a>=-_r&&a<=_r}function is(a){return typeof a=="string"||!it(a)&&tn(a)&&Cn(a)==za}function Zn(a){return typeof a=="symbol"||tn(a)&&Cn(a)==Mo}function G1(a){return a===C}function J1(a){return tn(a)&&xn(a)==Fa}function K1(a){return tn(a)&&Cn(a)==P0}function ih(a){if(!a)return[];if(On(a))return is(a)?Xe(a):Rn(a);if(Ha&&a[Ha])return ue(a[Ha]());var l=xn(a);return(l==Qn?ce:l==gr?fe:ea)(a)}function qr(a){return a?(a=ir(a),a===Nr||a===-Nr?(a<0?-1:1)*Ol:a===a?a:0):a===0?a:0}function st(a){var l=qr(a),f=l%1;return l===l?f?l-f:l:0}function ah(a){return a?ki(st(a),0,Xn):0}function ir(a){if(typeof a=="number")return a;if(Zn(a))return qi;if(Gt(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=Gt(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=G(a);var f=i_.test(a);return f||o_.test(a)?$_(a.slice(2),f?2:8):r_.test(a)?qi:+a}function oh(a){return kr(a,zn(a))}function Y1(a){return a?ki(st(a),-_r,_r):a===0?a:0}function Et(a){return a==null?"":Un(a)}function X1(a,l){var f=aa(a);return l==null?f:Jp(f,l)}function Q1(a,l){return k(a,Qe(l,3),wr)}function eC(a,l){return k(a,Qe(l,3),nc)}function tC(a,l){return a==null?a:Bc(a,Qe(l,3),zn)}function nC(a,l){return a==null?a:wh(a,Qe(l,3),zn)}function rC(a,l){return a&&wr(a,Qe(l,3))}function iC(a,l){return a&&nc(a,Qe(l,3))}function aC(a){return a==null?[]:Bo(a,mn(a))}function oC(a){return a==null?[]:Bo(a,zn(a))}function Ac(a,l,f){var b=a==null?C:Ci(a,l);return b===C?f:b}function sC(a,l){return a!=null&&zf(a,l,_w)}function Ic(a,l){return a!=null&&zf(a,l,ww)}function mn(a){return On(a)?Vp(a):oc(a)}function zn(a){return On(a)?Vp(a,!0):Ow(a)}function lC(a,l){var f={};return l=Qe(l,3),wr(a,function(b,I,$){Lr(f,l(b,I,$),b)}),f}function cC(a,l){var f={};return l=Qe(l,3),wr(a,function(b,I,$){Lr(f,I,l(b,I,$))}),f}function uC(a,l){return sh(a,ns(Qe(l)))}function sh(a,l){if(a==null)return{};var f=p(xc(a),function(b){return[b]});return l=Qe(l),cf(a,f,function(b,I){return l(b,I[0])})}function dC(a,l,f){l=ti(l,a);var b=-1,I=l.length;for(I||(I=1,a=C);++b<I;){var $=a==null?C:a[Cr(l[b])];$===C&&(b=I,$=f),a=Hr($)?$.call(a):$}return a}function pC(a,l,f){return a==null?a:La(a,l,f)}function fC(a,l,f,b){return b=typeof b=="function"?b:C,a==null?a:La(a,l,f,b)}function hC(a,l,f){var b=it(a),I=b||ai(a)||oa(a);if(l=Qe(l,4),f==null){var $=a&&a.constructor;f=I?b?new $:[]:Gt(a)&&Hr($)?aa(ps(a)):{}}return(I?i:wr)(a,function(H,K,ie){return l(f,H,K,ie)}),f}function mC(a,l){return a==null||pc(a,l)}function gC(a,l,f){return a==null?a:ff(a,l,mc(f))}function vC(a,l,f,b){return b=typeof b=="function"?b:C,a==null?a:ff(a,l,mc(f),b)}function ea(a){return a==null?[]:L(a,mn(a))}function yC(a){return a==null?[]:L(a,zn(a))}function bC(a,l,f){return f===C&&(f=l,l=C),f!==C&&(f=ir(f),f=f===f?f:0),l!==C&&(l=ir(l),l=l===l?l:0),ki(ir(a),l,f)}function xC(a,l,f){return l=qr(l),f===C?(f=l,l=0):f=qr(f),a=ir(a),kw(a,l,f)}function _C(a,l,f){if(f&&typeof f!="boolean"&&Sn(a,l,f)&&(l=f=C),f===C&&(typeof l=="boolean"?(f=l,l=C):typeof a=="boolean"&&(f=a,a=C)),a===C&&l===C?(a=0,l=1):(a=qr(a),l===C?(l=a,a=0):l=qr(l)),a>l){var b=a;a=l,l=b}if(f||a%1||l%1){var I=bh();return bn(a+I*(l-a+P_("1e-"+((I+"").length-1))),l)}return cc(a,l)}function lh(a){return Gc(Et(a).toLowerCase())}function ch(a){return a=Et(a),a&&a.replace(l_,B_).replace(T_,"")}function wC(a,l,f){a=Et(a),l=Un(l);var b=a.length;f=f===C?b:ki(st(f),0,b);var I=f;return f-=l.length,f>=0&&a.slice(f,I)==l}function kC(a){return a=Et(a),a&&U0.test(a)?a.replace(yp,U_):a}function CC(a){return a=Et(a),a&&G0.test(a)?a.replace(Hl,"\\$&"):a}function SC(a,l,f){a=Et(a),l=st(l);var b=l?Ye(a):0;if(!l||b>=l)return a;var I=(l-b)/2;return Go(gs(I),f)+a+Go(ms(I),f)}function EC(a,l,f){a=Et(a),l=st(l);var b=l?Ye(a):0;return l&&b<l?a+Go(l-b,f):a}function TC(a,l,f){a=Et(a),l=st(l);var b=l?Ye(a):0;return l&&b<l?Go(l-b,f)+a:a}function AC(a,l,f){return f||l==null?l=0:l&&(l=+l),wS(Et(a).replace(ql,""),l||0)}function IC(a,l,f){return l=(f?Sn(a,l,f):l===C)?1:st(l),uc(Et(a),l)}function jC(){var a=arguments,l=Et(a[0]);return a.length<3?l:l.replace(a[1],a[2])}function RC(a,l,f){return f&&typeof f!="number"&&Sn(a,l,f)&&(l=f=C),(f=f===C?Xn:f>>>0)?(a=Et(a),a&&(typeof l=="string"||l!=null&&!Vc(l))&&(l=Un(l),!l&&z(a))?ni(Xe(a),0,f):a.split(l,f)):[]}function OC(a,l,f){return a=Et(a),f=f==null?0:ki(st(f),0,a.length),l=Un(l),a.slice(f,f+l.length)==l}function zC(a,l,f){var b=E.templateSettings;f&&Sn(a,l,f)&&(l=C),a=Et(a),l=xs({},l,b,jf);var I,$,H=xs({},l.imports,b.imports,jf),K=mn(H),ie=L(H,K),_e=0,ve=l.interpolate||No,Se="__p += '",Ne=Pc((l.escape||No).source+"|"+ve.source+"|"+(ve===bp?n_:No).source+"|"+(l.evaluate||No).source+"|$","g"),Ze="//# sourceURL="+(At.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++O_+"]")+`
`;a.replace(Ne,function(Ge,ft,ht,_n,Mn,oi){return ht||(ht=_n),Se+=a.slice(_e,oi).replace(c_,Te),ft&&(I=!0,Se+=`' +
__e(`+ft+`) +
'`),Mn&&($=!0,Se+=`';
`+Mn+`;
__p += '`),ht&&(Se+=`' +
((__t = (`+ht+`)) == null ? '' : __t) +
'`),_e=oi+Ge.length,Ge}),Se+=`';
`;var Ve=At.call(l,"variable")&&l.variable;if(Ve){if(e_.test(Ve))throw new Nc(ae)}else Se=`with (obj) {
`+Se+`
}
`;Se=($?Se.replace($0,""):Se).replace(D0,"$1").replace(L0,"$1;"),Se="function("+(Ve||"obj")+`) {
`+(Ve?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Se+`return __p
}`;var ot=Nh(function(){return ph(K,Ze+"return "+Se).apply(C,ie)});if(ot.source=Se,Tc(ot))throw ot;return ot}function FC(a){return Et(a).toLowerCase()}function MC(a){return Et(a).toUpperCase()}function NC(a,l,f){if(a=Et(a),a&&(f||l===C))return G(a);if(!a||!(l=Un(l)))return a;var b=Xe(a),I=Xe(l);return ni(b,le(b,I),de(b,I)+1).join("")}function PC(a,l,f){if(a=Et(a),a&&(f||l===C))return a.slice(0,S(a)+1);if(!a||!(l=Un(l)))return a;var b=Xe(a);return ni(b,0,de(b,Xe(l))+1).join("")}function $C(a,l,f){if(a=Et(a),a&&(f||l===C))return a.replace(ql,"");if(!a||!(l=Un(l)))return a;var b=Xe(a);return ni(b,le(b,Xe(l))).join("")}function DC(a,l){var f=Mr,b=Qr;if(Gt(l)){var I="separator"in l?l.separator:I;f="length"in l?st(l.length):f,b="omission"in l?Un(l.omission):b}a=Et(a);var $=a.length;if(z(a)){var H=Xe(a);$=H.length}if(f>=$)return a;var K=f-Ye(b);if(K<1)return b;var ie=H?ni(H,0,K).join(""):a.slice(0,K);if(I===C)return ie+b;if(H&&(K+=ie.length-K),Vc(I)){if(a.slice(K).search(I)){var _e,ve=ie;for(I.global||(I=Pc(I.source,Et(xp.exec(I))+"g")),I.lastIndex=0;_e=I.exec(ve);)var Se=_e.index;ie=ie.slice(0,Se===C?K:Se)}}else if(a.indexOf(Un(I),K)!=K){var Ne=ie.lastIndexOf(I);Ne>-1&&(ie=ie.slice(0,Ne))}return ie+b}function LC(a){return a=Et(a),a&&B0.test(a)?a.replace(vp,Z_):a}function uh(a,l,f){return a=Et(a),l=f?C:l,l===C?Oe(a)?D(a):_(a):a.match(l)||[]}function BC(a){var l=a==null?0:a.length,f=Qe();return a=l?p(a,function(b){if(typeof b[1]!="function")throw new ar(re);return[f(b[0]),b[1]]}):[],ct(function(b){for(var I=-1;++I<l;){var $=a[I];if(n($[0],this,b))return n($[1],this,b)}})}function UC(a){return yw(tr(a,be))}function jc(a){return function(){return a}}function ZC(a,l){return a==null||a!==a?l:a}function Fn(a){return a}function Rc(a){return nf(typeof a=="function"?a:tr(a,be))}function HC(a){return af(tr(a,be))}function qC(a,l){return of(a,tr(l,be))}function Oc(a,l,f){var b=mn(l),I=Bo(l,b);f!=null||Gt(l)&&(I.length||!b.length)||(f=l,l=a,a=this,I=Bo(l,mn(l)));var $=!(Gt(f)&&"chain"in f&&!f.chain),H=Hr(a);return i(I,function(K){var ie=l[K];a[K]=ie,H&&(a.prototype[K]=function(){var _e=this.__chain__;if($||_e){var ve=a(this.__wrapped__);return(ve.__actions__=Rn(this.__actions__)).push({func:ie,args:arguments,thisArg:a}),ve.__chain__=_e,ve}return ie.apply(a,h([this.value()],arguments))})}),a}function WC(){return vn._===this&&(vn._=fS),this}function zc(){}function VC(a){return a=st(a),ct(function(l){return sf(l,a)})}function dh(a){return wc(a)?B(Cr(a)):Mw(a)}function GC(a){return function(l){return a==null?C:Ci(a,l)}}function Fc(){return[]}function Mc(){return!1}function JC(){return{}}function KC(){return""}function YC(){return!0}function XC(a,l){if(a=st(a),a<1||a>_r)return[];var f=Xn,b=bn(a,Xn);l=Qe(l),a-=Xn;for(var I=se(b,l);++f<a;)l(f);return I}function QC(a){return it(a)?p(a,Cr):Zn(a)?[a]:Rn(Th(Et(a)))}function eS(a){var l=++dS;return Et(a)+l}function tS(a){return a&&a.length?Lo(a,Fn,rc):C}function nS(a,l){return a&&a.length?Lo(a,Qe(l,2),rc):C}function rS(a){return O(a,Fn)}function iS(a,l){return O(a,Qe(l,2))}function aS(a){return a&&a.length?Lo(a,Fn,sc):C}function oS(a,l){return a&&a.length?Lo(a,Qe(l,2),sc):C}function sS(a){return a&&a.length?q(a,Fn):0}function lS(a,l){return a&&a.length?q(a,Qe(l,2)):0}he=he==null?vn:Ki.defaults(vn.Object(),he,Ki.pick(vn,R_));var dn=he.Array,as=he.Date,Nc=he.Error,ph=he.Function,ta=he.Math,Nt=he.Object,Pc=he.RegExp,cS=he.String,ar=he.TypeError,os=dn.prototype,uS=ph.prototype,na=Nt.prototype,ss=he["__core-js_shared__"],ls=uS.toString,At=na.hasOwnProperty,dS=0,fh=function(){var a=/[^.]+$/.exec(ss&&ss.keys&&ss.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),cs=na.toString,pS=ls.call(Nt),fS=vn._,hS=Pc("^"+ls.call(At).replace(Hl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),us=Lp?he.Buffer:C,ri=he.Symbol,ds=he.Uint8Array,hh=us?us.allocUnsafe:C,ps=et(Nt.getPrototypeOf,Nt),mh=Nt.create,gh=na.propertyIsEnumerable,fs=os.splice,vh=ri?ri.isConcatSpreadable:C,Ha=ri?ri.iterator:C,Ti=ri?ri.toStringTag:C,hs=function(){try{var a=Si(Nt,"defineProperty");return a({},"",{}),a}catch{}}(),mS=he.clearTimeout!==vn.clearTimeout&&he.clearTimeout,gS=as&&as.now!==vn.Date.now&&as.now,vS=he.setTimeout!==vn.setTimeout&&he.setTimeout,ms=ta.ceil,gs=ta.floor,$c=Nt.getOwnPropertySymbols,yS=us?us.isBuffer:C,yh=he.isFinite,bS=os.join,xS=et(Nt.keys,Nt),pn=ta.max,bn=ta.min,_S=as.now,wS=he.parseInt,bh=ta.random,kS=os.reverse,Dc=Si(he,"DataView"),qa=Si(he,"Map"),Lc=Si(he,"Promise"),ra=Si(he,"Set"),Wa=Si(he,"WeakMap"),Va=Si(Nt,"create"),vs=Wa&&new Wa,ia={},CS=Ei(Dc),SS=Ei(qa),ES=Ei(Lc),TS=Ei(ra),AS=Ei(Wa),ys=ri?ri.prototype:C,Ga=ys?ys.valueOf:C,xh=ys?ys.toString:C,aa=function(){function a(){}return function(l){if(!Gt(l))return{};if(mh)return mh(l);a.prototype=l;var f=new a;return a.prototype=C,f}}();E.templateSettings={escape:Z0,evaluate:H0,interpolate:bp,variable:"",imports:{_:E}},E.prototype=$e.prototype,E.prototype.constructor=E,Ke.prototype=aa($e.prototype),Ke.prototype.constructor=Ke,Le.prototype=aa($e.prototype),Le.prototype.constructor=Le,_i.prototype.clear=W_,_i.prototype.delete=V_,_i.prototype.get=G_,_i.prototype.has=J_,_i.prototype.set=K_,$r.prototype.clear=Y_,$r.prototype.delete=X_,$r.prototype.get=Q_,$r.prototype.has=ew,$r.prototype.set=tw,Dr.prototype.clear=nw,Dr.prototype.delete=rw,Dr.prototype.get=iw,Dr.prototype.has=aw,Dr.prototype.set=ow,wi.prototype.add=wi.prototype.push=sw,wi.prototype.has=lw,vr.prototype.clear=cw,vr.prototype.delete=uw,vr.prototype.get=dw,vr.prototype.has=pw,vr.prototype.set=fw;var ii=_f(wr),_h=_f(nc,!0),Bc=wf(),wh=wf(!0),kh=vs?function(a,l){return vs.set(a,l),a}:Fn,IS=hs?function(a,l){return hs(a,"toString",{configurable:!0,enumerable:!1,value:jc(l),writable:!0})}:Fn,jS=ct,Ch=mS||function(a){return vn.clearTimeout(a)},RS=ra&&1/fe(new ra([,-0]))[1]==Nr?function(a){return new ra(a)}:zc,Uc=vs?function(a){return vs.get(a)}:zc,Zc=$c?function(a){return a==null?[]:(a=Nt(a),c($c(a),function(l){return gh.call(a,l)}))}:Fc,Sh=$c?function(a){for(var l=[];a;)h(l,Zc(a)),a=ps(a);return l}:Fc,xn=Cn;(Dc&&xn(new Dc(new ArrayBuffer(1)))!=Gi||qa&&xn(new qa)!=Qn||Lc&&xn(Lc.resolve())!=gp||ra&&xn(new ra)!=gr||Wa&&xn(new Wa)!=Fa)&&(xn=function(a){var l=Cn(a),f=l==Pr?a.constructor:C,b=f?Ei(f):"";if(b)switch(b){case CS:return Gi;case SS:return Qn;case ES:return gp;case TS:return gr;case AS:return Fa}return l});var OS=ss?Hr:Mc,Eh=Lf(kh),Ja=vS||function(a,l){return vn.setTimeout(a,l)},Hc=Lf(IS),Th=lk(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(V0,function(f,b,I,$){l.push(I?$.replace(t_,"$1"):b||f)}),l}),zS=ct(function(a,l){return rn(a)?Pa(a,yn(l,1,rn,!0)):[]}),FS=ct(function(a,l){var f=rr(l);return rn(f)&&(f=C),rn(a)?Pa(a,yn(l,1,rn,!0),Qe(f,2)):[]}),MS=ct(function(a,l){var f=rr(l);return rn(f)&&(f=C),rn(a)?Pa(a,yn(l,1,rn,!0),C,f):[]}),NS=ct(function(a){var l=p(a,hc);return l.length&&l[0]===a[0]?ic(l):[]}),PS=ct(function(a){var l=rr(a),f=p(a,hc);return l===rr(f)?l=C:f.pop(),f.length&&f[0]===a[0]?ic(f,Qe(l,2)):[]}),$S=ct(function(a){var l=rr(a),f=p(a,hc);return l=typeof l=="function"?l:C,l&&f.pop(),f.length&&f[0]===a[0]?ic(f,C,l):[]}),DS=ct(Wf),LS=Ur(function(a,l){var f=a==null?0:a.length,b=tc(a,l);return uf(a,p(l,function(I){return Zr(I,f)?+I:I}).sort(yf)),b}),BS=ct(function(a){return ei(yn(a,1,rn,!0))}),US=ct(function(a){var l=rr(a);return rn(l)&&(l=C),ei(yn(a,1,rn,!0),Qe(l,2))}),ZS=ct(function(a){var l=rr(a);return l=typeof l=="function"?l:C,ei(yn(a,1,rn,!0),C,l)}),HS=ct(function(a,l){return rn(a)?Pa(a,l):[]}),qS=ct(function(a){return fc(c(a,rn))}),WS=ct(function(a){var l=rr(a);return rn(l)&&(l=C),fc(c(a,rn),Qe(l,2))}),VS=ct(function(a){var l=rr(a);return l=typeof l=="function"?l:C,fc(c(a,rn),C,l)}),GS=ct(Ec),JS=ct(function(a){var l=a.length,f=l>1?a[l-1]:C;return f=typeof f=="function"?(a.pop(),f):C,Vf(a,f)}),KS=Ur(function(a){var l=a.length,f=l?a[0]:0,b=this.__wrapped__,I=function($){return tc($,a)};return!(l>1||this.__actions__.length)&&b instanceof Le&&Zr(f)?(b=b.slice(f,+f+(l?1:0)),b.__actions__.push({func:Qo,args:[I],thisArg:C}),new Ke(b,this.__chain__).thru(function($){return l&&!$.length&&$.push(C),$})):this.thru(I)}),YS=qo(function(a,l,f){At.call(a,f)?++a[f]:Lr(a,f,1)}),XS=Cf(Uf),QS=Cf(Zf),eE=qo(function(a,l,f){At.call(a,f)?a[f].push(l):Lr(a,f,[l])}),tE=ct(function(a,l,f){var b=-1,I=typeof l=="function",$=On(a)?dn(a.length):[];return ii(a,function(H){$[++b]=I?n(l,H,f):$a(H,l,f)}),$}),nE=qo(function(a,l,f){Lr(a,f,l)}),rE=qo(function(a,l,f){a[f?0:1].push(l)},function(){return[[],[]]}),iE=ct(function(a,l){if(a==null)return[];var f=l.length;return f>1&&Sn(a,l[0],l[1])?l=[]:f>2&&Sn(l[0],l[1],l[2])&&(l=[l[0]]),lf(a,yn(l,1),[])}),bs=gS||function(){return vn.Date.now()},qc=ct(function(a,l,f){var b=yt;if(f.length){var I=Ue(f,Qi(qc));b|=dt}return Br(a,b,l,f,I)}),Ah=ct(function(a,l,f){var b=yt|rt;if(f.length){var I=Ue(f,Qi(Ah));b|=dt}return Br(l,b,a,f,I)}),aE=ct(function(a,l){return Yp(a,1,l)}),oE=ct(function(a,l,f){return Yp(a,ir(l)||0,f)});ts.Cache=Dr;var sE=jS(function(a,l){l=l.length==1&&it(l[0])?p(l[0],x(Qe())):p(yn(l,1),x(Qe()));var f=l.length;return ct(function(b){for(var I=-1,$=bn(b.length,f);++I<$;)b[I]=l[I].call(this,b[I]);return n(a,this,b)})}),Wc=ct(function(a,l){return Br(a,dt,C,l,Ue(l,Qi(Wc)))}),Ih=ct(function(a,l){return Br(a,mr,C,l,Ue(l,Qi(Ih)))}),lE=Ur(function(a,l){return Br(a,Fr,C,C,C,l)}),cE=Jo(rc),uE=Jo(function(a,l){return a>=l}),Ai=ef(function(){return arguments}())?ef:function(a){return tn(a)&&At.call(a,"callee")&&!gh.call(a,"callee")},it=dn.isArray,dE=Bp?x(Bp):Sw,ai=yS||Mc,pE=Up?x(Up):Ew,jh=Zp?x(Zp):Aw,Vc=Hp?x(Hp):Iw,Rh=qp?x(qp):jw,oa=Wp?x(Wp):Rw,fE=Jo(sc),hE=Jo(function(a,l){return a<=l}),mE=Yi(function(a,l){if(Ua(l)||On(l))return kr(l,mn(l),a),C;for(var f in l)At.call(l,f)&&Na(a,f,l[f])}),Oh=Yi(function(a,l){kr(l,zn(l),a)}),xs=Yi(function(a,l,f,b){kr(l,zn(l),a,b)}),gE=Yi(function(a,l,f,b){kr(l,mn(l),a,b)}),vE=Ur(tc),yE=ct(function(a,l){a=Nt(a);var f=-1,b=l.length,I=b>2?l[2]:C;for(I&&Sn(l[0],l[1],I)&&(b=1);++f<b;)for(var $=l[f],H=zn($),K=-1,ie=H.length;++K<ie;){var _e=H[K],ve=a[_e];(ve===C||yr(ve,na[_e])&&!At.call(a,_e))&&(a[_e]=$[_e])}return a}),bE=ct(function(a){return a.push(C,Rf),n(zh,C,a)}),xE=Ef(function(a,l,f){l!=null&&typeof l.toString!="function"&&(l=cs.call(l)),a[l]=f},jc(Fn)),_E=Ef(function(a,l,f){l!=null&&typeof l.toString!="function"&&(l=cs.call(l)),At.call(a,l)?a[l].push(f):a[l]=[f]},Qe),wE=ct($a),kE=Yi(function(a,l,f){Uo(a,l,f)}),zh=Yi(function(a,l,f,b){Uo(a,l,f,b)}),CE=Ur(function(a,l){var f={};if(a==null)return f;var b=!1;l=p(l,function($){return $=ti($,a),b||(b=$.length>1),$}),kr(a,xc(a),f),b&&(f=tr(f,be|je|Be,Kw));for(var I=l.length;I--;)pc(f,l[I]);return f}),SE=Ur(function(a,l){return a==null?{}:Fw(a,l)}),Fh=If(mn),Mh=If(zn),EE=Xi(function(a,l,f){return l=l.toLowerCase(),a+(f?lh(l):l)}),TE=Xi(function(a,l,f){return a+(f?"-":"")+l.toLowerCase()}),AE=Xi(function(a,l,f){return a+(f?" ":"")+l.toLowerCase()}),IE=kf("toLowerCase"),jE=Xi(function(a,l,f){return a+(f?"_":"")+l.toLowerCase()}),RE=Xi(function(a,l,f){return a+(f?" ":"")+Gc(l)}),OE=Xi(function(a,l,f){return a+(f?" ":"")+l.toUpperCase()}),Gc=kf("toUpperCase"),Nh=ct(function(a,l){try{return n(a,C,l)}catch(f){return Tc(f)?f:new Nc(f)}}),zE=Ur(function(a,l){return i(l,function(f){f=Cr(f),Lr(a,f,qc(a[f],a))}),a}),FE=Sf(),ME=Sf(!0),NE=ct(function(a,l){return function(f){return $a(f,a,l)}}),PE=ct(function(a,l){return function(f){return $a(a,f,l)}}),$E=vc(p),DE=vc(o),LE=vc(v),BE=Tf(),UE=Tf(!0),ZE=Vo(function(a,l){return a+l},0),HE=yc("ceil"),qE=Vo(function(a,l){return a/l},1),WE=yc("floor"),VE=Vo(function(a,l){return a*l},1),GE=yc("round"),JE=Vo(function(a,l){return a-l},0);return E.after=_1,E.ary=Yf,E.assign=mE,E.assignIn=Oh,E.assignInWith=xs,E.assignWith=gE,E.at=vE,E.before=Xf,E.bind=qc,E.bindAll=zE,E.bindKey=Ah,E.castArray=I1,E.chain=Gf,E.chunk=hk,E.compact=mk,E.concat=gk,E.cond=BC,E.conforms=UC,E.constant=jc,E.countBy=YS,E.create=X1,E.curry=Qf,E.curryRight=eh,E.debounce=th,E.defaults=yE,E.defaultsDeep=bE,E.defer=aE,E.delay=oE,E.difference=zS,E.differenceBy=FS,E.differenceWith=MS,E.drop=vk,E.dropRight=yk,E.dropRightWhile=bk,E.dropWhile=xk,E.fill=_k,E.filter=s1,E.flatMap=l1,E.flatMapDeep=c1,E.flatMapDepth=u1,E.flatten=Hf,E.flattenDeep=wk,E.flattenDepth=kk,E.flip=w1,E.flow=FE,E.flowRight=ME,E.fromPairs=Ck,E.functions=aC,E.functionsIn=oC,E.groupBy=eE,E.initial=Ek,E.intersection=NS,E.intersectionBy=PS,E.intersectionWith=$S,E.invert=xE,E.invertBy=_E,E.invokeMap=tE,E.iteratee=Rc,E.keyBy=nE,E.keys=mn,E.keysIn=zn,E.map=es,E.mapKeys=lC,E.mapValues=cC,E.matches=HC,E.matchesProperty=qC,E.memoize=ts,E.merge=kE,E.mergeWith=zh,E.method=NE,E.methodOf=PE,E.mixin=Oc,E.negate=ns,E.nthArg=VC,E.omit=CE,E.omitBy=uC,E.once=k1,E.orderBy=p1,E.over=$E,E.overArgs=sE,E.overEvery=DE,E.overSome=LE,E.partial=Wc,E.partialRight=Ih,E.partition=rE,E.pick=SE,E.pickBy=sh,E.property=dh,E.propertyOf=GC,E.pull=DS,E.pullAll=Wf,E.pullAllBy=jk,E.pullAllWith=Rk,E.pullAt=LS,E.range=BE,E.rangeRight=UE,E.rearg=lE,E.reject=m1,E.remove=Ok,E.rest=C1,E.reverse=Sc,E.sampleSize=v1,E.set=pC,E.setWith=fC,E.shuffle=y1,E.slice=zk,E.sortBy=iE,E.sortedUniq=Lk,E.sortedUniqBy=Bk,E.split=RC,E.spread=S1,E.tail=Uk,E.take=Zk,E.takeRight=Hk,E.takeRightWhile=qk,E.takeWhile=Wk,E.tap=Xk,E.throttle=E1,E.thru=Qo,E.toArray=ih,E.toPairs=Fh,E.toPairsIn=Mh,E.toPath=QC,E.toPlainObject=oh,E.transform=hC,E.unary=T1,E.union=BS,E.unionBy=US,E.unionWith=ZS,E.uniq=Vk,E.uniqBy=Gk,E.uniqWith=Jk,E.unset=mC,E.unzip=Ec,E.unzipWith=Vf,E.update=gC,E.updateWith=vC,E.values=ea,E.valuesIn=yC,E.without=HS,E.words=uh,E.wrap=A1,E.xor=qS,E.xorBy=WS,E.xorWith=VS,E.zip=GS,E.zipObject=Kk,E.zipObjectDeep=Yk,E.zipWith=JS,E.entries=Fh,E.entriesIn=Mh,E.extend=Oh,E.extendWith=xs,Oc(E,E),E.add=ZE,E.attempt=Nh,E.camelCase=EE,E.capitalize=lh,E.ceil=HE,E.clamp=bC,E.clone=j1,E.cloneDeep=O1,E.cloneDeepWith=z1,E.cloneWith=R1,E.conformsTo=F1,E.deburr=ch,E.defaultTo=ZC,E.divide=qE,E.endsWith=wC,E.eq=yr,E.escape=kC,E.escapeRegExp=CC,E.every=o1,E.find=XS,E.findIndex=Uf,E.findKey=Q1,E.findLast=QS,E.findLastIndex=Zf,E.findLastKey=eC,E.floor=WE,E.forEach=Jf,E.forEachRight=Kf,E.forIn=tC,E.forInRight=nC,E.forOwn=rC,E.forOwnRight=iC,E.get=Ac,E.gt=cE,E.gte=uE,E.has=sC,E.hasIn=Ic,E.head=qf,E.identity=Fn,E.includes=d1,E.indexOf=Sk,E.inRange=xC,E.invoke=wE,E.isArguments=Ai,E.isArray=it,E.isArrayBuffer=dE,E.isArrayLike=On,E.isArrayLikeObject=rn,E.isBoolean=M1,E.isBuffer=ai,E.isDate=pE,E.isElement=N1,E.isEmpty=P1,E.isEqual=$1,E.isEqualWith=D1,E.isError=Tc,E.isFinite=L1,E.isFunction=Hr,E.isInteger=nh,E.isLength=rs,E.isMap=jh,E.isMatch=B1,E.isMatchWith=U1,E.isNaN=Z1,E.isNative=H1,E.isNil=W1,E.isNull=q1,E.isNumber=rh,E.isObject=Gt,E.isObjectLike=tn,E.isPlainObject=Za,E.isRegExp=Vc,E.isSafeInteger=V1,E.isSet=Rh,E.isString=is,E.isSymbol=Zn,E.isTypedArray=oa,E.isUndefined=G1,E.isWeakMap=J1,E.isWeakSet=K1,E.join=Tk,E.kebabCase=TE,E.last=rr,E.lastIndexOf=Ak,E.lowerCase=AE,E.lowerFirst=IE,E.lt=fE,E.lte=hE,E.max=tS,E.maxBy=nS,E.mean=rS,E.meanBy=iS,E.min=aS,E.minBy=oS,E.stubArray=Fc,E.stubFalse=Mc,E.stubObject=JC,E.stubString=KC,E.stubTrue=YC,E.multiply=VE,E.nth=Ik,E.noConflict=WC,E.noop=zc,E.now=bs,E.pad=SC,E.padEnd=EC,E.padStart=TC,E.parseInt=AC,E.random=_C,E.reduce=f1,E.reduceRight=h1,E.repeat=IC,E.replace=jC,E.result=dC,E.round=GE,E.runInContext=te,E.sample=g1,E.size=b1,E.snakeCase=jE,E.some=x1,E.sortedIndex=Fk,E.sortedIndexBy=Mk,E.sortedIndexOf=Nk,E.sortedLastIndex=Pk,E.sortedLastIndexBy=$k,E.sortedLastIndexOf=Dk,E.startCase=RE,E.startsWith=OC,E.subtract=JE,E.sum=sS,E.sumBy=lS,E.template=zC,E.times=XC,E.toFinite=qr,E.toInteger=st,E.toLength=ah,E.toLower=FC,E.toNumber=ir,E.toSafeInteger=Y1,E.toString=Et,E.toUpper=MC,E.trim=NC,E.trimEnd=PC,E.trimStart=$C,E.truncate=DC,E.unescape=LC,E.uniqueId=eS,E.upperCase=OE,E.upperFirst=Gc,E.each=Jf,E.eachRight=Kf,E.first=qf,Oc(E,function(){var a={};return wr(E,function(l,f){At.call(E.prototype,f)||(a[f]=l)}),a}(),{chain:!1}),E.VERSION=ee,i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){E[a].placeholder=E}),i(["drop","take"],function(a,l){Le.prototype[a]=function(f){f=f===C?1:pn(st(f),0);var b=this.__filtered__&&!l?new Le(this):this.clone();return b.__filtered__?b.__takeCount__=bn(f,b.__takeCount__):b.__views__.push({size:bn(f,Xn),type:a+(b.__dir__<0?"Right":"")}),b},Le.prototype[a+"Right"]=function(f){return this.reverse()[a](f).reverse()}}),i(["filter","map","takeWhile"],function(a,l){var f=l+1,b=f==Ra||f==zo;Le.prototype[a]=function(I){var $=this.clone();return $.__iteratees__.push({iteratee:Qe(I,3),type:f}),$.__filtered__=$.__filtered__||b,$}}),i(["head","last"],function(a,l){var f="take"+(l?"Right":"");Le.prototype[a]=function(){return this[f](1).value()[0]}}),i(["initial","tail"],function(a,l){var f="drop"+(l?"":"Right");Le.prototype[a]=function(){return this.__filtered__?new Le(this):this[f](1)}}),Le.prototype.compact=function(){return this.filter(Fn)},Le.prototype.find=function(a){return this.filter(a).head()},Le.prototype.findLast=function(a){return this.reverse().find(a)},Le.prototype.invokeMap=ct(function(a,l){return typeof a=="function"?new Le(this):this.map(function(f){return $a(f,a,l)})}),Le.prototype.reject=function(a){return this.filter(ns(Qe(a)))},Le.prototype.slice=function(a,l){a=st(a);var f=this;return f.__filtered__&&(a>0||l<0)?new Le(f):(a<0?f=f.takeRight(-a):a&&(f=f.drop(a)),l!==C&&(l=st(l),f=l<0?f.dropRight(-l):f.take(l-a)),f)},Le.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Le.prototype.toArray=function(){return this.take(Xn)},wr(Le.prototype,function(a,l){var f=/^(?:filter|find|map|reject)|While$/.test(l),b=/^(?:head|last)$/.test(l),I=E[b?"take"+(l=="last"?"Right":""):l],$=b||/^find/.test(l);I&&(E.prototype[l]=function(){var H=this.__wrapped__,K=b?[1]:arguments,ie=H instanceof Le,_e=K[0],ve=ie||it(H),Se=function(ft){var ht=I.apply(E,h([ft],K));return b&&Ne?ht[0]:ht};ve&&f&&typeof _e=="function"&&_e.length!=1&&(ie=ve=!1);var Ne=this.__chain__,Ze=!!this.__actions__.length,Ve=$&&!Ne,ot=ie&&!Ze;if(!$&&ve){H=ot?H:new Le(this);var Ge=a.apply(H,K);return Ge.__actions__.push({func:Qo,args:[Se],thisArg:C}),new Ke(Ge,Ne)}return Ve&&ot?a.apply(this,K):(Ge=this.thru(Se),Ve?b?Ge.value()[0]:Ge.value():Ge)})}),i(["pop","push","shift","sort","splice","unshift"],function(a){var l=os[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",b=/^(?:pop|shift)$/.test(a);E.prototype[a]=function(){var I=arguments;if(b&&!this.__chain__){var $=this.value();return l.apply(it($)?$:[],I)}return this[f](function(H){return l.apply(it(H)?H:[],I)})}}),wr(Le.prototype,function(a,l){var f=E[l];if(f){var b=f.name+"";At.call(ia,b)||(ia[b]=[]),ia[b].push({name:l,func:f})}}),ia[Wo(C,rt).name]=[{name:"wrapper",func:C}],Le.prototype.clone=jn,Le.prototype.reverse=Ql,Le.prototype.value=q_,E.prototype.at=KS,E.prototype.chain=Qk,E.prototype.commit=e1,E.prototype.next=t1,E.prototype.plant=r1,E.prototype.reverse=i1,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=a1,E.prototype.first=E.prototype.head,Ha&&(E.prototype[Ha]=n1),E},Ki=H_();xi?((xi.exports=Ki)._=Ki,Yl._=Ki):vn._=Ki}).call(Vn)})(ul,ul.exports);var bH=ul.exports,yv=bH.runInContext(),xt=QI(yv,yv);const O0=/^[A-Za-z][_0-9A-Za-z]*$/,z0=e=>({name:"attributeNameAlreadyUsed",message:Xt.unique.id,test(t){if(!t)return!1;const n=xt.snakeCase(t);return!e.some(r=>xt.snakeCase(r)===n)}}),yd=e=>({name:"forbiddenAttributeName",message:ne("error.attributeName.reserved-name"),test(t){if(!t)return!1;const n=xt.snakeCase(t);return!e.some(r=>xt.snakeCase(r)===n)}}),Ie={default:()=>zt().nullable(),max:()=>lr().integer().nullable(),min:()=>lr().integer().when("max",(e,t)=>e?t.max(e,ne("error.validation.minSupMax")):t).nullable(),maxLength:()=>lr().integer().positive(ne("error.validation.positive")).nullable(),maxLengthString:()=>lr().integer().positive(ne("error.validation.positive")).max(255,"Maximum length for short text fields is 255 characters").nullable(),minLength:()=>lr().integer().min(1).when("maxLength",(e,t)=>e?t.max(e,ne("error.validation.minSupMax")):t).nullable(),name(e,t){return zt().test(z0(e)).test(yd(t)).matches(O0,Xt.regex.id).required(Xt.required.id)},required:()=>mo(),type:()=>zt().required(Xt.required.id),unique:()=>mo().nullable()},bv=(e,t)=>({name:Ie.name(e,t),type:Ie.type(),default:Ie.default(),unique:Ie.unique(),required:Ie.required(),maxLength:Ie.maxLength(),minLength:Ie.minLength(),regex:zt().test({name:"isValidRegExpPattern",message:ne("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),xH=(e,t)=>({name:Ie.name(e,t),type:Ie.type(),default:Ie.default(),unique:Ie.unique(),required:Ie.required(),maxLength:Ie.maxLengthString(),minLength:Ie.minLength(),regex:zt().test({name:"isValidRegExpPattern",message:ne("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),Ou=()=>({name:"isMinSuperiorThanMax",message:ne("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN(Yc(e))?!0:Yc(t)>=Yc(e)}}),zs={date(e,t){const n={name:Ie.name(e,t),type:Ie.type()};return qt(n)},datetime(e,t){const n={name:Ie.name(e,t),type:Ie.type()};return qt(n)},time(e,t){const n={name:Ie.name(e,t),type:Ie.type()};return qt(n)},default(e,t){const n={name:Ie.name(e,t),type:Ie.type()};return qt(n)},biginteger(e,t){const n={name:Ie.name(e,t),type:Ie.type(),default:zt().nullable().matches(/^-?\d*$/),unique:Ie.unique(),required:Ie.required(),max:zt().nullable().matches(/^-?\d*$/,Xt.regex.id),min:zt().nullable().test(Ou()).matches(/^-?\d*$/,Xt.regex.id)};return qt(n)},boolean(e,t){const n={name:Ie.name(e,t),default:mo().nullable(),required:Ie.required(),unique:Ie.unique()};return qt(n)},component(e,t){const n={name:Ie.name(e,t),type:Ie.type(),required:Ie.required(),max:Ie.max(),min:Ie.min(),component:zt().required(Xt.required.id)};return qt(n)},decimal(e,t){const n={name:Ie.name(e,t),type:Ie.type(),default:lr(),required:Ie.required(),max:lr(),min:lr().test(Ou())};return qt(n)},dynamiczone(e,t){const n={name:Ie.name(e,t),type:Ie.type(),required:Ie.required(),max:Ie.max(),min:Ie.min()};return qt(n)},email(e,t){const n={name:Ie.name(e,t),type:Ie.type(),default:zt().email().nullable(),unique:Ie.unique(),required:Ie.required(),maxLength:Ie.maxLength(),minLength:Ie.minLength()};return qt(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:zt().test(z0(e)).test(yd(t)).matches(n,Xt.regex.id).required(Xt.required.id),type:Ie.type(),default:Ie.default(),unique:Ie.unique(),required:Ie.required(),enum:Hh().of(zt()).min(1,Xt.min.id).test({name:"areEnumValuesUnique",message:ne("error.validation.enum-duplicate"),test(i){return i?!yH(i.map(Ru).filter((o,c,u)=>u.indexOf(o)!==c)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:ne("error.validation.enum-empty-string"),test:i=>i?!i.map(Ru).some(s=>s===""):!1}).test({name:"doesMatchRegex",message:ne("error.validation.enum-regex"),test:i=>i?i.map(Ru).every(s=>n.test(s)):!1}),enumName:zt().nullable()};return qt(r)},float(e,t){const n={name:Ie.name(e,t),type:Ie.type(),required:Ie.required(),default:lr(),max:lr(),min:lr().test(Ou())};return qt(n)},integer(e,t){const n={name:Ie.name(e,t),type:Ie.type(),default:lr().integer(),unique:Ie.unique(),required:Ie.required(),max:Ie.max(),min:Ie.min()};return qt(n)},json(e,t){const n={name:Ie.name(e,t),type:Ie.type(),required:Ie.required(),unique:Ie.unique()};return qt(n)},media(e,t){const n={name:Ie.name(e,t),type:Ie.type(),multiple:mo(),required:Ie.required(),allowedTypes:Hh().of(zt().oneOf(["images","videos","files","audios"])).min(1).nullable()};return qt(n)},password(e,t){const n={name:Ie.name(e,t),type:Ie.type(),default:Ie.default(),unique:Ie.unique(),required:Ie.required(),maxLength:Ie.maxLength(),minLength:Ie.minLength()};return qt(n)},relation(e,t,n,{initialData:r,modifiedData:i}){const s={name:Ie.name(e,t),target:zt().required(Xt.required.id),relation:zt().required(),type:zt().required(),targetAttribute:ej(()=>{const o=Ad(i.relation,i.targetAttribute);if(o==="oneWay"||o==="manyWay")return zt().nullable();const c=zt().test(yd(t)),d=[...n.map(({name:p})=>p),i.name].filter(p=>p!==r.targetAttribute);return c.matches(O0,Xt.regex.id).test({name:"forbiddenTargetAttributeName",message:ne("error.validation.relation.targetAttribute-taken"),test(p){return p?!d.includes(p):!1}}).required(Xt.required.id)})};return qt(s)},richtext(e,t){const n={name:Ie.name(e,t),type:Ie.type(),default:Ie.default(),unique:Ie.unique(),required:Ie.required(),maxLength:Ie.maxLength(),minLength:Ie.minLength()};return qt(n)},blocks(e,t){const n={name:Ie.name(e,t),type:Ie.type(),default:Ie.default(),unique:Ie.unique(),required:Ie.required(),maxLength:Ie.maxLength(),minLength:Ie.minLength()};return qt(n)},string(e,t){const n=xH(e,t);return qt(n)},text(e,t){const n=bv(e,t);return qt(n)},uid(e,t){const n=bv(e,t);return qt(n)}},_H=/^[A-Za-z][-_0-9A-Za-z]*$/,wH=(e,t,n,r,i)=>{const s={displayName:zt().test({name:"nameAlreadyUsed",message:Xt.unique.id,test(o){if(!o)return!1;const c=no(o,n),u=xt.snakeCase(c),d=xt.snakeCase(i);return e.every(p=>xt.snakeCase(p)!==u)&&r.every(p=>xt.snakeCase(p)!==d)}}).test({name:"nameNotAllowed",message:ne("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return t.every(u=>xt.snakeCase(u)!==c)}}).required(Xt.required.id),category:zt().matches(_H,Xt.regex.id).required(Xt.required.id),icon:zt()};return qt(s)},xv={name:"displayName",type:"text",intlLabel:{id:ne("contentType.displayName.label"),defaultMessage:"Display name"}},zu={advanced:{default(){return{sections:[{items:[{intlLabel:{id:ne("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:ne("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[xv,{description:{id:ne("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:ne("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:ne("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:ne("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[xv,{disabled:!0,description:{id:ne("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:ne("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:ne("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:ne("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:ne("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:ne("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:ne("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:ne("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},kH=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:r=[],collectionNames:i=[]})=>{const s={displayName:zt().test({name:"nameAlreadyUsed",message:Xt.unique.id,test(o){if(!o)return!1;const c=iy(o),u=xt.snakeCase(c);return!e.some(d=>xt.snakeCase(d)===u)}}).test({name:"nameNotAllowed",message:ne("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!t.some(u=>xt.snakeCase(u)===c)}}).required(Xt.required.id),pluralName:zt().test({name:"pluralNameAlreadyUsed",message:Xt.unique.id,test(o){if(!o)return!1;const c=xt.snakeCase(o);return!r.some(u=>xt.snakeCase(u)===c)}}).test({name:"pluralNameAlreadyUsedAsSingular",message:ne("error.contentType.pluralName-equals-singularName"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!n.some(u=>xt.snakeCase(u)===c)}}).test({name:"pluralAndSingularAreUnique",message:ne("error.contentType.pluralName-used"),test(o,c){return o?xt.snakeCase(c.parent.singularName)!==xt.snakeCase(o):!1}}).test({name:"pluralNameNotAllowed",message:ne("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!t.some(u=>xt.snakeCase(u)===c)}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:ne("error.contentType.pluralName-equals-collectionName"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!i.some(u=>xt.snakeCase(u)===c)}}).required(Xt.required.id),singularName:zt().test({name:"singularNameAlreadyUsed",message:Xt.unique.id,test(o){if(!o)return!1;const c=xt.snakeCase(o);return!n.some(u=>xt.snakeCase(u)===c)}}).test({name:"singularNameAlreadyUsedAsPlural",message:ne("error.contentType.singularName-equals-pluralName"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!r.some(u=>xt.snakeCase(u)===c)}}).test({name:"pluralAndSingularAreUnique",message:ne("error.contentType.singularName-used"),test(o,c){return o?xt.snakeCase(c.parent.pluralName)!==xt.snakeCase(o):!1}}).test({name:"singularNameNotAllowed",message:ne("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const c=xt.snakeCase(o);return!t.some(u=>xt.snakeCase(u)===c)}}).required(Xt.required.id),draftAndPublish:mo(),kind:zt().oneOf(["singleType","collectionType"])};return qt(s)},Fu={advanced:{default(){return{sections:Ca.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[vd]},...Ca.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[vd]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:ne("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},_v=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items?.push(n);return}t.push(n)})},CH=(e,t)=>`components_${xt.snakeCase(t)}_${xa(xt.snakeCase(e))}`,wv=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n),ji={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:r,schemaData:i,ctbFormsAPI:s}){const o=wv(e,i);let c;return t==="relation"?c=zs[t](o,r.attributes,[],{initialData:{},modifiedData:{}}):c=zs[t](o,r.attributes),s.makeCustomFieldValidator(c,n,o,r.attributes,i)},form:{base({customField:e}){const t=[{sectionTitle:null,items:[Ir]}];return e.options?.base&&_v(e.options.base,t),{sections:t}},advanced({customField:e,data:t,step:n,extensions:r,...i}){const s=[{sectionTitle:null,items:[]},{sectionTitle:{id:"form.attribute.condition.section",defaultMessage:"Conditions"},items:[{name:"conditions",type:"condition-form",intlLabel:{id:"form.attribute.condition.label",defaultMessage:"Visibility condition"},description:{id:"form.attribute.condition.desc",defaultMessage:"Show this field only when a boolean/enum condition matches."}}]}],o=r.getAdvancedForm(["attribute",e.type],{data:t,type:e.type,step:n,...i});if(e.options?.advanced&&_v(e.options.advanced,s),o){const c={sectionTitle:{id:ne("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:o};s.push(c)}return{sections:s}}}},attribute:{schema(e,t,n,r,i,s){const o=e?.attributes??[],c=wv(o,i);try{const u=zs[t](c,n.attributes,r,i);return s.makeValidator(["attribute",t],u,c,n.attributes,r,i)}catch(u){return console.error("Error yup build schema",u),zs.default(c,n.attributes)}},form:{advanced({data:e,type:t,step:n,extensions:r,...i}){try{const s=vv.advanced[t](e,n).sections,o=r.getAdvancedForm(["attribute",t],{data:e,type:t,step:n,...i});let c=!1;return{sections:s.reduce((d,p)=>(p.sectionTitle===null||c?d.push(p):(d.push({...p,items:[...p.items,...o]}),c=!0),d),[])}}catch(s){return console.error(s),{sections:[]}}},base({data:e,type:t,step:n,attributes:r}){try{return vv.base[t](e,n,r)}catch{return pH}}}},contentType:{schema(e,t,n,r,i,s){const o=Object.values(s).map(v=>v.info.singularName),c=Object.values(s).map(v=>v?.info?.pluralName??""),u=t?e.filter(v=>v!==n):e,d=t?o.filter(v=>{const{info:w}=s[n];return w.singularName!==v}):o,p=t?c.filter(v=>{const{info:w}=s[n];return w.pluralName!==v}):c,h=Object.values(s).map(v=>v?.collectionName??""),g=t?h.filter(v=>{const{collectionName:w}=s[n];return v!==w}):h,y=kH({usedContentTypeNames:u,reservedModels:r.models,singularNames:d,pluralNames:p,collectionNames:g});return i.makeValidator(["contentType"],y,u,r.models,d,p)},form:{base({actionType:e}){return e==="create"?zu.base.create():zu.base.edit()},advanced({extensions:e}){const t=zu.advanced.default().sections.map(r=>r.items).flat(),n=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...t,...n]}]}}}},component:{schema(e,t,n,r=!1,i,s,o=null){const c=r?e.filter(h=>h!==o):e,u=Object.values(i).map(h=>h?.collectionName),d=CH(s,t),p=r?u.filter(h=>h!==d):u;return wH(c,n.models,t,p,d)},form:{advanced(){return{sections:Ca.advanced()}},base(){return{sections:Ca.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Fu.advanced.default()},base({data:e}){return e?.createComponent??!1?Fu.base.createComponent():Fu.base.default()}}}},SH=(e,t)=>{const n=e.kind;return n==="singleType"||n===t.kind?!0:(e?.attributes??[]).filter(s=>{if(s.type!=="relation")return!1;const{relation:o,targetAttribute:c}=s,u=Ad(o,c);return!["oneWay","manyWay"].includes(u||"")}).length===0},EH=(e="",t,n)=>{const r=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],i=e==="contentType";if(i)return[[...r.slice(0,-1),"uid",...r.slice(-1)],["component","dynamiczone"]];if(e){const o=R0(t,n)>=ny;if(!i&&!o)return[r,["component"]]}return[r]},kv=e=>e.reduce((t,n)=>{const r=n.items.reduce((i,s)=>(s.name&&i.push(s.name),i),[]);return[...t,...r]},[]),TH=vt.form`
  overflow: auto;
`,AH=e=>e["content-type-builder_formModal"]||tj,IH=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:r,actionType:i,attributeName:s,attributeType:o,customFieldUid:c,dynamicZoneTarget:u,forTarget:d,modalType:p,isOpen:h,kind:g,step:y,targetUid:v,showBackLink:w,activeTab:_,setActiveTab:k}=ja(),T=ho("FormModal",Je=>Je.getPlugin),j=ho("FormModal",Je=>Je.customFields.get)(c),P=ml(),{toggleNotification:O}=Sa(),B=Lv(AH,nj),U=rj(),{trackUsage:Y}=Ea(),{formatMessage:X}=mt(),se=T(di)?.apis.forms,R=se.components.inputs,G=Di("FormModal",Je=>Je.dispatch),{addAttribute:x,editAttribute:L,addCustomFieldAttribute:Ce,addCreatedComponentToDynamicZone:le,changeDynamicZoneComponents:de,contentTypes:N,components:Te,createSchema:oe,createComponentSchema:z,deleteComponent:Oe,deleteContentType:ue,editCustomFieldAttribute:ce,updateSchema:et,nestedComponents:Ue,sortedContentTypesList:fe,updateComponentSchema:ze,updateComponentUid:ye,reservedNames:Re}=Yn(),{componentToCreate:Ye,formErrors:Xe,initialData:S,isCreatingComponentWhileAddingAField:pe,modifiedData:V}=B,D=d==="component"?Te[v]:N[v],[C,ee]=W.useState(!1),[xe,we]=W.useState(null),re=()=>{if(i!=="edit"||p!=="attribute")return!1;const Je=S.name,_t=S.enum,en=V.enum,Zt=(D?.attributes||[]).filter(Ht=>{if(!Ht.conditions)return!1;const gn=Ht.conditions.visible;if(!gn)return!1;const[[,Wi]]=Object.entries(gn),[Vi,Fo]=Wi;return Vi.var!==Je?!1:_t&&en?_t.filter(bi=>!en.includes(bi)).includes(Fo):!0});return Zt.length>0?Zt:!1};W.useEffect(()=>{if(h){const Je=fe.filter(_0);i==="edit"&&p==="attribute"&&d==="contentType"&&Y("willEditFieldOfContentType");const _t=pd(Kt(D,"schema.attributes",[]),u)||null;if(p==="contentType"&&i==="create"&&P(an.setDataToEdit({data:{draftAndPublish:!0}})),p==="contentType"&&i==="edit"&&P(an.setDataToEdit({data:{displayName:D.info.displayName,draftAndPublish:D.options?.draftAndPublish,kind:"kind"in D&&D.kind,pluginOptions:D.pluginOptions,pluralName:"pluralName"in D.info&&D.info.pluralName,singularName:"singularName"in D.info&&D.info.singularName}})),p==="component"&&i==="edit"&&P(an.setDataToEdit({data:{displayName:D.info.displayName,category:"category"in D&&D.category,icon:D.info.icon}})),p==="addComponentToDynamicZone"&&i==="edit"){const en={..._t,components:[],name:u,createComponent:!1,componentToCreate:{type:"component"}};P(an.setDynamicZoneDataSchema({attributeToEdit:en}))}if(o){const pt={...pd(Kt(D,["attributes"],[]),s),name:s};o==="component"&&i==="edit"&&(!("repeatable"in pt)||!pt.repeatable)&&ij(pt,"repeatable",!1),P(p==="customField"?i==="edit"?an.setCustomFieldDataSchema({isEditing:!0,modifiedDataToSetForEditing:pt,uid:D.uid}):an.setCustomFieldDataSchema({customField:aj(j,["type","options"]),isEditing:!1,modifiedDataToSetForEditing:pt,uid:D.uid}):an.setAttributeDataSchema({attributeType:o,nameToSetForRelation:Kt(Je,["0","title"],"error"),targetUid:Kt(Je,["0","uid"],"error"),isEditing:i==="edit",modifiedDataToSetForEditing:pt,step:y,uid:D.uid}))}}else P(an.resetProps())},[i,s,o,u,d,h,p]);const ae=p==="contentType",me=p==="component",Z=p==="attribute",J=p==="customField",be=o==="component"&&Z,je=i==="create",Be=Kt(V,"createComponent",!1)||pe,ut=y==="1",St=p==="chooseAttribute",yt=iy(V.singularName||""),rt=Kt(D,["attributes"],null),un=async()=>{let Je;const _t=Be&&y==="1"?Kt(V,"componentToCreate",{}):V;if(ae)Je=ji.contentType.schema(Object.keys(N),i==="edit",D?.uid??null,Re,se,N);else if(me)Je=ji.component.schema(Object.keys(Te),V.category||"",Re,i==="edit",Te,V.displayName||"",D?.uid??null);else if(J)Je=ji.customField.schema({schemaAttributes:Kt(D,["attributes"],[]),attributeType:j.type,reservedNames:Re,schemaData:{modifiedData:V,initialData:S},ctbFormsAPI:se,customFieldValidator:j.options?.validator});else if(be&&Be&&ut)Je=ji.component.schema(Object.keys(Te),Kt(V,"componentToCreate.category",""),Re,i==="edit",Te,V.componentToCreate.displayName||"");else if(Z&&!ut){const en=o==="relation"?"relation":V.type;let pt=[];if(en==="relation"){const Zt=Kt(V,["target"],null);pt=Kt(N,[Zt,"attributes"],[]).filter(({name:gn})=>i!=="edit"?!0:gn!==S.targetAttribute)}Je=ji.attribute.schema(D,en,Re,pt,{modifiedData:V,initialData:S},se)}else if(ut&&Be)Je=ji.component.schema(Object.keys(Te),Kt(V,"componentToCreate.category",""),Re,i==="edit",Te,V.componentToCreate.displayName||"");else return;await Je.validate(_t,{abortEarly:!1})},bt=W.useCallback(({target:{name:Je,value:_t,type:en,...pt}})=>{const Zt=["enumName","max","min","maxLength","minLength","regex","default"];let Ht;Zt.includes(Je)&&_t===""?Ht=null:Je==="enum"?Ht=Array.isArray(_t)?_t:[_t]:Ht=_t;const gn=Object.assign({},Xe);Je==="max"&&delete gn.min,Je==="maxLength"&&delete gn.minLength,delete gn[Je],P(an.setErrors({errors:gn})),P(an.onChange({keys:Je.split("."),value:Ht}))},[P,Xe]),Tt=async(Je,_t=je)=>{try{await un(),P(an.setErrors({errors:{}})),Xr(_t);const en=v;if(ae)if(je)oe({data:{kind:g,displayName:V.displayName,draftAndPublish:V.draftAndPublish,pluginOptions:V.pluginOptions,singularName:V.singularName,pluralName:V.pluralName},uid:yt}),U({pathname:`/plugins/${di}/content-types/${yt}`}),e();else{const pt=D;SH(pt,V)?(e(),await et({uid:pt.uid,data:{displayName:V.displayName,kind:V.kind,draftAndPublish:V.draftAndPublish,pluginOptions:V.pluginOptions}})):O({type:"danger",message:X({id:"notification.contentType.relations.conflict"})});return}else if(p==="component")if(je){const pt=no(V.displayName,V.category),{category:Zt,...Ht}=V;z({data:{displayName:Ht.displayName,icon:Ht.icon},uid:pt,componentCategory:Zt}),U({pathname:`/plugins/${di}/component-categories/${Zt}/${pt}`}),e();return}else{if(ze({data:{icon:V.icon,displayName:V.displayName},componentUID:v}),D.status==="NEW"){const pt=no(V.displayName,V.category);ye({componentUID:v,newComponentUID:pt}),U({pathname:`/plugins/${di}/component-categories/${V.category}/${pt}`})}e();return}else if(J){const pt={attributeToSet:{...V,customField:c},forTarget:d,targetUid:v,name:S.name};i==="edit"?ce(pt):Ce(pt),_t?t({forTarget:d,targetUid:en}):e();return}else if(Z&&!Be){if(o==="dynamiczone"){i==="create"?x({attributeToSet:V,forTarget:d,targetUid:v}):L({attributeToSet:V,forTarget:d,targetUid:v,name:S.name}),je?(P(an.resetPropsAndSetTheFormForAddingACompoToADz()),k("basic"),n({dynamicZoneTarget:V.name})):e();return}if(!be){i==="create"?x({attributeToSet:V,forTarget:d,targetUid:v}):L({attributeToSet:V,forTarget:d,targetUid:v,name:S.name}),_t?t({forTarget:d,targetUid:en}):e();return}if(ut){r(),P(an.resetPropsAndSetFormForAddingAnExistingCompo({uid:D.uid}));return}if(i==="create")x({attributeToSet:V,forTarget:d,targetUid:v});else{const Zt={...V};(!("conditions"in V)||V.conditions===void 0)&&(Zt.conditions=void 0),L({attributeToSet:Zt,forTarget:d,targetUid:v,name:S.name})}_t?t({forTarget:d,targetUid:v}):e()}else if(Z&&Be){if(ut){Y("willCreateComponentFromAttributesModal"),P(an.resetPropsAndSaveCurrentData({uid:D.uid})),r();return}const{category:pt,...Zt}=Ye,Ht=no(Ye.displayName,pt);z({data:{icon:Zt.icon,displayName:Zt.displayName},uid:Ht,componentCategory:pt}),x({attributeToSet:V,forTarget:d,targetUid:v}),P(an.resetProps()),_t?t({forTarget:"component",targetUid:Ht}):e();return}else{if(ut)if(Be){const{category:pt,type:Zt,...Ht}=V.componentToCreate,gn=no(V.componentToCreate.displayName,pt);z({data:Ht,uid:gn,componentCategory:pt}),le({forTarget:d,targetUid:v,dynamicZoneTarget:u,componentsToAdd:[gn]}),t({forTarget:"component",targetUid:gn})}else de({forTarget:d,targetUid:v,dynamicZoneTarget:u,newComponents:V.components}),e();else console.error("This case is not handled");return}P(an.resetProps())}catch(en){if(oj.isError(en)){const pt=vZ(en);P(an.setErrors({errors:pt}))}}},dt=async(Je,_t=je)=>{if(Je.preventDefault(),re()){we({e:Je,shouldContinue:_t}),ee(!0);return}await Tt(Je,_t)},mr=()=>{window.confirm(X({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),P(an.resetProps()))},In=()=>{fo(V,S)?(e(),P(an.resetProps())):mr()},Fr=Je=>{if(Je==="advanced"){if(ae){Y("didSelectContentTypeSettings");return}d==="contentType"&&Y("didSelectContentTypeFieldSettings")}},Xr=Je=>{p==="attribute"&&d==="contentType"&&o!=="dynamiczone"&&Je&&Y("willAddMoreFieldToContentType")},Mr=()=>!!(p==="component"||sj(V,"createComponent")),Qr=EH(d,v,Ue);if(!p)return null;const Ro=Kt(ji,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Rl=d==="component",Ra={customInputs:{"allowed-types-select":bZ,"boolean-radio-group":zZ,"checkbox-with-number-field":FZ,"icon-picker":ZZ,"content-type-radio-group":MZ,"radio-group":mp,relation:Y8,"select-category":X8,"select-component":Q8,"select-components":eH,"select-default-boolean":RZ,"select-number":nH,"select-date":tH,"toggle-draft-publish":NZ,"text-plural":HZ,"text-singular":rH,"textarea-enum":oH,"condition-form":dH,...R},componentToCreate:Ye,dynamicZoneTarget:u,formErrors:Xe,isAddingAComponentToAnotherComponent:Rl,isCreatingComponentWhileAddingAField:pe,mainBoxHeader:Kt(D,["info","displayName"],""),modifiedData:V,naturePickerType:d,isCreating:je,targetUid:v,forTarget:d,contentTypeSchema:D},Oo=Ro.advanced({data:V,type:o,step:y,actionType:i,attributes:rt,extensions:se,forTarget:d,contentTypeSchema:D||{},customField:j}).sections,zo=Ro.base({data:V,type:o,step:y,actionType:i,attributes:rt,extensions:se,forTarget:d,contentTypeSchema:D||{},customField:j}).sections,Nr=kv(zo),_r=kv(Oo),Ol=Object.keys(Xe).some(Je=>Nr.includes(Je)),qi=Object.keys(Xe).some(Je=>_r.includes(Je)),Xn=Kt(N,[v,"kind"]),zl=()=>i==="edit"&&rt.every(({name:Je})=>Je!==V?.name),Fl=()=>{zl()&&Y("didEditFieldNameOnContentType"),G({type:"set_completed_actions",payload:[Bs.contentTypeBuilder.addField]})};return m.jsx(fn.Root,{open:h,onOpenChange:In,children:m.jsxs(fn.Content,{children:[m.jsxs(Li.Root,{open:C,onOpenChange:ee,children:[m.jsx(Li.Trigger,{}),m.jsx(So,{onConfirm:()=>{if(xe){const{e:Je,shouldContinue:_t}=xe;ee(!1),we(null),Tt(Je,_t)}},onCancel:()=>{ee(!1),we(null)},children:(()=>{const Je=re();if(!Je)return null;const _t=Je.map(pt=>pt.name).join(", ");if(S.enum&&V.enum){const pt=S.enum,Zt=V.enum,Ht=pt.filter(gn=>!Zt.includes(gn));return m.jsx(Me,{children:m.jsxs(Fe,{children:[X({id:"form.attribute.condition.enum-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),m.jsx(Fe,{fontWeight:"bold",children:_t}),X({id:"form.attribute.condition.enum-change-warning-values",defaultMessage:". Changing or removing the enum values "}),m.jsx(Fe,{fontWeight:"bold",children:Ht.join(", ")}),X({id:"form.attribute.condition.enum-change-warning-end",defaultMessage:" will break these conditions. Do you want to proceed?"})]})})}return m.jsx(Me,{children:m.jsxs(Fe,{children:[X({id:"form.attribute.condition.field-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),m.jsx(Fe,{fontWeight:"bold",children:_t}),X({id:"form.attribute.condition.field-change-warning-end",defaultMessage:". Renaming it will break these conditions. Do you want to proceed?"})]})})})()})]}),m.jsx($Z,{actionType:i,attributeName:s,contentTypeKind:g,dynamicZoneTarget:u,modalType:p,forTarget:d,targetUid:v,attributeType:o,customFieldUid:c,showBackLink:w}),St&&m.jsx(jZ,{attributes:Qr,forTarget:d,kind:Xn||"collectionType"}),!St&&m.jsxs(TH,{onSubmit:dt,children:[m.jsx(fn.Body,{children:m.jsxs(cr.Root,{variant:"simple",value:_,onValueChange:Je=>{k(Je),Fr(Je)},hasError:Ol?"basic":qi?"advanced":void 0,children:[m.jsxs(Ee,{justifyContent:"space-between",children:[m.jsx(LZ,{actionType:i,forTarget:d,kind:g,step:y,modalType:p,attributeType:o,attributeName:s,customField:j}),m.jsxs(cr.List,{children:[m.jsx(cr.Trigger,{value:"basic",children:X({id:ne("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),m.jsx(cr.Trigger,{value:"advanced",disabled:Mr(),children:X({id:ne("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),m.jsx(hl,{marginBottom:6}),m.jsx(cr.Content,{value:"basic",children:m.jsx(Ee,{direction:"column",alignItems:"stretch",gap:6,children:m.jsx(gv,{form:zo,formErrors:Xe,genericInputProps:Ra,modifiedData:V,onChange:bt})})}),m.jsx(cr.Content,{value:"advanced",children:m.jsx(Ee,{direction:"column",alignItems:"stretch",gap:6,children:m.jsx(gv,{form:Oo,formErrors:Xe,genericInputProps:Ra,modifiedData:V,onChange:bt})})})]})}),m.jsxs(fn.Footer,{children:[m.jsx(gt,{type:"button",variant:"tertiary",onClick:Je=>{Je.preventDefault(),In()},children:X({id:"app.components.Button.cancel",defaultMessage:"Cancel"})}),m.jsx(PZ,{deleteContentType:()=>ue(v),deleteComponent:()=>Oe(v),isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:o==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:i==="create",isCreatingDz:i==="create",isCreatingComponentAttribute:V.createComponent||!1,isCreatingComponentInDz:V.createComponent||!1,isCreatingComponentWhileAddingAField:pe,isCreatingContentType:i==="create",isEditingAttribute:i==="edit",isDzAttribute:o==="dynamiczone",isInFirstComponentStep:y==="1",onSubmitAddComponentAttribute:dt,onSubmitAddComponentToDz:dt,onSubmitCreateComponent:dt,onSubmitCreateContentType:dt,onSubmitCreateDz:dt,onSubmitEditAttribute:dt,onSubmitEditComponent:dt,onSubmitEditContentType:dt,onSubmitEditCustomFieldAttribute:dt,onSubmitEditDz:dt,onClickFinish:Fl})]})]})]})})},Cv={actionType:null,attributeName:null,attributeType:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!0,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null,activeTab:"basic"},jH=({children:e})=>{const[t,n]=W.useState(Cv),{trackUsage:r}=Sv(),{sessionId:i}=Id(),s=W.useCallback((j,P)=>{const O={...P,ctbSessionId:i};return r(j,O)},[r,i]),o=W.useCallback(({attributeType:j,customFieldUid:P})=>{n(O=>({...O,actionType:"create",modalType:"customField",attributeType:j,customFieldUid:P,activeTab:"basic"}))},[]),c=W.useCallback(({attributeType:j,step:P})=>{t.forTarget==="contentType"&&s("didSelectContentTypeFieldType",{type:j}),n(O=>({...O,actionType:"create",modalType:"attribute",step:P,attributeType:j,showBackLink:!0,activeTab:"basic"}))},[t.forTarget,s]),u=W.useCallback(({dynamicZoneTarget:j,targetUid:P})=>{n(O=>({...O,dynamicZoneTarget:j,targetUid:P,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},[]),d=W.useCallback(({forTarget:j,targetUid:P})=>{n(O=>({...O,actionType:"create",forTarget:j,targetUid:P,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1,activeTab:"basic"}))},[]),p=W.useCallback(j=>{n(P=>({...P,...j,isOpen:!0,activeTab:"basic"}))},[]),h=W.useCallback(({forTarget:j,targetUid:P,attributeName:O,attributeType:B,customFieldUid:U})=>{n(Y=>({...Y,modalType:"customField",customFieldUid:U,actionType:"edit",forTarget:j,targetUid:P,attributeName:O,attributeType:B,isOpen:!0,activeTab:"basic"}))},[]),g=W.useCallback(({forTarget:j,targetUid:P,attributeName:O,attributeType:B,step:U})=>{n(Y=>({...Y,modalType:"attribute",actionType:"edit",forTarget:j,targetUid:P,attributeName:O,attributeType:B,step:U,isOpen:!0}))},[]),y=W.useCallback(({modalType:j,forTarget:P,targetUid:O,kind:B})=>{n(U=>({...U,modalType:j,actionType:"edit",forTarget:P,targetUid:O,kind:B,isOpen:!0,activeTab:"basic"}))},[]),v=W.useCallback(()=>{n(Cv)},[]),w=W.useCallback(({forTarget:j,targetUid:P})=>{n(O=>({...O,forTarget:j,targetUid:P,modalType:"chooseAttribute",activeTab:"basic"}))},[]),_=W.useCallback(()=>{n(j=>({...j,attributeType:"component",modalType:"attribute",step:"2",activeTab:"basic"}))},[]),k=W.useCallback(({dynamicZoneTarget:j})=>{n(P=>({...P,dynamicZoneTarget:j,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null,activeTab:"basic"}))},[]),T=W.useCallback(j=>{n(P=>({...P,activeTab:j}))},[]),A=W.useMemo(()=>({...t,onClickSelectField:c,onClickSelectCustomField:o,onCloseModal:v,onNavigateToChooseAttributeModal:w,onNavigateToAddCompoToDZModal:k,onOpenModalAddComponentsToDZ:u,onNavigateToCreateComponentStep2:_,onOpenModalAddField:d,onOpenModalCreateSchema:p,onOpenModalEditField:g,onOpenModalEditCustomField:h,onOpenModalEditSchema:y,setFormModalNavigationState:n,setActiveTab:T}),[t,c,o,v,w,k,u,_,d,p,g,h,y,T]);return m.jsx(x0.Provider,{value:A,children:e})},RH=vt(Ee)`
  @container (max-width: 200px) {
    .hide-on-small {
      display: none;
    }
  }
  container-type: inline-size;
`,OH=()=>{const{formatMessage:e}=mt(),t=e({id:ne("table.content.create-first-content-type.title"),defaultMessage:"No content types"}),{isChatEnabled:n,openChat:r}=hr(),{openCodeUpload:i}=pp(),{openFigmaUpload:s}=hp();return m.jsxs(RH,{justifyContent:"center",height:"100%",width:"400px",maxWidth:"90%",margin:"auto",direction:"column",gap:6,children:[m.jsx(Uv,{width:"160px",height:"88px"}),m.jsx(Cd.contentTypeBuilder.Introduction,{children:m.jsx(Me,{})}),m.jsxs(Ee,{gap:2,alignItems:"center",direction:"column",children:[m.jsx(Fe,{variant:"beta",textAlign:"center",children:t}),m.jsx(Fe,{variant:"omega",textAlign:"center",textColor:"neutral600",children:e({id:ne("table.content.create-first-content-type.description"),defaultMessage:"Create collection types, single types and components in order to build your schema."})})]}),n&&m.jsxs(Ee,{gap:2,direction:"column",className:"hide-on-small",children:[m.jsx(gt,{startIcon:m.jsx(Sy,{}),variant:"tertiary",onClick:()=>s(!0),children:e({id:ne("table.content.create-first-content-type.import-figma"),defaultMessage:"Import from Figma"})}),m.jsx(gt,{startIcon:m.jsx(Sd,{}),variant:"tertiary",onClick:()=>i(!0),children:e({id:ne("table.content.create-first-content-type.import-code"),defaultMessage:"Import from computer"})}),m.jsx(gt,{startIcon:m.jsx(fl,{}),variant:"tertiary",onClick:r,children:e({id:ne("table.content.create-first-content-type.start-with-prompt"),defaultMessage:"Start with a prompt"})})]})]})},Mu=W.lazy(()=>pj(()=>import("./ListView-BKc5qhEv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),zH=()=>{const{formatMessage:e}=mt(),t=e({id:`${di}.plugin.name`,defaultMessage:"Content Types Builder"}),n=Kr("DataManagerProvider",o=>o.autoReload),r=jv(),i=Di("ContentTypeBuilderApp",o=>o.state),s=Di("ContentTypeBuilderApp",o=>o.dispatch);return W.useEffect(()=>{H5()},[]),W.useEffect(()=>{const o=r?"ContentTypeBuilderAI":"ContentTypeBuilderNoAI";i.tours.contentTypeBuilder.tourType!==o&&s({type:"set_tour_type",payload:{tourName:"contentTypeBuilder",tourType:o}})},[r,i.tours.contentTypeBuilder.tourType,s]),m.jsxs(Xc.Protect,{permissions:lj.main,children:[m.jsx(Xc.Title,{children:t}),m.jsx(cj,{children:m.jsx(Q3,{children:m.jsx(jH,{children:m.jsxs(hZ,{children:[m.jsx(mZ,{}),m.jsx(p3,{children:m.jsxs(m.Fragment,{children:[n&&m.jsx(IH,{}),m.jsx(uj.Root,{sideNav:m.jsx(X3,{}),children:m.jsx(W.Suspense,{fallback:m.jsx(Xc.Loading,{}),children:m.jsxs(dj,{children:[m.jsx(Cs,{path:"content-types/create-content-type",element:m.jsx(OH,{})}),m.jsx(Cs,{path:"content-types/:contentTypeUid",element:m.jsx(Mu,{})}),m.jsx(Cs,{path:"component-categories/:categoryUid/:componentUid",element:m.jsx(Mu,{})}),m.jsx(Cs,{path:"*",element:m.jsx(Mu,{})})]})})}),m.jsx(G3,{})]})})]})})})})]})},UH=Object.freeze(Object.defineProperty({__proto__:null,default:zH},Symbol.toStringTag,{value:"Module"}));export{Co as A,k0 as C,LH as S,ja as a,Ea as b,BH as c,ne as g,UH as i,Yn as u};
